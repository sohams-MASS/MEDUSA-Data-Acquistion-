<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
  <title>Spinnaker C++: Polarization.cpp</title>
  <link href="tabs.css" rel="stylesheet" type="text/css"/>
  <script type="text/javascript" src="jquery.js"></script>
  <script type="text/javascript" src="dynsections.js"></script>
  <script type="text/javascript" src="ga.js"></script>
  <link href="stylesheet.css" rel="stylesheet" type="text/css" />
</head>
<body>
  <div id="top"><!-- do not remove this div! -->
  <div id="titlearea">
    <table cellspacing="0" cellpadding="0.9em" width="100%">
      <tbody>
        <tr style="height: 56px;">
          <td id="projectlogo" style="padding-left: 0.9em;text-align: left;background: #ffffff;background: linear-gradient(#002f86, #ffffff);color: #ffffff;" width="30%"><a href="https://www.flir.com/iis/machine-vision"><img alt="Logo" src="FLIR_Logo.png"/></a></td>
          <td style="padding-left: 0.5em;text-align: left;background: #002f86;background: linear-gradient(#002f86, #ffffff);color: #ffffff;" width="30%"><div id="projectname">Spinnaker C++</div></td>
          <td style="padding-right: 0.9em;text-align: right;background: #002f86;background: linear-gradient(#002f86, #ffffff);color: #ffffff;" width="30%"><div id="projectname"><span id="projectnumber">2.0.0.0</span></td>
        </tr>
      </tbody>
    </table>
  </div>
<!-- Generated by Doxygen 1.8.5 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="examples.html"><span>Examples</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">Polarization.cpp</div>  </div>
</div><!--header-->
<div class="contents">
<p><a class="el" href="_polarization_8cpp.html">Polarization.cpp</a> shows how to extract and create images from a source image of Polarized8 or BayerRGPolarized8 pixel format using methods from the ImageUtilityPolarization, ImageUtility and ImageUtilityHeatmap classes. It relies on information provided in the Enumeration, Acquisition, and NodeMapInfo examples.</p>
<p>This example demonstrates some of the methods that can be used to extract polarization quadrant images and create Stokes', AoLP, and DoLP images from the ImageUtilityPolarization class. It then demonstrates how to use some of the available methods in the ImageUtility and ImageUtilityHeatmap classes to create normalized and heatmap images.</p>
<p>Polarization is only available for polarized cameras. For more information please visit our website; <a href="https://www.flir.com/discover/iis/machine-vision/imaging-reflective-surfaces-sonys-first-polarized-sensor">https://www.flir.com/discover/iis/machine-vision/imaging-reflective-surfaces-sonys-first-polarized-sensor</a></p>
<div class="fragment"><div class="line"><span class="comment">//=============================================================================</span></div>
<div class="line"><span class="comment">// Copyright (c) 2001-2019 FLIR Systems, Inc. All Rights Reserved.</span></div>
<div class="line"><span class="comment">//</span></div>
<div class="line"><span class="comment">// This software is the confidential and proprietary information of FLIR</span></div>
<div class="line"><span class="comment">// Integrated Imaging Solutions, Inc. (&quot;Confidential Information&quot;). You</span></div>
<div class="line"><span class="comment">// shall not disclose such Confidential Information and shall use it only in</span></div>
<div class="line"><span class="comment">// accordance with the terms of the license agreement you entered into</span></div>
<div class="line"><span class="comment">// with FLIR Integrated Imaging Solutions, Inc. (FLIR).</span></div>
<div class="line"><span class="comment">//</span></div>
<div class="line"><span class="comment">// FLIR MAKES NO REPRESENTATIONS OR WARRANTIES ABOUT THE SUITABILITY OF THE</span></div>
<div class="line"><span class="comment">// SOFTWARE, EITHER EXPRESSED OR IMPLIED, INCLUDING, BUT NOT LIMITED TO, THE</span></div>
<div class="line"><span class="comment">// IMPLIED WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR</span></div>
<div class="line"><span class="comment">// PURPOSE, OR NON-INFRINGEMENT. FLIR SHALL NOT BE LIABLE FOR ANY DAMAGES</span></div>
<div class="line"><span class="comment">// SUFFERED BY LICENSEE AS A RESULT OF USING, MODIFYING OR DISTRIBUTING</span></div>
<div class="line"><span class="comment">// THIS SOFTWARE OR ITS DERIVATIVES.</span></div>
<div class="line"><span class="comment">//=============================================================================</span></div>
<div class="line"></div>
<div class="line"><span class="preprocessor">#include &quot;<a class="code" href="_spinnaker_8h.html">Spinnaker.h</a>&quot;</span></div>
<div class="line"><span class="preprocessor">#include &quot;<a class="code" href="_spinnaker_gen_api_8h.html">SpinGenApi/SpinnakerGenApi.h</a>&quot;</span></div>
<div class="line"><span class="preprocessor">#include &lt;iostream&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;string&gt;</span></div>
<div class="line"><span class="preprocessor">#include &quot;<a class="code" href="_image_utility_polarization_8h.html">ImageUtilityPolarization.h</a>&quot;</span></div>
<div class="line"><span class="preprocessor">#include &quot;<a class="code" href="_image_utility_heatmap_8h.html">ImageUtilityHeatmap.h</a>&quot;</span></div>
<div class="line"><span class="preprocessor">#include &quot;<a class="code" href="_image_utility_8h.html">ImageUtility.h</a>&quot;</span></div>
<div class="line"><span class="preprocessor">#include &lt;array&gt;</span></div>
<div class="line"></div>
<div class="line"><span class="keyword">using namespace </span>Spinnaker;</div>
<div class="line"><span class="keyword">using namespace </span>Spinnaker::GenApi;</div>
<div class="line"><span class="keyword">using namespace </span>Spinnaker::GenICam;</div>
<div class="line"><span class="keyword">using namespace </span>std;</div>
<div class="line"></div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">bool</span> <a name="a0"></a><a class="code" href="_polarization_8cpp.html#a431a6430ffa05caa063d8d19b39a2348">isPixelFormatColor</a> = <span class="keyword">false</span>;</div>
<div class="line"></div>
<div class="line"><span class="comment">// This function prints the device information of the camera from the transport</span></div>
<div class="line"><span class="comment">// layer; please see NodeMapInfo example for more in-depth comments on printing</span></div>
<div class="line"><span class="comment">// device information from the nodemap.</span></div>
<div class="line"><span class="keywordtype">int</span> <a name="a1"></a><a class="code" href="_acquisition_8cpp.html#a9a1864412533965fa228b758488637fd">PrintDeviceInfo</a>(<a name="a2"></a><a class="code" href="group___i_node_map__h.html#ga3e4a9df80b7da602af317c71c6541c71">INodeMap</a>&amp; nodeMap)</div>
<div class="line">{</div>
<div class="line">    cout &lt;&lt; endl &lt;&lt; <span class="stringliteral">&quot;*** DEVICE INFORMATION ***&quot;</span> &lt;&lt; endl &lt;&lt; endl;</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">try</span></div>
<div class="line">    {</div>
<div class="line">        FeatureList_t features;</div>
<div class="line">        <span class="keyword">const</span> <a name="_a3"></a><a class="code" href="class_spinnaker_1_1_gen_api_1_1_c_pointer.html">CCategoryPtr</a> category = nodeMap.GetNode(<span class="stringliteral">&quot;DeviceInformation&quot;</span>);</div>
<div class="line">        <span class="keywordflow">if</span> (<a name="a4"></a><a class="code" href="group___i_node__h.html#gaebc2f6f9dea95ce16a4d8f30ccfe0646">IsAvailable</a>(category) &amp;&amp; <a name="a5"></a><a class="code" href="group___i_node__h.html#gacb8a89e72218331cdb53e0a530a6a566">IsReadable</a>(category))</div>
<div class="line">        {</div>
<div class="line">            category-&gt;GetFeatures(features);</div>
<div class="line"></div>
<div class="line">            <span class="keywordflow">for</span> (FeatureList_t::const_iterator it = features.begin(); it != features.end(); ++it)</div>
<div class="line">            {</div>
<div class="line">                <span class="keyword">const</span> <a name="_a6"></a><a class="code" href="class_spinnaker_1_1_gen_api_1_1_c_pointer.html">CNodePtr</a> pfeatureNode = *it;</div>
<div class="line">                cout &lt;&lt; pfeatureNode-&gt;GetName() &lt;&lt; <span class="stringliteral">&quot; : &quot;</span>;</div>
<div class="line">                <a class="code" href="class_spinnaker_1_1_gen_api_1_1_c_pointer.html">CValuePtr</a> pValue = <span class="keyword">static_cast&lt;</span><a class="code" href="class_spinnaker_1_1_gen_api_1_1_c_pointer.html">CValuePtr</a><span class="keyword">&gt;</span>(pfeatureNode);</div>
<div class="line">                cout &lt;&lt; (<a class="code" href="group___i_node__h.html#gacb8a89e72218331cdb53e0a530a6a566">IsReadable</a>(pValue) ? pValue-&gt;ToString() : <span class="stringliteral">&quot;Node not readable&quot;</span>);</div>
<div class="line">                cout &lt;&lt; endl;</div>
<div class="line">            }</div>
<div class="line">        }</div>
<div class="line">        <span class="keywordflow">else</span></div>
<div class="line">        {</div>
<div class="line">            cout &lt;&lt; <span class="stringliteral">&quot;Device control information not available.&quot;</span> &lt;&lt; endl;</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">catch</span> (<a name="_a7"></a><a class="code" href="class_spinnaker_1_1_exception.html">Spinnaker::Exception</a>&amp; e)</div>
<div class="line">    {</div>
<div class="line">        cout &lt;&lt; <span class="stringliteral">&quot;Error: &quot;</span> &lt;&lt; e.<a name="a8"></a><a class="code" href="class_spinnaker_1_1_exception.html#aff06f49065b54a8a86e02e9a2441a8ba">what</a>() &lt;&lt; endl;</div>
<div class="line">        <span class="keywordflow">return</span> -1;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">return</span> 0;</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="comment">// This function sets the pixel format to a Polarized pixel format, and acquisition mode to single frame.</span></div>
<div class="line"><span class="keywordtype">int</span> <a name="a9"></a><a class="code" href="_polarization_8cpp.html#a6e0182ab14c06c3812cb8b8fe3864fdb">ConfigureStream</a>(<a class="code" href="group___i_node_map__h.html#ga3e4a9df80b7da602af317c71c6541c71">INodeMap</a>&amp; nodeMap)</div>
<div class="line">{</div>
<div class="line">    <span class="comment">//</span></div>
<div class="line">    <span class="comment">// Set the pixel format to Polarized8 or BayerRGPolarized8</span></div>
<div class="line">    <span class="comment">//</span></div>
<div class="line">    <span class="comment">// *** NOTES ***</span></div>
<div class="line">    <span class="comment">// Methods in the ImageUtilityPolarization class are supported for images of pixel format</span></div>
<div class="line">    <span class="comment">// Polarized8 and BayerRGPolarized8. These formats are only available on the polarized camera.</span></div>
<div class="line">    <span class="comment">// For more in-depth comments on formatting images, see the ImageFormatControl example.</span></div>
<div class="line"></div>
<div class="line">    <span class="comment">// Retrieve the enumeration node from the nodemap</span></div>
<div class="line">    <a class="code" href="class_spinnaker_1_1_gen_api_1_1_c_pointer.html">CEnumerationPtr</a> ptrPixelFormat = nodeMap.GetNode(<span class="stringliteral">&quot;PixelFormat&quot;</span>);</div>
<div class="line">    <span class="keywordflow">if</span> (<a class="code" href="group___i_node__h.html#gaebc2f6f9dea95ce16a4d8f30ccfe0646">IsAvailable</a>(ptrPixelFormat) &amp;&amp; <a name="a10"></a><a class="code" href="group___i_node__h.html#ga2f718ca036fb1f237422cd1766a0de83">IsWritable</a>(ptrPixelFormat))</div>
<div class="line">    {</div>
<div class="line">        <span class="comment">// Retrieve the desired entry node from the enumeration node</span></div>
<div class="line">        <a class="code" href="class_spinnaker_1_1_gen_api_1_1_c_pointer.html">CEnumEntryPtr</a> ptrPixelFormatPolarized8 = ptrPixelFormat-&gt;GetEntryByName(<span class="stringliteral">&quot;Polarized8&quot;</span>);</div>
<div class="line">        <a class="code" href="class_spinnaker_1_1_gen_api_1_1_c_pointer.html">CEnumEntryPtr</a> ptrPixelFormatBayerRGPolarized8 = ptrPixelFormat-&gt;GetEntryByName(<span class="stringliteral">&quot;BayerRGPolarized8&quot;</span>);</div>
<div class="line">        <span class="keywordflow">if</span> (<a class="code" href="group___i_node__h.html#gaebc2f6f9dea95ce16a4d8f30ccfe0646">IsAvailable</a>(ptrPixelFormatPolarized8) &amp;&amp; <a class="code" href="group___i_node__h.html#gacb8a89e72218331cdb53e0a530a6a566">IsReadable</a>(ptrPixelFormatPolarized8))</div>
<div class="line">        {</div>
<div class="line">            <span class="comment">// Retrieve the integer value from the entry node</span></div>
<div class="line">            <span class="keyword">const</span> int64_t pixelFormatPolarized8 = ptrPixelFormatPolarized8-&gt;GetValue();</div>
<div class="line"></div>
<div class="line">            <span class="comment">// Set integer as new value for enumeration node</span></div>
<div class="line">            ptrPixelFormat-&gt;SetIntValue(pixelFormatPolarized8);</div>
<div class="line"></div>
<div class="line">            <a class="code" href="_polarization_8cpp.html#a431a6430ffa05caa063d8d19b39a2348">isPixelFormatColor</a> = <span class="keyword">false</span>;</div>
<div class="line"></div>
<div class="line">            cout &lt;&lt; <span class="stringliteral">&quot;Pixel format set to &quot;</span> &lt;&lt; ptrPixelFormat-&gt;GetCurrentEntry()-&gt;GetSymbolic() &lt;&lt; <span class="stringliteral">&quot;...&quot;</span> &lt;&lt; endl;</div>
<div class="line">        }</div>
<div class="line">        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="group___i_node__h.html#gaebc2f6f9dea95ce16a4d8f30ccfe0646">IsAvailable</a>(ptrPixelFormatBayerRGPolarized8) &amp;&amp; <a class="code" href="group___i_node__h.html#gacb8a89e72218331cdb53e0a530a6a566">IsReadable</a>(ptrPixelFormatBayerRGPolarized8))</div>
<div class="line">        {</div>
<div class="line">            <span class="comment">// Retrieve the integer value from the entry node</span></div>
<div class="line">            <span class="keyword">const</span> int64_t pixelFormatBayerRGPolarized8 = ptrPixelFormatBayerRGPolarized8-&gt;GetValue();</div>
<div class="line"></div>
<div class="line">            <span class="comment">// Set integer as new value for enumeration node</span></div>
<div class="line">            ptrPixelFormat-&gt;SetIntValue(pixelFormatBayerRGPolarized8);</div>
<div class="line"></div>
<div class="line">            <a class="code" href="_polarization_8cpp.html#a431a6430ffa05caa063d8d19b39a2348">isPixelFormatColor</a> = <span class="keyword">true</span>;</div>
<div class="line"></div>
<div class="line">            cout &lt;&lt; <span class="stringliteral">&quot;Pixel format set to &quot;</span> &lt;&lt; ptrPixelFormat-&gt;GetCurrentEntry()-&gt;GetSymbolic() &lt;&lt; <span class="stringliteral">&quot;...&quot;</span> &lt;&lt; endl;</div>
<div class="line">        }</div>
<div class="line">        <span class="keywordflow">else</span></div>
<div class="line">        {</div>
<div class="line">            <span class="comment">// Methods in the ImageUtilityPolarization class are supported for images of</span></div>
<div class="line">            <span class="comment">// polarized pixel formats only.</span></div>
<div class="line">            cout &lt;&lt; <span class="stringliteral">&quot;Pixel format Polarized8 or BayerRGPolarized8 not available (entry retrieval). Aborting...&quot;</span> &lt;&lt; endl;</div>
<div class="line">            <span class="keywordflow">return</span> -1;</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">else</span></div>
<div class="line">    {</div>
<div class="line">        <span class="comment">// Methods in the ImageUtilityPolarization class are supported for images of</span></div>
<div class="line">        <span class="comment">// polarized pixel formats only.</span></div>
<div class="line">        cout &lt;&lt; <span class="stringliteral">&quot;Pixel format not available (enum retrieval). Aborting...&quot;</span> &lt;&lt; endl;</div>
<div class="line">        <span class="keywordflow">return</span> -1;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="comment">// Set acquisition mode to single frame</span></div>
<div class="line">    <a class="code" href="class_spinnaker_1_1_gen_api_1_1_c_pointer.html">CEnumerationPtr</a> ptrAcquisitionMode = nodeMap.GetNode(<span class="stringliteral">&quot;AcquisitionMode&quot;</span>);</div>
<div class="line">    <span class="keywordflow">if</span> (!<a class="code" href="group___i_node__h.html#gaebc2f6f9dea95ce16a4d8f30ccfe0646">IsAvailable</a>(ptrAcquisitionMode) || !<a class="code" href="group___i_node__h.html#ga2f718ca036fb1f237422cd1766a0de83">IsWritable</a>(ptrAcquisitionMode))</div>
<div class="line">    {</div>
<div class="line">        cout &lt;&lt; <span class="stringliteral">&quot;Unable to set acquisition mode to single frame (enum retrieval). Aborting...&quot;</span> &lt;&lt; endl &lt;&lt; endl;</div>
<div class="line">        <span class="keywordflow">return</span> -1;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="comment">// Retrieve entry node from enumeration node</span></div>
<div class="line">    <a class="code" href="class_spinnaker_1_1_gen_api_1_1_c_pointer.html">CEnumEntryPtr</a> ptrAcquisitionModeSingleFrame = ptrAcquisitionMode-&gt;GetEntryByName(<span class="stringliteral">&quot;SingleFrame&quot;</span>);</div>
<div class="line">    <span class="keywordflow">if</span> (!<a class="code" href="group___i_node__h.html#gaebc2f6f9dea95ce16a4d8f30ccfe0646">IsAvailable</a>(ptrAcquisitionModeSingleFrame) || !<a class="code" href="group___i_node__h.html#gacb8a89e72218331cdb53e0a530a6a566">IsReadable</a>(ptrAcquisitionModeSingleFrame))</div>
<div class="line">    {</div>
<div class="line">        cout &lt;&lt; <span class="stringliteral">&quot;Unable to set acquisition mode to single frame (entry retrieval). Aborting...&quot;</span> &lt;&lt; endl &lt;&lt; endl;</div>
<div class="line">        <span class="keywordflow">return</span> -1;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="comment">// Retrieve integer value from entry node</span></div>
<div class="line">    <span class="keyword">const</span> int64_t acquisitionModeSingleFrame = ptrAcquisitionModeSingleFrame-&gt;GetValue();</div>
<div class="line"></div>
<div class="line">    <span class="comment">// Set integer value from entry node as new value of enumeration node</span></div>
<div class="line">    ptrAcquisitionMode-&gt;SetIntValue(acquisitionModeSingleFrame);</div>
<div class="line"></div>
<div class="line">    cout &lt;&lt; <span class="stringliteral">&quot;Acquisition mode set to single frame...&quot;</span> &lt;&lt; endl;</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">return</span> 0;</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="comment">// This function saves an image and prints some information.</span></div>
<div class="line"><span class="comment">// The serial number will be prepended to the filename if it is not empty.</span></div>
<div class="line"><span class="keywordtype">int</span> <a name="a11"></a><a class="code" href="_polarization_8cpp.html#aa94d8eb949c98602d5acc4c7129a57ca">SaveImage</a>(<span class="keyword">const</span> <a name="_a12"></a><a class="code" href="class_spinnaker_1_1_image_ptr.html">ImagePtr</a>&amp; pImage, <span class="keyword">const</span> <span class="keywordtype">string</span> filename, <a name="_a13"></a><a class="code" href="class_spinnaker_1_1_gen_i_cam_1_1gcstring.html">gcstring</a>&amp; serialNumber)</div>
<div class="line">{</div>
<div class="line">    <span class="keywordflow">try</span></div>
<div class="line">    {</div>
<div class="line">        <span class="keywordtype">string</span> fullFilename;</div>
<div class="line">        <span class="keywordflow">if</span> (!serialNumber.<a name="a14"></a><a class="code" href="class_spinnaker_1_1_gen_i_cam_1_1gcstring.html#a7457bb7c5792e689e5a7525e303bb097">empty</a>())</div>
<div class="line">        {</div>
<div class="line">            <span class="comment">// Prepend the filename with the serial number</span></div>
<div class="line">            fullFilename = serialNumber.<a name="a15"></a><a class="code" href="class_spinnaker_1_1_gen_i_cam_1_1gcstring.html#a848ec46a72d9fc1a65a41db8104b99ac">c_str</a>() + filename;</div>
<div class="line">            <span class="comment">// Add a hyphen between the serial number and original filename</span></div>
<div class="line">            fullFilename.insert(serialNumber.<a name="a16"></a><a class="code" href="class_spinnaker_1_1_gen_i_cam_1_1gcstring.html#a05cd4939c7dd1f3e1518295fb3b4e6dd">length</a>(), 1, <span class="charliteral">&#39;-&#39;</span>);</div>
<div class="line">        }</div>
<div class="line">        <span class="keywordflow">else</span></div>
<div class="line">        {</div>
<div class="line">            fullFilename = filename;</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        <span class="comment">// Save the image and print image info</span></div>
<div class="line">        pImage-&gt;Save(fullFilename.c_str());</div>
<div class="line">        cout &lt;&lt; <span class="stringliteral">&quot;Image saved at &quot;</span> &lt;&lt; fullFilename &lt;&lt; endl;</div>
<div class="line">        cout &lt;&lt; <span class="stringliteral">&quot;Width = &quot;</span> &lt;&lt; pImage-&gt;GetWidth() &lt;&lt; <span class="stringliteral">&quot;, height = &quot;</span> &lt;&lt; pImage-&gt;GetHeight()</div>
<div class="line">             &lt;&lt; <span class="stringliteral">&quot;, pixel format = &quot;</span> &lt;&lt; pImage-&gt;GetPixelFormatName() &lt;&lt; endl</div>
<div class="line">             &lt;&lt; endl;</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">catch</span> (<a class="code" href="class_spinnaker_1_1_exception.html">Spinnaker::Exception</a>&amp; e)</div>
<div class="line">    {</div>
<div class="line">        cout &lt;&lt; <span class="stringliteral">&quot;Error: &quot;</span> &lt;&lt; e.<a class="code" href="class_spinnaker_1_1_exception.html#aff06f49065b54a8a86e02e9a2441a8ba">what</a>() &lt;&lt; endl;</div>
<div class="line">        <span class="keywordflow">return</span> -1;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">return</span> 0;</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="comment">// This function returns a string of the specified polarization quadrant appendage.</span></div>
<div class="line">std::string <a name="a17"></a><a class="code" href="_polarization_8cpp.html#a65e449f7ac371de9be38f6d66177bf6a">GetQuadFileNameAppendage</a>(<span class="keyword">const</span> <a class="code" href="class_spinnaker_1_1_image_utility_polarization.html#a68faf8d6805fbe9cfc9c0b1655dd1a95">ImageUtilityPolarization::PolarizationQuadrant</a> quadrant)</div>
<div class="line">{</div>
<div class="line">    <span class="keywordflow">switch</span> (quadrant)</div>
<div class="line">    {</div>
<div class="line">    <span class="keywordflow">case</span> <a name="a18"></a><a class="code" href="class_spinnaker_1_1_image_utility_polarization.html#a68faf8d6805fbe9cfc9c0b1655dd1a95a40079cf8043e64031a7cd63ccb9f770c">ImageUtilityPolarization::QUADRANT_I0</a>:</div>
<div class="line">        <span class="keywordflow">return</span> <span class="stringliteral">&quot;I0&quot;</span>;</div>
<div class="line">    <span class="keywordflow">case</span> <a name="a19"></a><a class="code" href="class_spinnaker_1_1_image_utility_polarization.html#a68faf8d6805fbe9cfc9c0b1655dd1a95adffc5c055304ba87e7dadcd51eb387e1">ImageUtilityPolarization::QUADRANT_I45</a>:</div>
<div class="line">        <span class="keywordflow">return</span> <span class="stringliteral">&quot;I45&quot;</span>;</div>
<div class="line">    <span class="keywordflow">case</span> <a name="a20"></a><a class="code" href="class_spinnaker_1_1_image_utility_polarization.html#a68faf8d6805fbe9cfc9c0b1655dd1a95a8ebecc4ad2673299420dcb8966afcf49">ImageUtilityPolarization::QUADRANT_I90</a>:</div>
<div class="line">        <span class="keywordflow">return</span> <span class="stringliteral">&quot;I90&quot;</span>;</div>
<div class="line">    <span class="keywordflow">case</span> <a name="a21"></a><a class="code" href="class_spinnaker_1_1_image_utility_polarization.html#a68faf8d6805fbe9cfc9c0b1655dd1a95a89afb0cdadb6df15ceb677b0d56a7633">ImageUtilityPolarization::QUADRANT_I135</a>:</div>
<div class="line">        <span class="keywordflow">return</span> <span class="stringliteral">&quot;I135&quot;</span>;</div>
<div class="line">    <span class="keywordflow">default</span>:</div>
<div class="line">        <span class="keywordflow">return</span> <span class="stringliteral">&quot;UNKNOWN_QUAD&quot;</span>;</div>
<div class="line">    }</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="comment">// This function creates and saves a heatmap image using the ImageUtilityHeatmap class.</span></div>
<div class="line"><span class="comment">// The function demonstrates setting the heatmap gradient and range.</span></div>
<div class="line"><span class="keywordtype">int</span> <a name="a22"></a><a class="code" href="_polarization_8cpp.html#ad0f7ca1f6616b7cde03dc7096cf78b95">CreateHeatmapImages</a>(<span class="keyword">const</span> <a class="code" href="class_spinnaker_1_1_image_ptr.html">ImagePtr</a>&amp; mono8Image, <span class="keyword">const</span> <span class="keywordtype">string</span> baseFilename, <a class="code" href="class_spinnaker_1_1_gen_i_cam_1_1gcstring.html">gcstring</a>&amp; deviceSerialNumber)</div>
<div class="line">{</div>
<div class="line">    <span class="keywordflow">try</span></div>
<div class="line">    {</div>
<div class="line">        <span class="comment">//</span></div>
<div class="line">        <span class="comment">// Set the heatmap color gradient and range.</span></div>
<div class="line">        <span class="comment">//</span></div>
<div class="line">        <span class="comment">// *** NOTES ***</span></div>
<div class="line">        <span class="comment">// By default the heatmap gradient will be set from HEATMAP_BLACK to HEATMAP_WHITE, and the</span></div>
<div class="line">        <span class="comment">// range from 0 to 100 percent radiance. Changes to the heatmap can be visualized in SpinView</span></div>
<div class="line">        <span class="comment">// using the &#39;Configure Heatmap Gradient&#39; tool when streaming with any heatmap polarization</span></div>
<div class="line">        <span class="comment">// algorithm applied.</span></div>
<div class="line">        <span class="comment">// (ex. Heatmap (AoLP)). Below are the optional functions available to modify the heatmap.</span></div>
<div class="line">        <span class="comment">//</span></div>
<div class="line">        <a name="a23"></a><a class="code" href="class_spinnaker_1_1_image_utility_heatmap.html#aa25d99a3e10bda3b17a7191385f9fd98">ImageUtilityHeatmap::SetHeatmapColorGradient</a>(</div>
<div class="line">            <a name="a24"></a><a class="code" href="class_spinnaker_1_1_image_utility_heatmap.html#a6675e82759916eb9a7896b4a5c593e87acfbe409961c2bda5a864aeccee0b2a45">ImageUtilityHeatmap::HEATMAP_BLACK</a>, <a name="a25"></a><a class="code" href="class_spinnaker_1_1_image_utility_heatmap.html#a6675e82759916eb9a7896b4a5c593e87a7311dc31c0af5291ab0ef4af3be17753">ImageUtilityHeatmap::HEATMAP_WHITE</a>);</div>
<div class="line"></div>
<div class="line">        <span class="comment">//</span></div>
<div class="line">        <span class="comment">// *** NOTES ***</span></div>
<div class="line">        <span class="comment">// The heatmap can be manipulated to focus on a portion of the calculated range (from 0 to 100%).</span></div>
<div class="line">        <span class="comment">// The radiance of the heatmap describes the percent linear polarization for DoLP images, the</span></div>
<div class="line">        <span class="comment">// degree of linear polarization for AoLP images (from -90 to 90), and the percent radiance for</span></div>
<div class="line">        <span class="comment">// Stokes&#39; parameters. Note that AoLP angles need to be expressed as a percentage of the maximum</span></div>
<div class="line">        <span class="comment">// range (-90 to 90) before being used as inputs to this function. In SpinView the percent is</span></div>
<div class="line">        <span class="comment">// shown in brackets in the range slider tool tip.</span></div>
<div class="line">        <span class="comment">// Converting from the range of (-90 to 90) deg to (0 to 100) percent is shown:</span></div>
<div class="line">        <span class="comment">//     degrees = (percent / 100) * 180 - 90</span></div>
<div class="line">        <span class="comment">//     percent = (degrees + 90) * 100 / 180</span></div>
<div class="line">        <span class="comment">//</span></div>
<div class="line">        <a name="a26"></a><a class="code" href="class_spinnaker_1_1_image_utility_heatmap.html#adc79d5404e891d301ef3d702f624395a">ImageUtilityHeatmap::SetHeatmapRange</a>(0, 100);</div>
<div class="line"></div>
<div class="line">        <span class="comment">// Create a heatmap image and save it</span></div>
<div class="line">        <span class="comment">//</span></div>
<div class="line">        <span class="comment">// *** NOTES ***</span></div>
<div class="line">        <span class="comment">// Creating heatmap images is not exclusive to polarized cameras!</span></div>
<div class="line">        <span class="comment">// Any image of pixel format Mono8 or Mono16 can be used to create a heatmap image.</span></div>
<div class="line">        <span class="comment">//</span></div>
<div class="line">        <span class="keyword">const</span> <span class="keyword">auto</span> heatmapImage = <a name="a27"></a><a class="code" href="class_spinnaker_1_1_image_utility_heatmap.html#a893dd5a651364645221d106a3d9ec208">ImageUtilityHeatmap::CreateHeatmap</a>(mono8Image);</div>
<div class="line">        <a class="code" href="_polarization_8cpp.html#aa94d8eb949c98602d5acc4c7129a57ca">SaveImage</a>(heatmapImage, (baseFilename + <span class="stringliteral">&quot;_Heatmap.jpg&quot;</span>), deviceSerialNumber);</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">catch</span> (<a class="code" href="class_spinnaker_1_1_exception.html">Spinnaker::Exception</a>&amp; e)</div>
<div class="line">    {</div>
<div class="line">        cout &lt;&lt; <span class="stringliteral">&quot;Error: &quot;</span> &lt;&lt; e.<a class="code" href="class_spinnaker_1_1_exception.html#aff06f49065b54a8a86e02e9a2441a8ba">what</a>() &lt;&lt; endl;</div>
<div class="line">        <span class="keywordflow">return</span> -1;</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">return</span> 1;</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="comment">// This function extracts polarization quadrant images using the ImageUtilityPolarization class.</span></div>
<div class="line"><span class="comment">// It then calls helper function CreateHeatmapImages on all monochrome polarization quadrant images.</span></div>
<div class="line"><span class="keywordtype">int</span> <a name="a28"></a><a class="code" href="_polarization_8cpp.html#a9577e193d69a80bff8976c265948869c">ExtractAndSavePolarQuadImages</a>(<span class="keyword">const</span> <a class="code" href="class_spinnaker_1_1_image_ptr.html">ImagePtr</a>&amp; pRawPolarizedImage, <a class="code" href="class_spinnaker_1_1_gen_i_cam_1_1gcstring.html">gcstring</a>&amp; deviceSerialNumber)</div>
<div class="line">{</div>
<div class="line">    <span class="keywordflow">try</span></div>
<div class="line">    {</div>
<div class="line">        <span class="comment">// Define an array of polarization quadrant enums to use in ExtractPolarQuadrant method</span></div>
<div class="line">        array&lt;ImageUtilityPolarization::PolarizationQuadrant, 4&gt; polarizationQuadEnums = {</div>
<div class="line">            <a class="code" href="class_spinnaker_1_1_image_utility_polarization.html#a68faf8d6805fbe9cfc9c0b1655dd1a95a40079cf8043e64031a7cd63ccb9f770c">ImageUtilityPolarization::QUADRANT_I0</a>,</div>
<div class="line">            <a class="code" href="class_spinnaker_1_1_image_utility_polarization.html#a68faf8d6805fbe9cfc9c0b1655dd1a95adffc5c055304ba87e7dadcd51eb387e1">ImageUtilityPolarization::QUADRANT_I45</a>,</div>
<div class="line">            <a class="code" href="class_spinnaker_1_1_image_utility_polarization.html#a68faf8d6805fbe9cfc9c0b1655dd1a95a8ebecc4ad2673299420dcb8966afcf49">ImageUtilityPolarization::QUADRANT_I90</a>,</div>
<div class="line">            <a class="code" href="class_spinnaker_1_1_image_utility_polarization.html#a68faf8d6805fbe9cfc9c0b1655dd1a95a89afb0cdadb6df15ceb677b0d56a7633">ImageUtilityPolarization::QUADRANT_I135</a>};</div>
<div class="line"></div>
<div class="line">        <span class="keywordflow">for</span> (<span class="keyword">auto</span> polarizationQuadEnum = polarizationQuadEnums.begin();</div>
<div class="line">             polarizationQuadEnum != polarizationQuadEnums.end();</div>
<div class="line">             ++polarizationQuadEnum)</div>
<div class="line">        {</div>
<div class="line">            <span class="comment">// Save a string that describes the image being saved</span></div>
<div class="line">            <span class="keyword">const</span> <span class="keywordtype">string</span> quadrantName = <span class="stringliteral">&quot;Quadrant_&quot;</span> + <a class="code" href="_polarization_8cpp.html#a65e449f7ac371de9be38f6d66177bf6a">GetQuadFileNameAppendage</a>(*polarizationQuadEnum);</div>
<div class="line"></div>
<div class="line">            <span class="comment">// Extract the polarization quadrant image and save it</span></div>
<div class="line">            <span class="comment">//</span></div>
<div class="line">            <span class="comment">// *** NOTES ***</span></div>
<div class="line">            <span class="comment">// Polarization quadrant images are unaltered source data extracted into images that</span></div>
<div class="line">            <span class="comment">// represent all pixels with a polarizing filter of the specified orientation.</span></div>
<div class="line">            <span class="comment">// i.e. 0 deg polarization = QUADRANT_I0.</span></div>
<div class="line">            <span class="comment">// This means that each extracted image will be a quarter the size of the source image,</span></div>
<div class="line">            <span class="comment">// as each type of polarizing filter covers a fourth of the sensors photodiodes.</span></div>
<div class="line">            <span class="comment">// Polarization quadrant images are extracted as Mono8 and BayerRG8 for monochrome and</span></div>
<div class="line">            <span class="comment">// color cameras respectively.</span></div>
<div class="line">            <span class="comment">//</span></div>
<div class="line">            <span class="keyword">const</span> <span class="keyword">auto</span> polarizationQuadImage =</div>
<div class="line">                <a name="a29"></a><a class="code" href="class_spinnaker_1_1_image_utility_polarization.html#ae28a5f1d95065846e840c444ba9c4f46">ImageUtilityPolarization::ExtractPolarQuadrant</a>(pRawPolarizedImage, *polarizationQuadEnum);</div>
<div class="line">            <a class="code" href="_polarization_8cpp.html#aa94d8eb949c98602d5acc4c7129a57ca">SaveImage</a>(polarizationQuadImage, (quadrantName + <span class="stringliteral">&quot;.jpg&quot;</span>), deviceSerialNumber);</div>
<div class="line"></div>
<div class="line">            <span class="comment">// Save heatmap images for each Mono8 polarization quadrant images.</span></div>
<div class="line">            <span class="keywordflow">if</span> (!<a class="code" href="_polarization_8cpp.html#a431a6430ffa05caa063d8d19b39a2348">isPixelFormatColor</a>)</div>
<div class="line">            {</div>
<div class="line">                <a class="code" href="_polarization_8cpp.html#ad0f7ca1f6616b7cde03dc7096cf78b95">CreateHeatmapImages</a>(polarizationQuadImage, quadrantName, deviceSerialNumber);</div>
<div class="line">            }</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">catch</span> (<a class="code" href="class_spinnaker_1_1_exception.html">Spinnaker::Exception</a>&amp; e)</div>
<div class="line">    {</div>
<div class="line">        cout &lt;&lt; <span class="stringliteral">&quot;Error: &quot;</span> &lt;&lt; e.<a class="code" href="class_spinnaker_1_1_exception.html#aff06f49065b54a8a86e02e9a2441a8ba">what</a>() &lt;&lt; endl;</div>
<div class="line">        <span class="keywordflow">return</span> -1;</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">return</span> 1;</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="comment">// This function creates and saves an image with reduced glare using the ImageUtilityPolarization class.</span></div>
<div class="line"><span class="keywordtype">int</span> <a name="a30"></a><a class="code" href="_polarization_8cpp.html#acae9b3b972fec3416ddc9a8382828b44">CreateAndSaveGlareReducedImage</a>(<span class="keyword">const</span> <a class="code" href="class_spinnaker_1_1_image_ptr.html">ImagePtr</a>&amp; pRawPolarizedImage, <a class="code" href="class_spinnaker_1_1_gen_i_cam_1_1gcstring.html">gcstring</a>&amp; deviceSerialNumber)</div>
<div class="line">{</div>
<div class="line">    <span class="keywordflow">try</span></div>
<div class="line">    {</div>
<div class="line">        <span class="comment">// Create a glare reduced image and save it</span></div>
<div class="line">        <span class="comment">//</span></div>
<div class="line">        <span class="comment">// *** NOTES ***</span></div>
<div class="line">        <span class="comment">// When unpolarized light is incident upon a dielectric surface, the reflected portion of the light</span></div>
<div class="line">        <span class="comment">// is partially polarized according to Brewster&#39;s law. Selecting the filtered pixel that most effectively</span></div>
<div class="line">        <span class="comment">// blocks this polarized light in each pixel quadrant reduces glare in the overall image. Since one pixel</span></div>
<div class="line">        <span class="comment">// is selected from each 2x2 polarized pixel quadrant the resulting image will be a quarter of the raw</span></div>
<div class="line">        <span class="comment">// image&#39;s resolution.</span></div>
<div class="line">        <span class="comment">//</span></div>
<div class="line">        <span class="keyword">const</span> <span class="keyword">auto</span> glareReducedImage = <a name="a31"></a><a class="code" href="class_spinnaker_1_1_image_utility_polarization.html#a3c4a8bee7fb5ebf4bb9c0ec2bc39e329">ImageUtilityPolarization::CreateGlareReduced</a>(pRawPolarizedImage);</div>
<div class="line"></div>
<div class="line">        <a class="code" href="_polarization_8cpp.html#aa94d8eb949c98602d5acc4c7129a57ca">SaveImage</a>(glareReducedImage, <span class="stringliteral">&quot;Glare_Reduced.jpg&quot;</span>, deviceSerialNumber);</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">catch</span> (<a class="code" href="class_spinnaker_1_1_exception.html">Spinnaker::Exception</a>&amp; e)</div>
<div class="line">    {</div>
<div class="line">        cout &lt;&lt; <span class="stringliteral">&quot;Error: &quot;</span> &lt;&lt; e.<a class="code" href="class_spinnaker_1_1_exception.html#aff06f49065b54a8a86e02e9a2441a8ba">what</a>() &lt;&lt; endl;</div>
<div class="line">        <span class="keywordflow">return</span> -1;</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">return</span> 1;</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="comment">// This function creates and saves a normalized image using the ImageUtility class.</span></div>
<div class="line"><span class="comment">// Monochrome and color images are normalized to Pixelformat_Mono8 and PixelFormat_RGB8 respectively</span></div>
<div class="line"><span class="keywordtype">int</span> <a name="a32"></a><a class="code" href="_polarization_8cpp.html#af2bbbcfdd8627615556be8eb12994780">CreateNormalizedImage</a>(</div>
<div class="line">    <span class="keyword">const</span> <a class="code" href="class_spinnaker_1_1_image_ptr.html">ImagePtr</a>&amp; imageToNormalize,</div>
<div class="line">    <span class="keyword">const</span> <span class="keywordtype">string</span> baseFilename,</div>
<div class="line">    <a class="code" href="class_spinnaker_1_1_gen_i_cam_1_1gcstring.html">gcstring</a>&amp; deviceSerialNumber,</div>
<div class="line">    <a class="code" href="class_spinnaker_1_1_image_utility.html#a95c95c8df5e05168415776c3a410d297">ImageUtility::SourceDataRange</a> srcDataRange = <a name="a33"></a><a class="code" href="class_spinnaker_1_1_image_utility.html#a95c95c8df5e05168415776c3a410d297a5c21d2f421dfeabaddd024c14b06d791">ImageUtility::IMAGE_DATA_RANGE</a>)</div>
<div class="line">{</div>
<div class="line">    <span class="keywordflow">try</span></div>
<div class="line">    {</div>
<div class="line">        <span class="comment">// Create a normalized image</span></div>
<div class="line">        <span class="comment">//</span></div>
<div class="line">        <span class="comment">// *** NOTES ***</span></div>
<div class="line">        <span class="comment">// Creating normalized images is not exclusive to polarized cameras!</span></div>
<div class="line">        <span class="comment">// Any image with image data (pixel format) of type of char, short, or float can be used to</span></div>
<div class="line">        <span class="comment">// create a normalized image.</span></div>
<div class="line">        <span class="comment">//</span></div>
<div class="line">        <span class="keyword">const</span> <span class="keyword">auto</span> normalizedImage = <a name="a34"></a><a class="code" href="class_spinnaker_1_1_image_utility.html#aec6499302d8b303cf24ad9df736368af">ImageUtility::CreateNormalized</a>(</div>
<div class="line">            imageToNormalize, <a class="code" href="_polarization_8cpp.html#a431a6430ffa05caa063d8d19b39a2348">isPixelFormatColor</a> ? <a name="a35"></a><a class="code" href="group___camera_defs__h.html#ggabd5af55aaa20bcb0644c46241c2cbad1ad7dbb8c5ab2744700e3f37da407ae263">PixelFormat_RGB8</a> : <a name="a36"></a><a class="code" href="group___camera_defs__h.html#ggabd5af55aaa20bcb0644c46241c2cbad1aab73a79118b4db06f577b5e2563d7246">PixelFormat_Mono8</a>, srcDataRange);</div>
<div class="line">        <a class="code" href="_polarization_8cpp.html#aa94d8eb949c98602d5acc4c7129a57ca">SaveImage</a>(normalizedImage, (baseFilename + <span class="stringliteral">&quot;_Normalized.jpg&quot;</span>), deviceSerialNumber);</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">catch</span> (<a class="code" href="class_spinnaker_1_1_exception.html">Spinnaker::Exception</a>&amp; e)</div>
<div class="line">    {</div>
<div class="line">        cout &lt;&lt; <span class="stringliteral">&quot;Error: &quot;</span> &lt;&lt; e.<a class="code" href="class_spinnaker_1_1_exception.html#aff06f49065b54a8a86e02e9a2441a8ba">what</a>() &lt;&lt; endl;</div>
<div class="line">        <span class="keywordflow">return</span> -1;</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">return</span> 1;</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="comment">// This function creates and saves raw and normalized Stokes&#39; images using the</span></div>
<div class="line"><span class="comment">// ImageUtilityPolarization class.</span></div>
<div class="line"><span class="keywordtype">int</span> <a name="a37"></a><a class="code" href="_polarization_8cpp.html#a23e8114935b342f3ae7a02ac0bf99c1c">CreateAndSaveStokesImages</a>(<span class="keyword">const</span> <a class="code" href="class_spinnaker_1_1_image_ptr.html">ImagePtr</a>&amp; pRawPolarizedImage, <a class="code" href="class_spinnaker_1_1_gen_i_cam_1_1gcstring.html">gcstring</a>&amp; deviceSerialNumber)</div>
<div class="line">{</div>
<div class="line">    <span class="keywordflow">try</span></div>
<div class="line">    {</div>
<div class="line">        <span class="comment">// Create Stokes&#39; images using the appropriate function calls</span></div>
<div class="line">        <span class="comment">//</span></div>
<div class="line">        <span class="comment">// *** NOTES ***</span></div>
<div class="line">        <span class="comment">// Stokes&#39; images add (S0) or subtract (S1, S2) polarization quadrant images. Therefore</span></div>
<div class="line">        <span class="comment">// each created image is a quarter the size of the source image.</span></div>
<div class="line">        <span class="comment">//</span></div>
<div class="line">        <span class="comment">// The algorithms are as follows:</span></div>
<div class="line">        <span class="comment">// S0 = I0  + I90  : The overall intensity of light</span></div>
<div class="line">        <span class="comment">// S1 = I0  - I90  : The difference in intensity accepted through the polarizers at 0 and 90</span></div>
<div class="line">        <span class="comment">//                   to the horizontal</span></div>
<div class="line">        <span class="comment">// S2 = I45 - I135 : The difference in intensity accepted through the polarizers at 45 and -45</span></div>
<div class="line">        <span class="comment">//                   to the horizontal</span></div>
<div class="line">        <span class="comment">//</span></div>
<div class="line">        <span class="comment">// The calculated Stokes&#39; values can range from, 0 (S0) or -255 (S1, S2), to 510 and thus are</span></div>
<div class="line">        <span class="comment">// stored with pixel formats Mono16s or RGB16s, for monochrome and color cameras respectively.</span></div>
<div class="line">        <span class="comment">// These formats can only be saved using a raw file extension.</span></div>
<div class="line">        <span class="comment">//</span></div>
<div class="line">        <span class="keyword">const</span> <span class="keyword">auto</span> stokesS0Image = <a name="a38"></a><a class="code" href="class_spinnaker_1_1_image_utility_polarization.html#a554e1de4731aa60b6092d1195ead1344">ImageUtilityPolarization::CreateStokesS0</a>(pRawPolarizedImage);</div>
<div class="line">        <span class="keyword">const</span> <span class="keyword">auto</span> stokesS1Image = <a name="a39"></a><a class="code" href="class_spinnaker_1_1_image_utility_polarization.html#afe1778912ed034b24825452010730212">ImageUtilityPolarization::CreateStokesS1</a>(pRawPolarizedImage);</div>
<div class="line">        <span class="keyword">const</span> <span class="keyword">auto</span> stokesS2Image = <a name="a40"></a><a class="code" href="class_spinnaker_1_1_image_utility_polarization.html#a4474059bf767afa9f2d1abb7e50eaf07">ImageUtilityPolarization::CreateStokesS2</a>(pRawPolarizedImage);</div>
<div class="line"></div>
<div class="line">        <span class="comment">// Add all raw Stokes&#39; images to an array</span></div>
<div class="line">        array&lt;ImagePtr, 3&gt; stokesImages = {stokesS0Image, stokesS1Image, stokesS2Image};</div>
<div class="line"></div>
<div class="line">        <span class="comment">// Save a stokes Appendage to create a descriptive filename</span></div>
<div class="line">        <span class="keywordtype">long</span> <span class="keywordtype">long</span> stokesAppendage = 0;</div>
<div class="line"></div>
<div class="line">        <span class="comment">// Loop through raw Stokes&#39; images, saving a raw and normalized copy</span></div>
<div class="line">        <span class="keywordflow">for</span> (<span class="keyword">auto</span> stokesImage = stokesImages.begin(); stokesImage != stokesImages.end(); ++stokesImage)</div>
<div class="line">        {</div>
<div class="line">            <span class="keyword">const</span> <span class="keywordtype">string</span> stokesName = <span class="stringliteral">&quot;Stokes_S&quot;</span> + to_string(stokesAppendage++);</div>
<div class="line"></div>
<div class="line">            <span class="comment">// Save the raw Stokes&#39; images</span></div>
<div class="line">            <a class="code" href="_polarization_8cpp.html#aa94d8eb949c98602d5acc4c7129a57ca">SaveImage</a>(*stokesImage, (stokesName + <span class="stringliteral">&quot;.raw&quot;</span>), deviceSerialNumber);</div>
<div class="line"></div>
<div class="line">            <span class="comment">// Create and save a normalized Stokes&#39; image</span></div>
<div class="line">            <a class="code" href="_polarization_8cpp.html#af2bbbcfdd8627615556be8eb12994780">CreateNormalizedImage</a>(</div>
<div class="line">                *stokesImage, stokesName, deviceSerialNumber, ImageUtility::SourceDataRange::ABSOLUTE_DATA_RANGE);</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">catch</span> (<a class="code" href="class_spinnaker_1_1_exception.html">Spinnaker::Exception</a>&amp; e)</div>
<div class="line">    {</div>
<div class="line">        cout &lt;&lt; <span class="stringliteral">&quot;Error: &quot;</span> &lt;&lt; e.<a class="code" href="class_spinnaker_1_1_exception.html#aff06f49065b54a8a86e02e9a2441a8ba">what</a>() &lt;&lt; endl;</div>
<div class="line">        <span class="keywordflow">return</span> -1;</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">return</span> 1;</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="comment">// This function creates and saves raw and normalized AoLP and DoLP images using the</span></div>
<div class="line"><span class="comment">// ImageUtilityPolarization class.</span></div>
<div class="line"><span class="keywordtype">int</span> <a name="a41"></a><a class="code" href="_polarization_8cpp.html#aae36f095fedcd6e5f9cdab0bb245fbc1">CreateAndSaveAolpDolpImages</a>(<span class="keyword">const</span> <a class="code" href="class_spinnaker_1_1_image_ptr.html">ImagePtr</a>&amp; pRawPolarizedImage, <a class="code" href="class_spinnaker_1_1_gen_i_cam_1_1gcstring.html">gcstring</a>&amp; deviceSerialNumber)</div>
<div class="line">{</div>
<div class="line">    <span class="keywordflow">try</span></div>
<div class="line">    {</div>
<div class="line">        <span class="comment">// Create and save AoLP and DoLP images using the appropriate function calls</span></div>
<div class="line">        <span class="comment">//</span></div>
<div class="line">        <span class="comment">// *** NOTES ***</span></div>
<div class="line">        <span class="comment">// The Angle of Linear Polarization, AoLP, and Degree of Linear Polarization, DoLP, are calculated</span></div>
<div class="line">        <span class="comment">// using Stokes&#39; values. Therefore each created image is a quarter the size of the source image.</span></div>
<div class="line">        <span class="comment">//</span></div>
<div class="line">        <span class="comment">// The algorithms are as follows:</span></div>
<div class="line">        <span class="comment">// DoLP = ((S1pow(2) + S2pow(2))pow(1/2)) / S0 : The fraction of incident light intensity in</span></div>
<div class="line">        <span class="comment">//                                               the linear polarization states</span></div>
<div class="line">        <span class="comment">// AoLP = (1/2)* arctan( S2 / S1)              : The angle at which linearly polarized light</span></div>
<div class="line">        <span class="comment">//                                               oscillates with respect to a reference axis</span></div>
<div class="line">        <span class="comment">//</span></div>
<div class="line">        <span class="comment">// The calculated AoLP will range from -90 deg to 90 deg and DoLP values will range from 0 to 1</span></div>
<div class="line">        <span class="comment">// (float). Therefore the images are stored with pixel formats Mono32f or RGB32f, for monochrome</span></div>
<div class="line">        <span class="comment">// and color cameras respectively. These formats can only be saved using a raw file extension.</span></div>
<div class="line">        <span class="comment">//</span></div>
<div class="line">        <span class="keyword">const</span> <span class="keyword">auto</span> aolpImage = <a name="a42"></a><a class="code" href="class_spinnaker_1_1_image_utility_polarization.html#aebc8354840c0e85d8673ce1b27730133">ImageUtilityPolarization::CreateAolp</a>(pRawPolarizedImage);</div>
<div class="line">        <a class="code" href="_polarization_8cpp.html#aa94d8eb949c98602d5acc4c7129a57ca">SaveImage</a>(aolpImage, <span class="stringliteral">&quot;AoLP.raw&quot;</span>, deviceSerialNumber);</div>
<div class="line"></div>
<div class="line">        <span class="keyword">const</span> <span class="keyword">auto</span> dolpImage = <a name="a43"></a><a class="code" href="class_spinnaker_1_1_image_utility_polarization.html#a2e15809aef5cd9f4123e0fc2262e556a">ImageUtilityPolarization::CreateDolp</a>(pRawPolarizedImage);</div>
<div class="line">        <a class="code" href="_polarization_8cpp.html#aa94d8eb949c98602d5acc4c7129a57ca">SaveImage</a>(dolpImage, <span class="stringliteral">&quot;DoLP.raw&quot;</span>, deviceSerialNumber);</div>
<div class="line"></div>
<div class="line">        <span class="comment">// Create and save normalized AoLP and DoLP images</span></div>
<div class="line">        <span class="keyword">const</span> <span class="keyword">auto</span> aolpNormalizedImage = <a class="code" href="class_spinnaker_1_1_image_utility.html#aec6499302d8b303cf24ad9df736368af">ImageUtility::CreateNormalized</a>(</div>
<div class="line">            aolpImage,</div>
<div class="line">            <a class="code" href="_polarization_8cpp.html#a431a6430ffa05caa063d8d19b39a2348">isPixelFormatColor</a> ? <a class="code" href="group___camera_defs__h.html#ggabd5af55aaa20bcb0644c46241c2cbad1ad7dbb8c5ab2744700e3f37da407ae263">PixelFormat_RGB8</a> : <a class="code" href="group___camera_defs__h.html#ggabd5af55aaa20bcb0644c46241c2cbad1aab73a79118b4db06f577b5e2563d7246">PixelFormat_Mono8</a>,</div>
<div class="line">            ImageUtility::SourceDataRange::ABSOLUTE_DATA_RANGE);</div>
<div class="line">        <a class="code" href="_polarization_8cpp.html#aa94d8eb949c98602d5acc4c7129a57ca">SaveImage</a>(aolpNormalizedImage, <span class="stringliteral">&quot;AoLP_Normalized.jpg&quot;</span>, deviceSerialNumber);</div>
<div class="line"></div>
<div class="line">        <span class="keyword">const</span> <span class="keyword">auto</span> dolpNormalizedImage = <a class="code" href="class_spinnaker_1_1_image_utility.html#aec6499302d8b303cf24ad9df736368af">ImageUtility::CreateNormalized</a>(</div>
<div class="line">            dolpImage,</div>
<div class="line">            <a class="code" href="_polarization_8cpp.html#a431a6430ffa05caa063d8d19b39a2348">isPixelFormatColor</a> ? <a class="code" href="group___camera_defs__h.html#ggabd5af55aaa20bcb0644c46241c2cbad1ad7dbb8c5ab2744700e3f37da407ae263">PixelFormat_RGB8</a> : <a class="code" href="group___camera_defs__h.html#ggabd5af55aaa20bcb0644c46241c2cbad1aab73a79118b4db06f577b5e2563d7246">PixelFormat_Mono8</a>,</div>
<div class="line">            ImageUtility::SourceDataRange::ABSOLUTE_DATA_RANGE);</div>
<div class="line">        <a class="code" href="_polarization_8cpp.html#aa94d8eb949c98602d5acc4c7129a57ca">SaveImage</a>(dolpNormalizedImage, <span class="stringliteral">&quot;DoLP_Normalized.jpg&quot;</span>, deviceSerialNumber);</div>
<div class="line"></div>
<div class="line">        <span class="comment">// Create and save AoLP and DoLP heatmaps for mono images</span></div>
<div class="line">        <span class="keywordflow">if</span> (!<a class="code" href="_polarization_8cpp.html#a431a6430ffa05caa063d8d19b39a2348">isPixelFormatColor</a>)</div>
<div class="line">        {</div>
<div class="line">            <a class="code" href="_polarization_8cpp.html#ad0f7ca1f6616b7cde03dc7096cf78b95">CreateHeatmapImages</a>(aolpNormalizedImage, <span class="stringliteral">&quot;AoLP&quot;</span>, deviceSerialNumber);</div>
<div class="line">            <a class="code" href="_polarization_8cpp.html#ad0f7ca1f6616b7cde03dc7096cf78b95">CreateHeatmapImages</a>(dolpNormalizedImage, <span class="stringliteral">&quot;DoLP&quot;</span>, deviceSerialNumber);</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">catch</span> (<a class="code" href="class_spinnaker_1_1_exception.html">Spinnaker::Exception</a>&amp; e)</div>
<div class="line">    {</div>
<div class="line">        cout &lt;&lt; <span class="stringliteral">&quot;Error: &quot;</span> &lt;&lt; e.<a class="code" href="class_spinnaker_1_1_exception.html#aff06f49065b54a8a86e02e9a2441a8ba">what</a>() &lt;&lt; endl;</div>
<div class="line">        <span class="keywordflow">return</span> -1;</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">return</span> 1;</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="comment">// This function acquires a raw polarized image and then extracts and creates images using methods from</span></div>
<div class="line"><span class="comment">// the ImageUtilityPolarization, ImageUtility and ImageUtilityHeatmap classes;</span></div>
<div class="line"><span class="comment">// please see Acquisition example for more in-depth comments on acquiring images.</span></div>
<div class="line"><span class="keywordtype">int</span> <a name="a44"></a><a class="code" href="_acquisition_8cpp.html#a2836a024d3f74c4699c84267163c70aa">AcquireImages</a>(<a name="_a45"></a><a class="code" href="class_spinnaker_1_1_camera_ptr.html">CameraPtr</a> pCam, <a class="code" href="group___i_node_map__h.html#ga3e4a9df80b7da602af317c71c6541c71">INodeMap</a>&amp; nodeMapTLDevice)</div>
<div class="line">{</div>
<div class="line">    cout &lt;&lt; endl &lt;&lt; <span class="stringliteral">&quot;*** IMAGE ACQUISITION ***&quot;</span> &lt;&lt; endl &lt;&lt; endl;</div>
<div class="line"></div>
<div class="line">    <span class="comment">// Get a polarized image from the camera and use helper functions to create and save unique images</span></div>
<div class="line">    <span class="keywordflow">try</span></div>
<div class="line">    {</div>
<div class="line">        <span class="comment">// Begin acquiring images</span></div>
<div class="line">        pCam-&gt;BeginAcquisition();</div>
<div class="line"></div>
<div class="line">        cout &lt;&lt; <span class="stringliteral">&quot;Acquiring an image from the polarized camera...&quot;</span> &lt;&lt; endl;</div>
<div class="line"></div>
<div class="line">        <span class="comment">// Retrieve device serial number for filename</span></div>
<div class="line">        <a class="code" href="class_spinnaker_1_1_gen_i_cam_1_1gcstring.html">gcstring</a> deviceSerialNumber(<span class="stringliteral">&quot;&quot;</span>);</div>
<div class="line"></div>
<div class="line">        <a class="code" href="class_spinnaker_1_1_gen_api_1_1_c_pointer.html">CStringPtr</a> ptrStringSerial = nodeMapTLDevice.GetNode(<span class="stringliteral">&quot;DeviceSerialNumber&quot;</span>);</div>
<div class="line">        <span class="keywordflow">if</span> (<a class="code" href="group___i_node__h.html#gaebc2f6f9dea95ce16a4d8f30ccfe0646">IsAvailable</a>(ptrStringSerial) &amp;&amp; <a class="code" href="group___i_node__h.html#gacb8a89e72218331cdb53e0a530a6a566">IsReadable</a>(ptrStringSerial))</div>
<div class="line">        {</div>
<div class="line">            deviceSerialNumber = ptrStringSerial-&gt;GetValue();</div>
<div class="line"></div>
<div class="line">            cout &lt;&lt; <span class="stringliteral">&quot;Device serial number retrieved as &quot;</span> &lt;&lt; deviceSerialNumber &lt;&lt; <span class="stringliteral">&quot;...&quot;</span> &lt;&lt; endl;</div>
<div class="line">        }</div>
<div class="line">        cout &lt;&lt; endl;</div>
<div class="line"></div>
<div class="line">        <span class="comment">// Retrieve the received raw image</span></div>
<div class="line">        <a class="code" href="class_spinnaker_1_1_image_ptr.html">ImagePtr</a> pRawPolarizedImage = pCam-&gt;GetNextImage(1000);</div>
<div class="line"></div>
<div class="line">        <span class="comment">// Ensure image completion</span></div>
<div class="line">        <span class="keywordflow">if</span> (pRawPolarizedImage-&gt;IsIncomplete())</div>
<div class="line">        {</div>
<div class="line">            cout &lt;&lt; <span class="stringliteral">&quot;Image incomplete with image status &quot;</span> &lt;&lt; pRawPolarizedImage-&gt;GetImageStatus() &lt;&lt; <span class="stringliteral">&quot;...&quot;</span> &lt;&lt; endl</div>
<div class="line">                 &lt;&lt; endl;</div>
<div class="line">        }</div>
<div class="line">        <span class="keywordflow">else</span></div>
<div class="line">        {</div>
<div class="line">            <span class="comment">// Save a polarized reference image</span></div>
<div class="line">            <span class="comment">//</span></div>
<div class="line">            <span class="comment">// *** NOTES ***</span></div>
<div class="line">            <span class="comment">// SaveImage prepends the serial number to the filename and save the image</span></div>
<div class="line">            <span class="comment">//</span></div>
<div class="line">            <a class="code" href="_polarization_8cpp.html#aa94d8eb949c98602d5acc4c7129a57ca">SaveImage</a>(pRawPolarizedImage, <span class="stringliteral">&quot;Raw_Polarized_Image.jpg&quot;</span>, deviceSerialNumber);</div>
<div class="line"></div>
<div class="line">            <span class="comment">// Extract and save all polarization quadrants and create heatmap images for all</span></div>
<div class="line">            <span class="comment">// monochrome images</span></div>
<div class="line">            <a class="code" href="_polarization_8cpp.html#a9577e193d69a80bff8976c265948869c">ExtractAndSavePolarQuadImages</a>(pRawPolarizedImage, deviceSerialNumber);</div>
<div class="line"></div>
<div class="line">            <span class="comment">// Create and save raw and normalized Stokes&#39; images</span></div>
<div class="line">            <a class="code" href="_polarization_8cpp.html#a23e8114935b342f3ae7a02ac0bf99c1c">CreateAndSaveStokesImages</a>(pRawPolarizedImage, deviceSerialNumber);</div>
<div class="line"></div>
<div class="line">            <span class="comment">// Create and save raw and normalized AoLP and DoLP images</span></div>
<div class="line">            <a class="code" href="_polarization_8cpp.html#aae36f095fedcd6e5f9cdab0bb245fbc1">CreateAndSaveAolpDolpImages</a>(pRawPolarizedImage, deviceSerialNumber);</div>
<div class="line"></div>
<div class="line">            <span class="comment">// Create and save an image with a simple glare reduction applied</span></div>
<div class="line">            <a class="code" href="_polarization_8cpp.html#acae9b3b972fec3416ddc9a8382828b44">CreateAndSaveGlareReducedImage</a>(pRawPolarizedImage, deviceSerialNumber);</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        <span class="comment">// Release image</span></div>
<div class="line">        pRawPolarizedImage-&gt;Release();</div>
<div class="line">        cout &lt;&lt; endl;</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">catch</span> (<a class="code" href="class_spinnaker_1_1_exception.html">Spinnaker::Exception</a>&amp; e)</div>
<div class="line">    {</div>
<div class="line">        cout &lt;&lt; <span class="stringliteral">&quot;Error: &quot;</span> &lt;&lt; e.<a class="code" href="class_spinnaker_1_1_exception.html#aff06f49065b54a8a86e02e9a2441a8ba">what</a>() &lt;&lt; endl;</div>
<div class="line">        <span class="keywordflow">return</span> -1;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="comment">// End acquisition</span></div>
<div class="line">    pCam-&gt;EndAcquisition();</div>
<div class="line">    <span class="keywordflow">return</span> 0;</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="comment">// This function acts as the body of the example; please see NodeMapInfo example</span></div>
<div class="line"><span class="comment">// for more in-depth comments on setting up cameras.</span></div>
<div class="line"><span class="keywordtype">int</span> <a name="a46"></a><a class="code" href="_acquisition_8cpp.html#a86462e15d417b9982cead96d2e8a8616">RunSingleCamera</a>(<a class="code" href="class_spinnaker_1_1_camera_ptr.html">CameraPtr</a> pCam)</div>
<div class="line">{</div>
<div class="line">    <span class="keywordtype">int</span> result = 0;</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">try</span></div>
<div class="line">    {</div>
<div class="line">        <span class="comment">// Retrieve TL device nodemap and print device information</span></div>
<div class="line">        <a class="code" href="group___i_node_map__h.html#ga3e4a9df80b7da602af317c71c6541c71">INodeMap</a>&amp; nodeMapTLDevice = pCam-&gt;GetTLDeviceNodeMap();</div>
<div class="line"></div>
<div class="line">        result = <a class="code" href="_acquisition_8cpp.html#a9a1864412533965fa228b758488637fd">PrintDeviceInfo</a>(nodeMapTLDevice);</div>
<div class="line"></div>
<div class="line">        <span class="comment">// Initialize camera</span></div>
<div class="line">        pCam-&gt;Init();</div>
<div class="line"></div>
<div class="line">        <span class="comment">// Retrieve GenICam nodemap</span></div>
<div class="line">        <a class="code" href="group___i_node_map__h.html#ga3e4a9df80b7da602af317c71c6541c71">INodeMap</a>&amp; nodeMap = pCam-&gt;GetNodeMap();</div>
<div class="line"></div>
<div class="line">        <span class="comment">// Set the pixel format and acquisition mode</span></div>
<div class="line">        <span class="keywordflow">if</span> (<a class="code" href="_polarization_8cpp.html#a6e0182ab14c06c3812cb8b8fe3864fdb">ConfigureStream</a>(nodeMap) != -1)</div>
<div class="line">        {</div>
<div class="line">            <span class="comment">// Acquire images</span></div>
<div class="line">            result = result | <a class="code" href="_acquisition_8cpp.html#a2836a024d3f74c4699c84267163c70aa">AcquireImages</a>(pCam, nodeMapTLDevice);</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        <span class="comment">// Deinitialize camera</span></div>
<div class="line">        pCam-&gt;DeInit();</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">catch</span> (<a class="code" href="class_spinnaker_1_1_exception.html">Spinnaker::Exception</a>&amp; e)</div>
<div class="line">    {</div>
<div class="line">        cout &lt;&lt; <span class="stringliteral">&quot;Error: &quot;</span> &lt;&lt; e.<a class="code" href="class_spinnaker_1_1_exception.html#aff06f49065b54a8a86e02e9a2441a8ba">what</a>() &lt;&lt; endl;</div>
<div class="line">        result = -1;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">return</span> result;</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="comment">// Example entry point; please see Enumeration example for additional</span></div>
<div class="line"><span class="comment">// comments on the steps in this function.</span></div>
<div class="line"><span class="keywordtype">int</span> <a name="a47"></a><a class="code" href="_acquisition_8cpp.html#a2c3f6775325c30275d11c6abee2db6a0">main</a>(<span class="keywordtype">int</span> <span class="comment">/*argc*/</span>, <span class="keywordtype">char</span>** <span class="comment">/*argv*/</span>)</div>
<div class="line">{</div>
<div class="line">    <span class="comment">// Since this application saves images in the current folder</span></div>
<div class="line">    <span class="comment">// we must ensure that we have permission to write to this folder.</span></div>
<div class="line">    <span class="comment">// If we do not have permission, fail right away.</span></div>
<div class="line">    FILE* tempFile = fopen(<span class="stringliteral">&quot;test.txt&quot;</span>, <span class="stringliteral">&quot;w+&quot;</span>);</div>
<div class="line">    <span class="keywordflow">if</span> (tempFile == <span class="keyword">nullptr</span>)</div>
<div class="line">    {</div>
<div class="line">        cout &lt;&lt; <span class="stringliteral">&quot;Failed to create file in current folder.  Please check &quot;</span></div>
<div class="line">                <span class="stringliteral">&quot;permissions.&quot;</span></div>
<div class="line">             &lt;&lt; endl;</div>
<div class="line">        cout &lt;&lt; <span class="stringliteral">&quot;Press Enter to exit...&quot;</span> &lt;&lt; endl;</div>
<div class="line">        getchar();</div>
<div class="line">        <span class="keywordflow">return</span> -1;</div>
<div class="line">    }</div>
<div class="line">    fclose(tempFile);</div>
<div class="line">    <span class="keyword">remove</span>(<span class="stringliteral">&quot;test.txt&quot;</span>);</div>
<div class="line"></div>
<div class="line">    <span class="keywordtype">int</span> result = 0;</div>
<div class="line"></div>
<div class="line">    <span class="comment">// Print Application Build Information</span></div>
<div class="line">    cout &lt;&lt; <span class="stringliteral">&quot;Application build date: &quot;</span> &lt;&lt; __DATE__ &lt;&lt; <span class="stringliteral">&quot; &quot;</span> &lt;&lt; __TIME__ &lt;&lt; endl &lt;&lt; endl;</div>
<div class="line"></div>
<div class="line">    <span class="comment">// Retrieve singleton reference to system object</span></div>
<div class="line">    <a name="_a48"></a><a class="code" href="class_spinnaker_1_1_system_ptr.html">SystemPtr</a> system = <a name="a49"></a><a class="code" href="class_spinnaker_1_1_system.html#a45b5dbcde6e9fdfb05e0016af82969d0">System::GetInstance</a>();</div>
<div class="line"></div>
<div class="line">    <span class="comment">// Print out current library version</span></div>
<div class="line">    <span class="keyword">const</span> <a name="_a50"></a><a class="code" href="struct_spinnaker_1_1_library_version.html">LibraryVersion</a> spinnakerLibraryVersion = system-&gt;GetLibraryVersion();</div>
<div class="line">    cout &lt;&lt; <span class="stringliteral">&quot;Spinnaker library version: &quot;</span> &lt;&lt; spinnakerLibraryVersion.<a name="a51"></a><a class="code" href="struct_spinnaker_1_1_library_version.html#a435ca80707c851bea186e73a1be5d3b9">major</a> &lt;&lt; <span class="stringliteral">&quot;.&quot;</span> &lt;&lt; spinnakerLibraryVersion.<a name="a52"></a><a class="code" href="struct_spinnaker_1_1_library_version.html#a41c0e171b65e16617977006e58fbbbc5">minor</a></div>
<div class="line">         &lt;&lt; <span class="stringliteral">&quot;.&quot;</span> &lt;&lt; spinnakerLibraryVersion.<a name="a53"></a><a class="code" href="struct_spinnaker_1_1_library_version.html#a4bfea42429249a1f65204f0c0f34704a">type</a> &lt;&lt; <span class="stringliteral">&quot;.&quot;</span> &lt;&lt; spinnakerLibraryVersion.<a name="a54"></a><a class="code" href="struct_spinnaker_1_1_library_version.html#ad263db2963cb8e231c207328372e17bb">build</a> &lt;&lt; endl</div>
<div class="line">         &lt;&lt; endl;</div>
<div class="line"></div>
<div class="line">    <span class="comment">// Retrieve list of cameras from the system</span></div>
<div class="line">    <a name="_a55"></a><a class="code" href="class_spinnaker_1_1_camera_list.html">CameraList</a> camList = system-&gt;GetCameras();</div>
<div class="line"></div>
<div class="line">    <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> numCameras = camList.<a name="a56"></a><a class="code" href="class_spinnaker_1_1_camera_list.html#a7d1646dc12416daf821f666c233d2be2">GetSize</a>();</div>
<div class="line"></div>
<div class="line">    cout &lt;&lt; <span class="stringliteral">&quot;Number of cameras detected: &quot;</span> &lt;&lt; numCameras &lt;&lt; endl &lt;&lt; endl;</div>
<div class="line"></div>
<div class="line">    <span class="comment">// Finish if there are no cameras</span></div>
<div class="line">    <span class="keywordflow">if</span> (numCameras == 0)</div>
<div class="line">    {</div>
<div class="line">        <span class="comment">// Release camera list before releasing system</span></div>
<div class="line">        camList.<a name="a57"></a><a class="code" href="class_spinnaker_1_1_camera_list.html#aa71d36872f416feaa853788a7a7a7ef8">Clear</a>();</div>
<div class="line"></div>
<div class="line">        <span class="comment">// Release system</span></div>
<div class="line">        system-&gt;ReleaseInstance();</div>
<div class="line"></div>
<div class="line">        cout &lt;&lt; <span class="stringliteral">&quot;Not enough cameras!&quot;</span> &lt;&lt; endl;</div>
<div class="line">        cout &lt;&lt; <span class="stringliteral">&quot;Done! Press Enter to exit...&quot;</span> &lt;&lt; endl;</div>
<div class="line">        getchar();</div>
<div class="line"></div>
<div class="line">        <span class="keywordflow">return</span> -1;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="comment">// Run example on each camera</span></div>
<div class="line">    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i = 0; i &lt; numCameras; i++)</div>
<div class="line">    {</div>
<div class="line">        cout &lt;&lt; endl &lt;&lt; <span class="stringliteral">&quot;Running example for camera &quot;</span> &lt;&lt; i &lt;&lt; <span class="stringliteral">&quot;...&quot;</span> &lt;&lt; endl;</div>
<div class="line"></div>
<div class="line">        result = result | <a class="code" href="_acquisition_8cpp.html#a86462e15d417b9982cead96d2e8a8616">RunSingleCamera</a>(camList.<a name="a58"></a><a class="code" href="class_spinnaker_1_1_camera_list.html#aa372308b62098bc12ad25ee02dd11a48">GetByIndex</a>(i));</div>
<div class="line"></div>
<div class="line">        cout &lt;&lt; <span class="stringliteral">&quot;Camera &quot;</span> &lt;&lt; i &lt;&lt; <span class="stringliteral">&quot; example complete...&quot;</span> &lt;&lt; endl &lt;&lt; endl;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="comment">// Release camera list before releasing system</span></div>
<div class="line">    camList.<a class="code" href="class_spinnaker_1_1_camera_list.html#aa71d36872f416feaa853788a7a7a7ef8">Clear</a>();</div>
<div class="line"></div>
<div class="line">    <span class="comment">// Release system</span></div>
<div class="line">    system-&gt;ReleaseInstance();</div>
<div class="line"></div>
<div class="line">    cout &lt;&lt; endl &lt;&lt; <span class="stringliteral">&quot;Done! Press Enter to exit...&quot;</span> &lt;&lt; endl;</div>
<div class="line">    getchar();</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">return</span> result;</div>
<div class="line">}</div>
</div><!-- fragment --> </div><!-- contents -->

  <table style="width: 100%;border-spacing: 0px 0px;border-left-style: solid;border-left-width: ;border-left-color: #8c8888;border-right-style: solid;border-right-width: ;border-right-color: #8c8888;border-top-style: solid;border-top-width: ;border-top-color: #8c8888;border-bottom-style: solid;border-bottom-width: ;border-bottom-color: #8c8888;margin-left: 0;margin-right: auto;padding: 0px">
    <col />
    <col />
    <col />
        <tbody>
            <tr>
                <td style="background-color: #8c8888;color: #ffffff;"><a class="footer" href="https://www.flir.com/support-center/rma/iis-support-request">Contact Support </a> </td>
                <td style="background-color: #8c8888;color: #ffffff;text-align: center;font-size: 16px;font-weight: bold">Spinnaker&#174; SDK Programmer's Guide and API Reference</td>
                <td style="background-color: #8c8888;color: #ffffff;text-align: right;"><address class="footer">
Wed Sep 30 2020 &#160;© <a class="footer" href="https://www.flir.com/iis/machine-vision">FLIR Integrated Imaging Solutions Inc. All rights reserved.</a></address></td>
            </tr>
        </tbody>
  </table>
</body>
</html>
