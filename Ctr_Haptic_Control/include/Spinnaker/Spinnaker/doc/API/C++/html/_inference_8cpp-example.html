<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
  <title>Spinnaker C++: Inference.cpp</title>
  <link href="tabs.css" rel="stylesheet" type="text/css"/>
  <script type="text/javascript" src="jquery.js"></script>
  <script type="text/javascript" src="dynsections.js"></script>
  <script type="text/javascript" src="ga.js"></script>
  <link href="stylesheet.css" rel="stylesheet" type="text/css" />
</head>
<body>
  <div id="top"><!-- do not remove this div! -->
  <div id="titlearea">
    <table cellspacing="0" cellpadding="0.9em" width="100%">
      <tbody>
        <tr style="height: 56px;">
          <td id="projectlogo" style="padding-left: 0.9em;text-align: left;background: #ffffff;background: linear-gradient(#002f86, #ffffff);color: #ffffff;" width="30%"><a href="https://www.flir.com/iis/machine-vision"><img alt="Logo" src="FLIR_Logo.png"/></a></td>
          <td style="padding-left: 0.5em;text-align: left;background: #002f86;background: linear-gradient(#002f86, #ffffff);color: #ffffff;" width="30%"><div id="projectname">Spinnaker C++</div></td>
          <td style="padding-right: 0.9em;text-align: right;background: #002f86;background: linear-gradient(#002f86, #ffffff);color: #ffffff;" width="30%"><div id="projectname"><span id="projectnumber">2.0.0.0</span></td>
        </tr>
      </tbody>
    </table>
  </div>
<!-- Generated by Doxygen 1.8.5 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="examples.html"><span>Examples</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">Inference.cpp</div>  </div>
</div><!--header-->
<div class="contents">
<p><a class="el" href="_inference_8cpp.html">Inference.cpp</a> shows how to perform the following:</p>
<ul>
<li>Upload custom inference neural networks to the camera (DDR or Flash)</li>
<li>Inject sample test image</li>
<li>Enable/Configure chunk data</li>
<li>Enable/Configure trigger inference ready sync</li>
<li>Acquire images</li>
<li>Display inference data from acquired image chunk data</li>
<li>Disable previously configured camera configurations</li>
</ul>
<p>Inference is only available for Firefly deep learning cameras. See the related content section on the Firefly DL product page for relevant documentation.</p>
<p><a href="https://www.flir.com/products/firefly-dl/">https://www.flir.com/products/firefly-dl/</a></p>
<p>It can also be helpful to familiarize yourself with the Acquisition, ChunkData and FileAccess_QuickSpin examples.</p>
<div class="fragment"><div class="line"><span class="comment">//=============================================================================</span></div>
<div class="line"><span class="comment">// Copyright (c) 2001-2019 FLIR Systems, Inc. All Rights Reserved.</span></div>
<div class="line"><span class="comment">//</span></div>
<div class="line"><span class="comment">// This software is the confidential and proprietary information of FLIR</span></div>
<div class="line"><span class="comment">// Integrated Imaging Solutions, Inc. (&quot;Confidential Information&quot;). You</span></div>
<div class="line"><span class="comment">// shall not disclose such Confidential Information and shall use it only in</span></div>
<div class="line"><span class="comment">// accordance with the terms of the license agreement you entered into</span></div>
<div class="line"><span class="comment">// with FLIR Integrated Imaging Solutions, Inc. (FLIR).</span></div>
<div class="line"><span class="comment">//</span></div>
<div class="line"><span class="comment">// FLIR MAKES NO REPRESENTATIONS OR WARRANTIES ABOUT THE SUITABILITY OF THE</span></div>
<div class="line"><span class="comment">// SOFTWARE, EITHER EXPRESSED OR IMPLIED, INCLUDING, BUT NOT LIMITED TO, THE</span></div>
<div class="line"><span class="comment">// IMPLIED WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR</span></div>
<div class="line"><span class="comment">// PURPOSE, OR NON-INFRINGEMENT. FLIR SHALL NOT BE LIABLE FOR ANY DAMAGES</span></div>
<div class="line"><span class="comment">// SUFFERED BY LICENSEE AS A RESULT OF USING, MODIFYING OR DISTRIBUTING</span></div>
<div class="line"><span class="comment">// THIS SOFTWARE OR ITS DERIVATIVES.</span></div>
<div class="line"><span class="comment">//=============================================================================</span></div>
<div class="line"></div>
<div class="line"><span class="preprocessor">#include &quot;<a class="code" href="_spinnaker_8h.html">Spinnaker.h</a>&quot;</span></div>
<div class="line"><span class="preprocessor">#include &quot;<a class="code" href="_spinnaker_gen_api_8h.html">SpinGenApi/SpinnakerGenApi.h</a>&quot;</span></div>
<div class="line"><span class="preprocessor">#include &quot;<a class="code" href="_chunk_data_inference_8h.html">ChunkDataInference.h</a>&quot;</span></div>
<div class="line"><span class="preprocessor">#include &lt;iostream&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;fstream&gt;</span></div>
<div class="line"></div>
<div class="line"><span class="keyword">using namespace </span>Spinnaker;</div>
<div class="line"><span class="keyword">using namespace </span>Spinnaker::GenApi;</div>
<div class="line"><span class="keyword">using namespace </span>Spinnaker::GenICam;</div>
<div class="line"><span class="keyword">using namespace </span>std;</div>
<div class="line"></div>
<div class="line"><span class="comment">// Use the following enum and global constant to select whether inference network</span></div>
<div class="line"><span class="comment">// type is Detection or Classification.</span></div>
<div class="line"><span class="keyword">enum</span> <a class="code" href="_inference_8cpp.html#ad8cd50c7cd6bbe08f204692617fb0761">InferenceNetworkType</a></div>
<div class="line">{</div>
<div class="line">    <a name="a0"></a><a class="code" href="_inference_8cpp.html#ad8cd50c7cd6bbe08f204692617fb0761a167a7ee1aabe9f27e010fff93c0ba971">DETECTION</a>,</div>
<div class="line">    <a name="a1"></a><a class="code" href="_inference_8cpp.html#ad8cd50c7cd6bbe08f204692617fb0761a99b055120b030eb3da100f590b862e59">CLASSIFICATION</a></div>
<div class="line">};</div>
<div class="line"></div>
<div class="line"><span class="keyword">const</span> <a class="code" href="_inference_8cpp.html#ad8cd50c7cd6bbe08f204692617fb0761">InferenceNetworkType</a> <a name="a2"></a><a class="code" href="_inference_8cpp.html#a5ac5c39ce86590607a6ce7fcef886fbf">chosenInferenceNetworkType</a> = <a class="code" href="_inference_8cpp.html#ad8cd50c7cd6bbe08f204692617fb0761a99b055120b030eb3da100f590b862e59">CLASSIFICATION</a>;</div>
<div class="line"></div>
<div class="line"><span class="comment">// Use the following enum and global constant to select whether uploaded inference</span></div>
<div class="line"><span class="comment">// network and injected image should be written to camera flash or DDR</span></div>
<div class="line"><span class="keyword">enum</span> <a class="code" href="_inference_8cpp.html#accf56cb373b3a55c529a818519ec1954">FileUploadPersistence</a></div>
<div class="line">{</div>
<div class="line">    <a name="a3"></a><a class="code" href="_inference_8cpp.html#accf56cb373b3a55c529a818519ec1954a01aecc12c129fc18434e5792c5e9aea7">FLASH</a>, <span class="comment">// Slower upload but data persists after power cycling the camera</span></div>
<div class="line">    <a name="a4"></a><a class="code" href="_inference_8cpp.html#accf56cb373b3a55c529a818519ec1954af5ba4f87a7fc21200aea1f42dd3eb3b4">DDR</a>    <span class="comment">// Faster upload but data clears after power cycling the camera</span></div>
<div class="line">};</div>
<div class="line"></div>
<div class="line"><span class="keyword">const</span> <a class="code" href="_inference_8cpp.html#accf56cb373b3a55c529a818519ec1954">FileUploadPersistence</a> <a name="a5"></a><a class="code" href="_inference_8cpp.html#a3d703fc96f9130ee6d7dc4f3401e6f26">chosenFileUploadPersistence</a> = <a class="code" href="_inference_8cpp.html#accf56cb373b3a55c529a818519ec1954af5ba4f87a7fc21200aea1f42dd3eb3b4">DDR</a>;</div>
<div class="line"></div>
<div class="line"><span class="comment">// The example provides two existing custom networks that can be uploaded</span></div>
<div class="line"><span class="comment">// on to the camera to demonstrate classification and detection capabilities.</span></div>
<div class="line"><span class="comment">// &quot;Network_Classification&quot; file is created with Tensorflow using a mobilenet</span></div>
<div class="line"><span class="comment">// neural network for classifying flowers.</span></div>
<div class="line"><span class="comment">// &quot;Network_Detection&quot; file is created with Caffe using mobilenet SSD network</span></div>
<div class="line"><span class="comment">// for people object detection.</span></div>
<div class="line"><span class="comment">// Note: Make sure these files exist on the system and are accessible by the example</span></div>
<div class="line"><span class="keyword">const</span> std::string <a name="a6"></a><a class="code" href="_inference_8cpp.html#a99543b40f1d6fd8c7fb5715101954467">networkFilePath</a> =</div>
<div class="line">    (<a class="code" href="_inference_8cpp.html#a5ac5c39ce86590607a6ce7fcef886fbf">chosenInferenceNetworkType</a> == <a class="code" href="_inference_8cpp.html#ad8cd50c7cd6bbe08f204692617fb0761a99b055120b030eb3da100f590b862e59">CLASSIFICATION</a> ? <span class="stringliteral">&quot;Network_Classification&quot;</span> : <span class="stringliteral">&quot;Network_Detection&quot;</span>);</div>
<div class="line"></div>
<div class="line"><span class="comment">// The example provides two raw images that can be injected into the camera</span></div>
<div class="line"><span class="comment">// to demonstrate camera inference classification and detection capabilities. Jpeg</span></div>
<div class="line"><span class="comment">// representation of the raw images can be found packaged with the example with</span></div>
<div class="line"><span class="comment">// the names &quot;Injected_Image_Classification_Daisy.jpg&quot; and &quot;Injected_Image_Detection_Aeroplane.jpg&quot;.</span></div>
<div class="line"><span class="comment">// Note: Make sure these files exist on the system and are accessible by the example</span></div>
<div class="line"><span class="keyword">const</span> std::string <a name="a7"></a><a class="code" href="_inference_8cpp.html#a6ba49d13188a753b7a1e0b981fea69a0">injectedImageFilePath</a> =</div>
<div class="line">    (<a class="code" href="_inference_8cpp.html#a5ac5c39ce86590607a6ce7fcef886fbf">chosenInferenceNetworkType</a> == <a class="code" href="_inference_8cpp.html#ad8cd50c7cd6bbe08f204692617fb0761a99b055120b030eb3da100f590b862e59">CLASSIFICATION</a> ? <span class="stringliteral">&quot;Injected_Image_Classification.raw&quot;</span></div>
<div class="line">                                                  : <span class="stringliteral">&quot;Injected_Image_Detection.raw&quot;</span>);</div>
<div class="line"></div>
<div class="line"><span class="comment">// The injected images have different ROI sizes so the camera needs to be</span></div>
<div class="line"><span class="comment">// configured to the appropriate width and height to match the injected image</span></div>
<div class="line"><span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a name="a8"></a><a class="code" href="_inference_8cpp.html#aeb9d5bbbf2725dd11ad0f34507ce702b">injectedImageWidth</a> = (<a class="code" href="_inference_8cpp.html#a5ac5c39ce86590607a6ce7fcef886fbf">chosenInferenceNetworkType</a> == <a class="code" href="_inference_8cpp.html#ad8cd50c7cd6bbe08f204692617fb0761a99b055120b030eb3da100f590b862e59">CLASSIFICATION</a> ? 640 : 720);</div>
<div class="line"><span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a name="a9"></a><a class="code" href="_inference_8cpp.html#a90f5c708ae3a3f7cba45216f677a3209">injectedImageHeight</a> = (<a class="code" href="_inference_8cpp.html#a5ac5c39ce86590607a6ce7fcef886fbf">chosenInferenceNetworkType</a> == <a class="code" href="_inference_8cpp.html#ad8cd50c7cd6bbe08f204692617fb0761a99b055120b030eb3da100f590b862e59">CLASSIFICATION</a> ? 400 : 540);</div>
<div class="line"></div>
<div class="line"><span class="comment">// The sample classification inference network file was trained with the following</span></div>
<div class="line"><span class="comment">// data set labels</span></div>
<div class="line"><span class="comment">// Note: This list should match the list of labels used during the training</span></div>
<div class="line"><span class="comment">//       stage of the network file</span></div>
<div class="line"><span class="keyword">const</span> <span class="keywordtype">char</span>* <a name="a10"></a><a class="code" href="_inference_8cpp.html#a09e6bb95ccf783c4a941e7e6cd0ee349">arrayLabelClassification</a>[] = {<span class="stringliteral">&quot;daisy&quot;</span>, <span class="stringliteral">&quot;dandelion&quot;</span>, <span class="stringliteral">&quot;roses&quot;</span>, <span class="stringliteral">&quot;sunflowers&quot;</span>, <span class="stringliteral">&quot;tulips&quot;</span>};</div>
<div class="line"><span class="keyword">const</span> std::vector&lt;std::string&gt; <a name="a11"></a><a class="code" href="_inference_8cpp.html#ae26c4bcae8f2f9e4d11d0aec74d67d04">labelClassification</a>(<a class="code" href="_inference_8cpp.html#a09e6bb95ccf783c4a941e7e6cd0ee349">arrayLabelClassification</a>, end(<a class="code" href="_inference_8cpp.html#a09e6bb95ccf783c4a941e7e6cd0ee349">arrayLabelClassification</a>));</div>
<div class="line"></div>
<div class="line"><span class="comment">// The sample detection inference network file was trained with the following</span></div>
<div class="line"><span class="comment">// data set labels</span></div>
<div class="line"><span class="comment">// Note: This list should match the list of labels used during the training</span></div>
<div class="line"><span class="comment">//       stage of the network file</span></div>
<div class="line"><span class="keyword">const</span> <span class="keywordtype">char</span>* <a name="a12"></a><a class="code" href="_inference_8cpp.html#ab064d0cc72af2176f67e67a011a3668f">arrayLabelDetection</a>[] = {<span class="stringliteral">&quot;background&quot;</span>, <span class="stringliteral">&quot;aeroplane&quot;</span>, <span class="stringliteral">&quot;bicycle&quot;</span>,   <span class="stringliteral">&quot;bird&quot;</span>,   <span class="stringliteral">&quot;boat&quot;</span>,        <span class="stringliteral">&quot;bottle&quot;</span>,</div>
<div class="line">                                     <span class="stringliteral">&quot;bus&quot;</span>,        <span class="stringliteral">&quot;car&quot;</span>,       <span class="stringliteral">&quot;cat&quot;</span>,       <span class="stringliteral">&quot;chair&quot;</span>,  <span class="stringliteral">&quot;cow&quot;</span>,         <span class="stringliteral">&quot;diningtable&quot;</span>,</div>
<div class="line">                                     <span class="stringliteral">&quot;dog&quot;</span>,        <span class="stringliteral">&quot;horse&quot;</span>,     <span class="stringliteral">&quot;motorbike&quot;</span>, <span class="stringliteral">&quot;person&quot;</span>, <span class="stringliteral">&quot;pottedplant&quot;</span>, <span class="stringliteral">&quot;sheep&quot;</span>,</div>
<div class="line">                                     <span class="stringliteral">&quot;sofa&quot;</span>,       <span class="stringliteral">&quot;train&quot;</span>,     <span class="stringliteral">&quot;monitor&quot;</span>};</div>
<div class="line"><span class="keyword">const</span> std::vector&lt;std::string&gt; <a name="a13"></a><a class="code" href="_inference_8cpp.html#a2df39f37e1f6ca33ea770ffae8dd4022">labelDetection</a>(<a class="code" href="_inference_8cpp.html#ab064d0cc72af2176f67e67a011a3668f">arrayLabelDetection</a>, end(<a class="code" href="_inference_8cpp.html#ab064d0cc72af2176f67e67a011a3668f">arrayLabelDetection</a>));</div>
<div class="line"></div>
<div class="line"><span class="comment">// This function prints the device information of the camera from the transport</span></div>
<div class="line"><span class="comment">// layer; please see NodeMapInfo example for more in-depth comments on printing</span></div>
<div class="line"><span class="comment">// device information from the nodemap.</span></div>
<div class="line"><span class="keywordtype">int</span> <a name="a14"></a><a class="code" href="_acquisition_8cpp.html#a9a1864412533965fa228b758488637fd">PrintDeviceInfo</a>(<a name="a15"></a><a class="code" href="group___i_node_map__h.html#ga3e4a9df80b7da602af317c71c6541c71">INodeMap</a>&amp; nodeMap)</div>
<div class="line">{</div>
<div class="line">    <span class="keywordtype">int</span> result = 0;</div>
<div class="line"></div>
<div class="line">    cout &lt;&lt; endl &lt;&lt; <span class="stringliteral">&quot;*** DEVICE INFORMATION ***&quot;</span> &lt;&lt; endl &lt;&lt; endl;</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">try</span></div>
<div class="line">    {</div>
<div class="line">        FeatureList_t features;</div>
<div class="line">        <span class="keyword">const</span> <a name="_a16"></a><a class="code" href="class_spinnaker_1_1_gen_api_1_1_c_pointer.html">CCategoryPtr</a> category = nodeMap.GetNode(<span class="stringliteral">&quot;DeviceInformation&quot;</span>);</div>
<div class="line">        <span class="keywordflow">if</span> (<a name="a17"></a><a class="code" href="group___i_node__h.html#gacb8a89e72218331cdb53e0a530a6a566">IsReadable</a>(category))</div>
<div class="line">        {</div>
<div class="line">            category-&gt;GetFeatures(features);</div>
<div class="line"></div>
<div class="line">            <span class="keywordflow">for</span> (FeatureList_t::const_iterator it = features.begin(); it != features.end(); ++it)</div>
<div class="line">            {</div>
<div class="line">                <a name="_a18"></a><a class="code" href="class_spinnaker_1_1_gen_api_1_1_c_pointer.html">CNodePtr</a> pfeatureNode = *it;</div>
<div class="line">                cout &lt;&lt; pfeatureNode-&gt;GetName() &lt;&lt; <span class="stringliteral">&quot; : &quot;</span>;</div>
<div class="line">                <a class="code" href="class_spinnaker_1_1_gen_api_1_1_c_pointer.html">CValuePtr</a> pValue = <span class="keyword">static_cast&lt;</span><a class="code" href="class_spinnaker_1_1_gen_api_1_1_c_pointer.html">CValuePtr</a><span class="keyword">&gt;</span>(pfeatureNode);</div>
<div class="line">                cout &lt;&lt; (<a class="code" href="group___i_node__h.html#gacb8a89e72218331cdb53e0a530a6a566">IsReadable</a>(pValue) ? pValue-&gt;ToString() : <span class="stringliteral">&quot;Node not readable&quot;</span>);</div>
<div class="line">                cout &lt;&lt; endl;</div>
<div class="line">            }</div>
<div class="line">        }</div>
<div class="line">        <span class="keywordflow">else</span></div>
<div class="line">        {</div>
<div class="line">            cout &lt;&lt; <span class="stringliteral">&quot;Device control information not available.&quot;</span> &lt;&lt; endl;</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">catch</span> (<a name="_a19"></a><a class="code" href="class_spinnaker_1_1_exception.html">Spinnaker::Exception</a>&amp; e)</div>
<div class="line">    {</div>
<div class="line">        cout &lt;&lt; <span class="stringliteral">&quot;Error: &quot;</span> &lt;&lt; e.<a name="a20"></a><a class="code" href="class_spinnaker_1_1_exception.html#aff06f49065b54a8a86e02e9a2441a8ba">what</a>() &lt;&lt; endl;</div>
<div class="line">        result = -1;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">return</span> result;</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="comment">// This function executes a file delete operation on the camera.</span></div>
<div class="line"><span class="keywordtype">bool</span> <a name="a21"></a><a class="code" href="_inference_8cpp.html#a3d152b0e57f41f8c8ac0830217bb9c3e">CameraDeleteFile</a>(<a class="code" href="group___i_node_map__h.html#ga3e4a9df80b7da602af317c71c6541c71">INodeMap</a>&amp; nodeMap)</div>
<div class="line">{</div>
<div class="line">    <span class="keywordtype">bool</span> result = <span class="keyword">true</span>;</div>
<div class="line"></div>
<div class="line">    <a class="code" href="class_spinnaker_1_1_gen_api_1_1_c_pointer.html">CIntegerPtr</a> ptrFileSize = nodeMap.GetNode(<span class="stringliteral">&quot;FileSize&quot;</span>);</div>
<div class="line">    <span class="keywordflow">if</span> (!<a class="code" href="group___i_node__h.html#gacb8a89e72218331cdb53e0a530a6a566">IsReadable</a>(ptrFileSize))</div>
<div class="line">    {</div>
<div class="line">        cout &lt;&lt; <span class="stringliteral">&quot;Unable to query FileSize. Aborting...&quot;</span> &lt;&lt; endl;</div>
<div class="line">        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">if</span> (ptrFileSize-&gt;GetValue() == 0)</div>
<div class="line">    {</div>
<div class="line">        <span class="comment">// No file uploaded yet, skip delete</span></div>
<div class="line">        cout &lt;&lt; <span class="stringliteral">&quot;No files found, skipping file deletion.&quot;</span> &lt;&lt; endl;</div>
<div class="line">        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    cout &lt;&lt; <span class="stringliteral">&quot;Deleting file...&quot;</span> &lt;&lt; endl;</div>
<div class="line">    <span class="keywordflow">try</span></div>
<div class="line">    {</div>
<div class="line">        <a class="code" href="class_spinnaker_1_1_gen_api_1_1_c_pointer.html">CEnumerationPtr</a> ptrFileOperationSelector = nodeMap.GetNode(<span class="stringliteral">&quot;FileOperationSelector&quot;</span>);</div>
<div class="line">        <span class="keywordflow">if</span> (!<a name="a22"></a><a class="code" href="group___i_node__h.html#ga2f718ca036fb1f237422cd1766a0de83">IsWritable</a>(ptrFileOperationSelector))</div>
<div class="line">        {</div>
<div class="line">            cout &lt;&lt; <span class="stringliteral">&quot;Unable to configure FileOperationSelector. Aborting...&quot;</span> &lt;&lt; endl;</div>
<div class="line">            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        <a class="code" href="class_spinnaker_1_1_gen_api_1_1_c_pointer.html">CEnumEntryPtr</a> ptrFileOperationDelete = ptrFileOperationSelector-&gt;GetEntryByName(<span class="stringliteral">&quot;Delete&quot;</span>);</div>
<div class="line">        <span class="keywordflow">if</span> (!<a class="code" href="group___i_node__h.html#gacb8a89e72218331cdb53e0a530a6a566">IsReadable</a>(ptrFileOperationDelete))</div>
<div class="line">        {</div>
<div class="line">            cout &lt;&lt; <span class="stringliteral">&quot;Unable to configure FileOperationSelector Delete. Aborting...&quot;</span> &lt;&lt; endl;</div>
<div class="line">            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        ptrFileOperationSelector-&gt;SetIntValue(static_cast&lt;int64_t&gt;(ptrFileOperationDelete-&gt;GetNumericValue()));</div>
<div class="line"></div>
<div class="line">        <a class="code" href="class_spinnaker_1_1_gen_api_1_1_c_pointer.html">CCommandPtr</a> ptrFileOperationExecute = nodeMap.GetNode(<span class="stringliteral">&quot;FileOperationExecute&quot;</span>);</div>
<div class="line">        <span class="keywordflow">if</span> (!<a class="code" href="group___i_node__h.html#ga2f718ca036fb1f237422cd1766a0de83">IsWritable</a>(ptrFileOperationExecute))</div>
<div class="line">        {</div>
<div class="line">            cout &lt;&lt; <span class="stringliteral">&quot;Unable to configure FileOperationExecute. Aborting...&quot;</span> &lt;&lt; endl;</div>
<div class="line">            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        ptrFileOperationExecute-&gt;Execute();</div>
<div class="line"></div>
<div class="line">        <a class="code" href="class_spinnaker_1_1_gen_api_1_1_c_pointer.html">CEnumerationPtr</a> ptrFileOperationStatus = nodeMap.GetNode(<span class="stringliteral">&quot;FileOperationStatus&quot;</span>);</div>
<div class="line">        <span class="keywordflow">if</span> (!<a class="code" href="group___i_node__h.html#gacb8a89e72218331cdb53e0a530a6a566">IsReadable</a>(ptrFileOperationStatus))</div>
<div class="line">        {</div>
<div class="line">            cout &lt;&lt; <span class="stringliteral">&quot;Unable to query FileOperationStatus. Aborting...&quot;</span> &lt;&lt; endl;</div>
<div class="line">            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        <a class="code" href="class_spinnaker_1_1_gen_api_1_1_c_pointer.html">CEnumEntryPtr</a> ptrFileOperationStatusSuccess = ptrFileOperationStatus-&gt;GetEntryByName(<span class="stringliteral">&quot;Success&quot;</span>);</div>
<div class="line">        <span class="keywordflow">if</span> (!<a class="code" href="group___i_node__h.html#gacb8a89e72218331cdb53e0a530a6a566">IsReadable</a>(ptrFileOperationStatusSuccess))</div>
<div class="line">        {</div>
<div class="line">            cout &lt;&lt; <span class="stringliteral">&quot;Unable to query FileOperationStatus Success. Aborting...&quot;</span> &lt;&lt; endl;</div>
<div class="line">            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        <span class="keywordflow">if</span> (ptrFileOperationStatus-&gt;GetCurrentEntry() != ptrFileOperationStatusSuccess)</div>
<div class="line">        {</div>
<div class="line">            cout &lt;&lt; <span class="stringliteral">&quot;Failed to delete file! File Operation Status : &quot;</span></div>
<div class="line">                 &lt;&lt; ptrFileOperationStatus-&gt;GetCurrentEntry()-&gt;GetSymbolic() &lt;&lt; endl;</div>
<div class="line">            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">catch</span> (<a class="code" href="class_spinnaker_1_1_exception.html">Spinnaker::Exception</a>&amp; e)</div>
<div class="line">    {</div>
<div class="line">        cout &lt;&lt; <span class="stringliteral">&quot;Unexpected exception : &quot;</span> &lt;&lt; e.<a class="code" href="class_spinnaker_1_1_exception.html#aff06f49065b54a8a86e02e9a2441a8ba">what</a>() &lt;&lt; endl;</div>
<div class="line">        result = <span class="keyword">false</span>;</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">return</span> result;</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="comment">// This function executes file open/write on the camera, sets the uploaded file persistence</span></div>
<div class="line"><span class="comment">// and attempt to set FileAccessLength to FileAccessBufferNode length to speed up the write.</span></div>
<div class="line"><span class="keywordtype">bool</span> <a name="a23"></a><a class="code" href="_inference_8cpp.html#a20b92035de9e5e71d2086dab3d9618e8">CameraOpenFile</a>(<a class="code" href="group___i_node_map__h.html#ga3e4a9df80b7da602af317c71c6541c71">INodeMap</a>&amp; nodeMap)</div>
<div class="line">{</div>
<div class="line">    <span class="keywordtype">bool</span> result = <span class="keyword">true</span>;</div>
<div class="line"></div>
<div class="line">    cout &lt;&lt; <span class="stringliteral">&quot;Opening file for writing...&quot;</span> &lt;&lt; endl;</div>
<div class="line">    <span class="keywordflow">try</span></div>
<div class="line">    {</div>
<div class="line">        <a class="code" href="class_spinnaker_1_1_gen_api_1_1_c_pointer.html">CEnumerationPtr</a> ptrFileOperationSelector = nodeMap.GetNode(<span class="stringliteral">&quot;FileOperationSelector&quot;</span>);</div>
<div class="line">        <span class="keywordflow">if</span> (!<a class="code" href="group___i_node__h.html#ga2f718ca036fb1f237422cd1766a0de83">IsWritable</a>(ptrFileOperationSelector))</div>
<div class="line">        {</div>
<div class="line">            cout &lt;&lt; <span class="stringliteral">&quot;Unable to configure FileOperationSelector. Aborting...&quot;</span> &lt;&lt; endl;</div>
<div class="line">            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        <a class="code" href="class_spinnaker_1_1_gen_api_1_1_c_pointer.html">CEnumEntryPtr</a> ptrFileOperationOpen = ptrFileOperationSelector-&gt;GetEntryByName(<span class="stringliteral">&quot;Open&quot;</span>);</div>
<div class="line">        <span class="keywordflow">if</span> (!<a class="code" href="group___i_node__h.html#gacb8a89e72218331cdb53e0a530a6a566">IsReadable</a>(ptrFileOperationOpen))</div>
<div class="line">        {</div>
<div class="line">            cout &lt;&lt; <span class="stringliteral">&quot;Unable to configure FileOperationSelector Open. Aborting...&quot;</span> &lt;&lt; endl;</div>
<div class="line">            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        ptrFileOperationSelector-&gt;SetIntValue(static_cast&lt;int64_t&gt;(ptrFileOperationOpen-&gt;GetNumericValue()));</div>
<div class="line"></div>
<div class="line">        <a class="code" href="class_spinnaker_1_1_gen_api_1_1_c_pointer.html">CEnumerationPtr</a> ptrFileOpenMode = nodeMap.GetNode(<span class="stringliteral">&quot;FileOpenMode&quot;</span>);</div>
<div class="line">        <span class="keywordflow">if</span> (!<a class="code" href="group___i_node__h.html#ga2f718ca036fb1f237422cd1766a0de83">IsWritable</a>(ptrFileOpenMode))</div>
<div class="line">        {</div>
<div class="line">            cout &lt;&lt; <span class="stringliteral">&quot;Unable to configure ptrFileOpenMode. Aborting...&quot;</span> &lt;&lt; endl;</div>
<div class="line">            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        <a class="code" href="class_spinnaker_1_1_gen_api_1_1_c_pointer.html">CEnumEntryPtr</a> ptrFileOpenModeWrite = ptrFileOpenMode-&gt;GetEntryByName(<span class="stringliteral">&quot;Write&quot;</span>);</div>
<div class="line">        <span class="keywordflow">if</span> (!<a class="code" href="group___i_node__h.html#gacb8a89e72218331cdb53e0a530a6a566">IsReadable</a>(ptrFileOpenModeWrite))</div>
<div class="line">        {</div>
<div class="line">            cout &lt;&lt; <span class="stringliteral">&quot;Unable to configure FileOperationSelector Write. Aborting...&quot;</span> &lt;&lt; endl;</div>
<div class="line">            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        ptrFileOpenMode-&gt;SetIntValue(static_cast&lt;int64_t&gt;(ptrFileOpenModeWrite-&gt;GetNumericValue()));</div>
<div class="line"></div>
<div class="line">        <a class="code" href="class_spinnaker_1_1_gen_api_1_1_c_pointer.html">CCommandPtr</a> ptrFileOperationExecute = nodeMap.GetNode(<span class="stringliteral">&quot;FileOperationExecute&quot;</span>);</div>
<div class="line">        <span class="keywordflow">if</span> (!<a class="code" href="group___i_node__h.html#ga2f718ca036fb1f237422cd1766a0de83">IsWritable</a>(ptrFileOperationExecute))</div>
<div class="line">        {</div>
<div class="line">            cout &lt;&lt; <span class="stringliteral">&quot;Unable to configure FileOperationExecute. Aborting...&quot;</span> &lt;&lt; endl;</div>
<div class="line">            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        ptrFileOperationExecute-&gt;Execute();</div>
<div class="line"></div>
<div class="line">        <a class="code" href="class_spinnaker_1_1_gen_api_1_1_c_pointer.html">CEnumerationPtr</a> ptrFileOperationStatus = nodeMap.GetNode(<span class="stringliteral">&quot;FileOperationStatus&quot;</span>);</div>
<div class="line">        <span class="keywordflow">if</span> (!<a class="code" href="group___i_node__h.html#gacb8a89e72218331cdb53e0a530a6a566">IsReadable</a>(ptrFileOperationStatus))</div>
<div class="line">        {</div>
<div class="line">            cout &lt;&lt; <span class="stringliteral">&quot;Unable to query FileOperationStatus. Aborting...&quot;</span> &lt;&lt; endl;</div>
<div class="line">            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        <a class="code" href="class_spinnaker_1_1_gen_api_1_1_c_pointer.html">CEnumEntryPtr</a> ptrFileOperationStatusSuccess = ptrFileOperationStatus-&gt;GetEntryByName(<span class="stringliteral">&quot;Success&quot;</span>);</div>
<div class="line">        <span class="keywordflow">if</span> (!<a class="code" href="group___i_node__h.html#gacb8a89e72218331cdb53e0a530a6a566">IsReadable</a>(ptrFileOperationStatusSuccess))</div>
<div class="line">        {</div>
<div class="line">            cout &lt;&lt; <span class="stringliteral">&quot;Unable to query FileOperationStatus Success. Aborting...&quot;</span> &lt;&lt; endl;</div>
<div class="line">            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        <span class="keywordflow">if</span> (ptrFileOperationStatus-&gt;GetCurrentEntry() != ptrFileOperationStatusSuccess)</div>
<div class="line">        {</div>
<div class="line">            cout &lt;&lt; <span class="stringliteral">&quot;Failed to open file for writing!&quot;</span> &lt;&lt; endl;</div>
<div class="line">            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        <span class="comment">// Set file upload persistence settings</span></div>
<div class="line">        <a class="code" href="class_spinnaker_1_1_gen_api_1_1_c_pointer.html">CBooleanPtr</a> ptrFileWriteToFlash = nodeMap.GetNode(<span class="stringliteral">&quot;FileWriteToFlash&quot;</span>);</div>
<div class="line">        <span class="keywordflow">if</span> (<a class="code" href="group___i_node__h.html#ga2f718ca036fb1f237422cd1766a0de83">IsWritable</a>(ptrFileWriteToFlash))</div>
<div class="line">        {</div>
<div class="line">            <span class="keywordflow">if</span> (<a class="code" href="_inference_8cpp.html#a3d703fc96f9130ee6d7dc4f3401e6f26">chosenFileUploadPersistence</a> == <a class="code" href="_inference_8cpp.html#accf56cb373b3a55c529a818519ec1954a01aecc12c129fc18434e5792c5e9aea7">FLASH</a>)</div>
<div class="line">            {</div>
<div class="line">                ptrFileWriteToFlash-&gt;SetValue(<span class="keyword">true</span>);</div>
<div class="line">                cout &lt;&lt; <span class="stringliteral">&quot;FileWriteToFlash is set to true&quot;</span> &lt;&lt; endl;</div>
<div class="line">            }</div>
<div class="line">            <span class="keywordflow">else</span></div>
<div class="line">            {</div>
<div class="line">                ptrFileWriteToFlash-&gt;SetValue(<span class="keyword">false</span>);</div>
<div class="line">                cout &lt;&lt; <span class="stringliteral">&quot;FileWriteToFlash is set to false&quot;</span> &lt;&lt; endl;</div>
<div class="line">            }</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        <span class="comment">// Attempt to set FileAccessLength to FileAccessBufferNode length to speed up the write</span></div>
<div class="line">        <a class="code" href="class_spinnaker_1_1_gen_api_1_1_c_pointer.html">CIntegerPtr</a> ptrFileAccessLength = nodeMap.GetNode(<span class="stringliteral">&quot;FileAccessLength&quot;</span>);</div>
<div class="line">        <span class="keywordflow">if</span> (!<a class="code" href="group___i_node__h.html#gacb8a89e72218331cdb53e0a530a6a566">IsReadable</a>(ptrFileAccessLength) || !<a class="code" href="group___i_node__h.html#ga2f718ca036fb1f237422cd1766a0de83">IsWritable</a>(ptrFileAccessLength))</div>
<div class="line">        {</div>
<div class="line">            cout &lt;&lt; <span class="stringliteral">&quot;Unable to query/configure FileAccessLength. Aborting...&quot;</span> &lt;&lt; endl;</div>
<div class="line">            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        <a class="code" href="class_spinnaker_1_1_gen_api_1_1_c_pointer.html">CRegisterPtr</a> ptrFileAccessBuffer = nodeMap.GetNode(<span class="stringliteral">&quot;FileAccessBuffer&quot;</span>);</div>
<div class="line">        <span class="keywordflow">if</span> (!<a class="code" href="group___i_node__h.html#gacb8a89e72218331cdb53e0a530a6a566">IsReadable</a>(ptrFileAccessBuffer))</div>
<div class="line">        {</div>
<div class="line">            cout &lt;&lt; <span class="stringliteral">&quot;Unable to query FileAccessBuffer. Aborting...&quot;</span> &lt;&lt; endl;</div>
<div class="line">            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        <span class="keywordflow">if</span> (ptrFileAccessLength-&gt;GetValue() &lt; ptrFileAccessBuffer-&gt;GetLength())</div>
<div class="line">        {</div>
<div class="line">            <span class="keywordflow">try</span></div>
<div class="line">            {</div>
<div class="line">                ptrFileAccessLength-&gt;SetValue(ptrFileAccessBuffer-&gt;GetLength());</div>
<div class="line">            }</div>
<div class="line">            <span class="keywordflow">catch</span> (<a class="code" href="class_spinnaker_1_1_exception.html">Spinnaker::Exception</a>&amp; e)</div>
<div class="line">            {</div>
<div class="line">                cout &lt;&lt; <span class="stringliteral">&quot;Unable to set FileAccessLength to FileAccessBuffer length : &quot;</span> &lt;&lt; e.<a class="code" href="class_spinnaker_1_1_exception.html#aff06f49065b54a8a86e02e9a2441a8ba">what</a>();</div>
<div class="line">            }</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        <span class="comment">// Set File Access Offset to zero</span></div>
<div class="line">        <a class="code" href="class_spinnaker_1_1_gen_api_1_1_c_pointer.html">CIntegerPtr</a> ptrFileAccessOffset = nodeMap.GetNode(<span class="stringliteral">&quot;FileAccessOffset&quot;</span>);</div>
<div class="line">        <span class="keywordflow">if</span> (!<a class="code" href="group___i_node__h.html#gacb8a89e72218331cdb53e0a530a6a566">IsReadable</a>(ptrFileAccessOffset) || !<a class="code" href="group___i_node__h.html#ga2f718ca036fb1f237422cd1766a0de83">IsWritable</a>(ptrFileAccessOffset))</div>
<div class="line">        {</div>
<div class="line">            cout &lt;&lt; <span class="stringliteral">&quot;Unable to query/configure ptrFileAccessOffset. Aborting...&quot;</span> &lt;&lt; endl;</div>
<div class="line">            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        ptrFileAccessOffset-&gt;SetValue(0);</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">catch</span> (<a class="code" href="class_spinnaker_1_1_exception.html">Spinnaker::Exception</a>&amp; e)</div>
<div class="line">    {</div>
<div class="line">        cout &lt;&lt; <span class="stringliteral">&quot;Unexpected exception : &quot;</span> &lt;&lt; e.<a class="code" href="class_spinnaker_1_1_exception.html#aff06f49065b54a8a86e02e9a2441a8ba">what</a>();</div>
<div class="line">        result = <span class="keyword">false</span>;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">return</span> result;</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="comment">// This function executes a file write operation on the camera.</span></div>
<div class="line"><span class="keywordtype">bool</span> <a name="a24"></a><a class="code" href="_inference_8cpp.html#a3e2bb8a9b4c593d167aa1ab70222d8eb">CameraWriteToFile</a>(<a class="code" href="group___i_node_map__h.html#ga3e4a9df80b7da602af317c71c6541c71">INodeMap</a>&amp; nodeMap)</div>
<div class="line">{</div>
<div class="line">    <span class="keywordtype">bool</span> result = <span class="keyword">true</span>;</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">try</span></div>
<div class="line">    {</div>
<div class="line">        <a class="code" href="class_spinnaker_1_1_gen_api_1_1_c_pointer.html">CEnumerationPtr</a> ptrFileOperationSelector = nodeMap.GetNode(<span class="stringliteral">&quot;FileOperationSelector&quot;</span>);</div>
<div class="line">        <span class="keywordflow">if</span> (!<a class="code" href="group___i_node__h.html#ga2f718ca036fb1f237422cd1766a0de83">IsWritable</a>(ptrFileOperationSelector))</div>
<div class="line">        {</div>
<div class="line">            cout &lt;&lt; <span class="stringliteral">&quot;Unable to configure FileOperationSelector. Aborting...&quot;</span> &lt;&lt; endl;</div>
<div class="line">            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        <a class="code" href="class_spinnaker_1_1_gen_api_1_1_c_pointer.html">CEnumEntryPtr</a> ptrFileOperationWrite = ptrFileOperationSelector-&gt;GetEntryByName(<span class="stringliteral">&quot;Write&quot;</span>);</div>
<div class="line">        <span class="keywordflow">if</span> (!<a class="code" href="group___i_node__h.html#gacb8a89e72218331cdb53e0a530a6a566">IsReadable</a>(ptrFileOperationWrite))</div>
<div class="line">        {</div>
<div class="line">            cout &lt;&lt; <span class="stringliteral">&quot;Unable to configure FileOperationSelector Write. Aborting...&quot;</span> &lt;&lt; endl;</div>
<div class="line">            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        ptrFileOperationSelector-&gt;SetIntValue(static_cast&lt;int64_t&gt;(ptrFileOperationWrite-&gt;GetNumericValue()));</div>
<div class="line"></div>
<div class="line">        <a class="code" href="class_spinnaker_1_1_gen_api_1_1_c_pointer.html">CCommandPtr</a> ptrFileOperationExecute = nodeMap.GetNode(<span class="stringliteral">&quot;FileOperationExecute&quot;</span>);</div>
<div class="line">        <span class="keywordflow">if</span> (!<a class="code" href="group___i_node__h.html#ga2f718ca036fb1f237422cd1766a0de83">IsWritable</a>(ptrFileOperationExecute))</div>
<div class="line">        {</div>
<div class="line">            cout &lt;&lt; <span class="stringliteral">&quot;Unable to configure FileOperationExecute. Aborting...&quot;</span> &lt;&lt; endl;</div>
<div class="line">            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        ptrFileOperationExecute-&gt;Execute();</div>
<div class="line"></div>
<div class="line">        <a class="code" href="class_spinnaker_1_1_gen_api_1_1_c_pointer.html">CEnumerationPtr</a> ptrFileOperationStatus = nodeMap.GetNode(<span class="stringliteral">&quot;FileOperationStatus&quot;</span>);</div>
<div class="line">        <span class="keywordflow">if</span> (!<a class="code" href="group___i_node__h.html#gacb8a89e72218331cdb53e0a530a6a566">IsReadable</a>(ptrFileOperationStatus))</div>
<div class="line">        {</div>
<div class="line">            cout &lt;&lt; <span class="stringliteral">&quot;Unable to query FileOperationStatus. Aborting...&quot;</span> &lt;&lt; endl;</div>
<div class="line">            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        <a class="code" href="class_spinnaker_1_1_gen_api_1_1_c_pointer.html">CEnumEntryPtr</a> ptrFileOperationStatusSuccess = ptrFileOperationStatus-&gt;GetEntryByName(<span class="stringliteral">&quot;Success&quot;</span>);</div>
<div class="line">        <span class="keywordflow">if</span> (!<a class="code" href="group___i_node__h.html#gacb8a89e72218331cdb53e0a530a6a566">IsReadable</a>(ptrFileOperationStatusSuccess))</div>
<div class="line">        {</div>
<div class="line">            cout &lt;&lt; <span class="stringliteral">&quot;Unable to query FileOperationStatus Success. Aborting...&quot;</span> &lt;&lt; endl;</div>
<div class="line">            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        <span class="keywordflow">if</span> (ptrFileOperationStatus-&gt;GetCurrentEntry() != ptrFileOperationStatusSuccess)</div>
<div class="line">        {</div>
<div class="line">            cout &lt;&lt; <span class="stringliteral">&quot;Failed to write to file!&quot;</span> &lt;&lt; endl;</div>
<div class="line">            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">catch</span> (<a class="code" href="class_spinnaker_1_1_exception.html">Spinnaker::Exception</a>&amp; e)</div>
<div class="line">    {</div>
<div class="line">        cout &lt;&lt; <span class="stringliteral">&quot;Unexpected exception : &quot;</span> &lt;&lt; e.<a class="code" href="class_spinnaker_1_1_exception.html#aff06f49065b54a8a86e02e9a2441a8ba">what</a>();</div>
<div class="line">        result = <span class="keyword">false</span>;</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">return</span> result;</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="comment">// This function executes a file close operation on the camera.</span></div>
<div class="line"><span class="keywordtype">bool</span> <a name="a25"></a><a class="code" href="_inference_8cpp.html#a4cd504bbce7f435e51a751d9f015b1da">CameraCloseFile</a>(<a class="code" href="group___i_node_map__h.html#ga3e4a9df80b7da602af317c71c6541c71">INodeMap</a>&amp; nodeMap)</div>
<div class="line">{</div>
<div class="line">    <span class="keywordtype">bool</span> result = <span class="keyword">true</span>;</div>
<div class="line"></div>
<div class="line">    cout &lt;&lt; <span class="stringliteral">&quot;Closing file...&quot;</span> &lt;&lt; endl;</div>
<div class="line">    <span class="keywordflow">try</span></div>
<div class="line">    {</div>
<div class="line">        <a class="code" href="class_spinnaker_1_1_gen_api_1_1_c_pointer.html">CEnumerationPtr</a> ptrFileOperationSelector = nodeMap.GetNode(<span class="stringliteral">&quot;FileOperationSelector&quot;</span>);</div>
<div class="line">        <span class="keywordflow">if</span> (!<a class="code" href="group___i_node__h.html#ga2f718ca036fb1f237422cd1766a0de83">IsWritable</a>(ptrFileOperationSelector))</div>
<div class="line">        {</div>
<div class="line">            cout &lt;&lt; <span class="stringliteral">&quot;Unable to configure FileOperationSelector. Aborting...&quot;</span> &lt;&lt; endl;</div>
<div class="line">            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        <a class="code" href="class_spinnaker_1_1_gen_api_1_1_c_pointer.html">CEnumEntryPtr</a> ptrFileOperationClose = ptrFileOperationSelector-&gt;GetEntryByName(<span class="stringliteral">&quot;Close&quot;</span>);</div>
<div class="line">        <span class="keywordflow">if</span> (!<a class="code" href="group___i_node__h.html#gacb8a89e72218331cdb53e0a530a6a566">IsReadable</a>(ptrFileOperationClose))</div>
<div class="line">        {</div>
<div class="line">            cout &lt;&lt; <span class="stringliteral">&quot;Unable to configure FileOperationSelector Close. Aborting...&quot;</span> &lt;&lt; endl;</div>
<div class="line">            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        ptrFileOperationSelector-&gt;SetIntValue((int64_t)ptrFileOperationClose-&gt;GetNumericValue());</div>
<div class="line"></div>
<div class="line">        <a class="code" href="class_spinnaker_1_1_gen_api_1_1_c_pointer.html">CCommandPtr</a> ptrFileOperationExecute = nodeMap.GetNode(<span class="stringliteral">&quot;FileOperationExecute&quot;</span>);</div>
<div class="line">        <span class="keywordflow">if</span> (!<a class="code" href="group___i_node__h.html#ga2f718ca036fb1f237422cd1766a0de83">IsWritable</a>(ptrFileOperationExecute))</div>
<div class="line">        {</div>
<div class="line">            cout &lt;&lt; <span class="stringliteral">&quot;Unable to configure FileOperationExecute. Aborting...&quot;</span> &lt;&lt; endl;</div>
<div class="line">            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        ptrFileOperationExecute-&gt;Execute();</div>
<div class="line"></div>
<div class="line">        <a class="code" href="class_spinnaker_1_1_gen_api_1_1_c_pointer.html">CEnumerationPtr</a> ptrFileOperationStatus = nodeMap.GetNode(<span class="stringliteral">&quot;FileOperationStatus&quot;</span>);</div>
<div class="line">        <span class="keywordflow">if</span> (!<a class="code" href="group___i_node__h.html#gacb8a89e72218331cdb53e0a530a6a566">IsReadable</a>(ptrFileOperationStatus))</div>
<div class="line">        {</div>
<div class="line">            cout &lt;&lt; <span class="stringliteral">&quot;Unable to query FileOperationStatus. Aborting...&quot;</span> &lt;&lt; endl;</div>
<div class="line">            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        <a class="code" href="class_spinnaker_1_1_gen_api_1_1_c_pointer.html">CEnumEntryPtr</a> ptrFileOperationStatusSuccess = ptrFileOperationStatus-&gt;GetEntryByName(<span class="stringliteral">&quot;Success&quot;</span>);</div>
<div class="line">        <span class="keywordflow">if</span> (!<a class="code" href="group___i_node__h.html#gacb8a89e72218331cdb53e0a530a6a566">IsReadable</a>(ptrFileOperationStatusSuccess))</div>
<div class="line">        {</div>
<div class="line">            cout &lt;&lt; <span class="stringliteral">&quot;Unable to query FileOperationStatus Success. Aborting...&quot;</span> &lt;&lt; endl;</div>
<div class="line">            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        <span class="keywordflow">if</span> (ptrFileOperationStatus-&gt;GetCurrentEntry() != ptrFileOperationStatusSuccess)</div>
<div class="line">        {</div>
<div class="line">            cout &lt;&lt; <span class="stringliteral">&quot;Failed to close file!&quot;</span> &lt;&lt; endl;</div>
<div class="line">            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">catch</span> (<a class="code" href="class_spinnaker_1_1_exception.html">Spinnaker::Exception</a>&amp; e)</div>
<div class="line">    {</div>
<div class="line">        cout &lt;&lt; <span class="stringliteral">&quot;Unexpected exception : &quot;</span> &lt;&lt; e.<a class="code" href="class_spinnaker_1_1_exception.html#aff06f49065b54a8a86e02e9a2441a8ba">what</a>();</div>
<div class="line">        result = <span class="keyword">false</span>;</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">return</span> result;</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="comment">// This function loads a file given a file path on the system into memory.</span></div>
<div class="line">std::vector&lt;char&gt; <a name="a26"></a><a class="code" href="_inference_8cpp.html#a2d590a69475822bd35951a43e5c2427b">LoadFileIntoMemory</a>(<span class="keyword">const</span> <span class="keywordtype">string</span>&amp; filename)</div>
<div class="line">{</div>
<div class="line">    ifstream ifs(filename, ios::binary | ios::ate | ios::in);</div>
<div class="line">    <span class="keywordflow">if</span> (ifs.fail())</div>
<div class="line">    {</div>
<div class="line">        cout &lt;&lt; <span class="stringliteral">&quot;Failed to open &quot;</span> &lt;&lt; filename &lt;&lt; endl;</div>
<div class="line">        std::vector&lt;char&gt; data;</div>
<div class="line">        <span class="keywordflow">return</span> data;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keyword">const</span> ifstream::pos_type pos = ifs.tellg();</div>
<div class="line">    std::vector&lt;char&gt; data(pos);</div>
<div class="line">    ifs.seekg(0, ios::beg);</div>
<div class="line">    ifs.read(&amp;data[0], pos);</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">return</span> data;</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="comment">// This function uploads a file on the system to the camera given the selected</span></div>
<div class="line"><span class="comment">// file selector entry.</span></div>
<div class="line"><span class="keywordtype">int</span> <a name="a27"></a><a class="code" href="_inference_8cpp.html#a5f44104922c7723b7ca055f672c58652">UploadFileToCamera</a>(<a class="code" href="group___i_node_map__h.html#ga3e4a9df80b7da602af317c71c6541c71">INodeMap</a>&amp; nodeMap, <span class="keyword">const</span> std::string&amp; fileSelectorEntryName, <span class="keyword">const</span> std::string&amp; filePath)</div>
<div class="line">{</div>
<div class="line">    cout &lt;&lt; endl &lt;&lt; endl &lt;&lt; <span class="stringliteral">&quot;*** CONFIGURING FILE SELECTOR ***&quot;</span> &lt;&lt; endl &lt;&lt; endl;</div>
<div class="line"></div>
<div class="line">    <a class="code" href="class_spinnaker_1_1_gen_api_1_1_c_pointer.html">CEnumerationPtr</a> ptrFileSelector = nodeMap.GetNode(<span class="stringliteral">&quot;FileSelector&quot;</span>);</div>
<div class="line">    <span class="keywordflow">if</span> (!<a class="code" href="group___i_node__h.html#ga2f718ca036fb1f237422cd1766a0de83">IsWritable</a>(ptrFileSelector))</div>
<div class="line">    {</div>
<div class="line">        cout &lt;&lt; <span class="stringliteral">&quot;Unable to configure FileSelector. Aborting...&quot;</span> &lt;&lt; endl;</div>
<div class="line">        <span class="keywordflow">return</span> -1;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <a class="code" href="class_spinnaker_1_1_gen_api_1_1_c_pointer.html">CEnumEntryPtr</a> ptrInferenceSelectorEntry = ptrFileSelector-&gt;GetEntryByName(fileSelectorEntryName.c_str());</div>
<div class="line">    <span class="keywordflow">if</span> (!<a class="code" href="group___i_node__h.html#gacb8a89e72218331cdb53e0a530a6a566">IsReadable</a>(ptrInferenceSelectorEntry))</div>
<div class="line">    {</div>
<div class="line">        cout &lt;&lt; <span class="stringliteral">&quot;Unable to query FileSelector entry &quot;</span> &lt;&lt; fileSelectorEntryName &lt;&lt; <span class="stringliteral">&quot;. Aborting...&quot;</span> &lt;&lt; endl;</div>
<div class="line">        <span class="keywordflow">return</span> -1;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="comment">// Set file selector to entry</span></div>
<div class="line">    cout &lt;&lt; <span class="stringliteral">&quot;Setting FileSelector to &quot;</span> &lt;&lt; ptrInferenceSelectorEntry-&gt;GetSymbolic() &lt;&lt; <span class="stringliteral">&quot;...&quot;</span> &lt;&lt; endl;</div>
<div class="line">    ptrFileSelector-&gt;SetIntValue(static_cast&lt;int64_t&gt;(ptrInferenceSelectorEntry-&gt;GetNumericValue()));</div>
<div class="line"></div>
<div class="line">    <span class="comment">// Delete file on camera before writing in case camera runs out of space</span></div>
<div class="line">    <span class="keywordflow">if</span> (<a class="code" href="_inference_8cpp.html#a3d152b0e57f41f8c8ac0830217bb9c3e">CameraDeleteFile</a>(nodeMap) != <span class="keyword">true</span>)</div>
<div class="line">    {</div>
<div class="line">        cout &lt;&lt; <span class="stringliteral">&quot;Failed to delete existing file for selector entry &quot;</span> &lt;&lt; ptrInferenceSelectorEntry-&gt;GetSymbolic()</div>
<div class="line">             &lt;&lt; <span class="stringliteral">&quot;. Aborting...&quot;</span> &lt;&lt; endl;</div>
<div class="line">        <span class="keywordflow">return</span> -1;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="comment">// Open file on camera for write</span></div>
<div class="line">    <span class="keywordflow">if</span> (<a class="code" href="_inference_8cpp.html#a20b92035de9e5e71d2086dab3d9618e8">CameraOpenFile</a>(nodeMap) != <span class="keyword">true</span>)</div>
<div class="line">    {</div>
<div class="line">        <span class="comment">// File may not be closed properly last time</span></div>
<div class="line">        <span class="comment">// Close and re-open again</span></div>
<div class="line">        <span class="keywordflow">if</span> (!<a class="code" href="_inference_8cpp.html#a4cd504bbce7f435e51a751d9f015b1da">CameraCloseFile</a>(nodeMap))</div>
<div class="line">        {</div>
<div class="line">            <span class="comment">// It fails to close the file. Abort!</span></div>
<div class="line">            cout &lt;&lt; <span class="stringliteral">&quot;Problem opening file node. Aborting...&quot;</span> &lt;&lt; endl;</div>
<div class="line">            <span class="keywordflow">return</span> -1;</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        <span class="comment">// File was closed. Open again.</span></div>
<div class="line">        <span class="keywordflow">if</span> (!<a class="code" href="_inference_8cpp.html#a20b92035de9e5e71d2086dab3d9618e8">CameraOpenFile</a>(nodeMap))</div>
<div class="line">        {</div>
<div class="line">            <span class="comment">// Fails again. Abort!</span></div>
<div class="line">            cout &lt;&lt; <span class="stringliteral">&quot;Problem opening file node. Aborting...&quot;</span> &lt;&lt; endl;</div>
<div class="line">            <span class="keywordflow">return</span> -1;</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <a class="code" href="class_spinnaker_1_1_gen_api_1_1_c_pointer.html">CIntegerPtr</a> ptrFileAccessLength = nodeMap.GetNode(<span class="stringliteral">&quot;FileAccessLength&quot;</span>);</div>
<div class="line">    <span class="keywordflow">if</span> (!<a class="code" href="group___i_node__h.html#gacb8a89e72218331cdb53e0a530a6a566">IsReadable</a>(ptrFileAccessLength) || !<a class="code" href="group___i_node__h.html#ga2f718ca036fb1f237422cd1766a0de83">IsWritable</a>(ptrFileAccessLength))</div>
<div class="line">    {</div>
<div class="line">        cout &lt;&lt; <span class="stringliteral">&quot;Unable to query FileAccessLength. Aborting...&quot;</span> &lt;&lt; endl;</div>
<div class="line">        <span class="keywordflow">return</span> -1;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <a class="code" href="class_spinnaker_1_1_gen_api_1_1_c_pointer.html">CRegisterPtr</a> ptrFileAccessBuffer = nodeMap.GetNode(<span class="stringliteral">&quot;FileAccessBuffer&quot;</span>);</div>
<div class="line">    <span class="keywordflow">if</span> (!<a class="code" href="group___i_node__h.html#gacb8a89e72218331cdb53e0a530a6a566">IsReadable</a>(ptrFileAccessBuffer) || !<a class="code" href="group___i_node__h.html#ga2f718ca036fb1f237422cd1766a0de83">IsWritable</a>(ptrFileAccessBuffer))</div>
<div class="line">    {</div>
<div class="line">        cout &lt;&lt; <span class="stringliteral">&quot;Unable to query FileAccessBuffer. Aborting...&quot;</span> &lt;&lt; endl;</div>
<div class="line">        <span class="keywordflow">return</span> -1;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <a class="code" href="class_spinnaker_1_1_gen_api_1_1_c_pointer.html">CIntegerPtr</a> ptrFileAccessOffset = nodeMap.GetNode(<span class="stringliteral">&quot;FileAccessOffset&quot;</span>);</div>
<div class="line">    <span class="keywordflow">if</span> (!<a class="code" href="group___i_node__h.html#gacb8a89e72218331cdb53e0a530a6a566">IsReadable</a>(ptrFileAccessOffset) || !<a class="code" href="group___i_node__h.html#ga2f718ca036fb1f237422cd1766a0de83">IsWritable</a>(ptrFileAccessOffset))</div>
<div class="line">    {</div>
<div class="line">        cout &lt;&lt; <span class="stringliteral">&quot;Unable to query FileAccessOffset. Aborting...&quot;</span> &lt;&lt; endl;</div>
<div class="line">        <span class="keywordflow">return</span> -1;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <a class="code" href="class_spinnaker_1_1_gen_api_1_1_c_pointer.html">CIntegerPtr</a> ptrFileOperationResult = nodeMap.GetNode(<span class="stringliteral">&quot;FileOperationResult&quot;</span>);</div>
<div class="line">    <span class="keywordflow">if</span> (!<a class="code" href="group___i_node__h.html#gacb8a89e72218331cdb53e0a530a6a566">IsReadable</a>(ptrFileOperationResult))</div>
<div class="line">    {</div>
<div class="line">        cout &lt;&lt; <span class="stringliteral">&quot;Unable to query FileOperationResult. Aborting...&quot;</span> &lt;&lt; endl;</div>
<div class="line">        <span class="keywordflow">return</span> -1;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="comment">// Load network file from path depending on network type</span></div>
<div class="line">    std::vector&lt;char&gt; fileBytes = <a class="code" href="_inference_8cpp.html#a2d590a69475822bd35951a43e5c2427b">LoadFileIntoMemory</a>(filePath);</div>
<div class="line">    <span class="keywordflow">if</span> (fileBytes.size() == 0)</div>
<div class="line">    {</div>
<div class="line">        cout &lt;&lt; <span class="stringliteral">&quot;Failed to load file path : &quot;</span> &lt;&lt; filePath &lt;&lt; <span class="stringliteral">&quot;. Aborting...&quot;</span> &lt;&lt; endl;</div>
<div class="line">        <span class="keywordflow">return</span> -1;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="comment">// Compute number of write operations required</span></div>
<div class="line">    <span class="keyword">const</span> int64_t totalBytesToWrite = fileBytes.size();</div>
<div class="line">    int64_t intermediateBufferSize = ptrFileAccessLength-&gt;GetValue();</div>
<div class="line">    <span class="keyword">const</span> int64_t writeIterations =</div>
<div class="line">        (totalBytesToWrite / intermediateBufferSize) + (totalBytesToWrite % intermediateBufferSize == 0 ? 0 : 1);</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">if</span> (totalBytesToWrite == 0)</div>
<div class="line">    {</div>
<div class="line">        cout &lt;&lt; <span class="stringliteral">&quot;Empty Image. No data will be written to camera. Aborting...&quot;</span> &lt;&lt; endl;</div>
<div class="line">        <span class="keywordflow">return</span> -1;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    cout &lt;&lt; <span class="stringliteral">&quot;Start uploading \&quot;&quot;</span> &lt;&lt; filePath &lt;&lt; <span class="stringliteral">&quot;\&quot; to device...&quot;</span> &lt;&lt; endl;</div>
<div class="line"></div>
<div class="line">    cout &lt;&lt; <span class="stringliteral">&quot;Total Bytes to write : &quot;</span> &lt;&lt; to_string(static_cast&lt;long long&gt;(totalBytesToWrite)) &lt;&lt; endl;</div>
<div class="line">    cout &lt;&lt; <span class="stringliteral">&quot;FileAccessLength : &quot;</span> &lt;&lt; to_string(static_cast&lt;long long&gt;(intermediateBufferSize)) &lt;&lt; endl;</div>
<div class="line">    cout &lt;&lt; <span class="stringliteral">&quot;Write Iterations : &quot;</span> &lt;&lt; to_string(static_cast&lt;long long&gt;(writeIterations)) &lt;&lt; endl;</div>
<div class="line"></div>
<div class="line">    int64_t index = 0;</div>
<div class="line">    int64_t bytesLeftToWrite = totalBytesToWrite;</div>
<div class="line">    int64_t totalBytesWritten = 0;</div>
<div class="line">    <span class="keywordtype">bool</span> paddingRequired = <span class="keyword">false</span>;</div>
<div class="line">    <span class="keywordtype">int</span> numPaddings = 0;</div>
<div class="line"></div>
<div class="line">    cout &lt;&lt; <span class="stringliteral">&quot;Writing data to device...&quot;</span> &lt;&lt; endl;</div>
<div class="line"></div>
<div class="line">    <span class="keywordtype">char</span>* pFileData = fileBytes.data();</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i = 0; i &lt; writeIterations; i++)</div>
<div class="line">    {</div>
<div class="line">        <span class="comment">// Check whether padding is required</span></div>
<div class="line">        <span class="keywordflow">if</span> (intermediateBufferSize &gt; bytesLeftToWrite)</div>
<div class="line">        {</div>
<div class="line">            <span class="comment">// Check for multiple of 4 bytes</span></div>
<div class="line">            <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> remainder = bytesLeftToWrite % 4;</div>
<div class="line">            <span class="keywordflow">if</span> (remainder != 0)</div>
<div class="line">            {</div>
<div class="line">                paddingRequired = <span class="keyword">true</span>;</div>
<div class="line">                numPaddings = 4 - remainder;</div>
<div class="line">            }</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        <span class="comment">// Setup data to write</span></div>
<div class="line">        <span class="keyword">const</span> int64_t tmpBufferSize =</div>
<div class="line">            intermediateBufferSize &lt;= bytesLeftToWrite ? intermediateBufferSize : (bytesLeftToWrite + numPaddings);</div>
<div class="line">        std::unique_ptr&lt;unsigned char&gt; tmpBuffer(<span class="keyword">new</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>[tmpBufferSize]);</div>
<div class="line">        memcpy(</div>
<div class="line">            tmpBuffer.get(),</div>
<div class="line">            &amp;pFileData[index],</div>
<div class="line">            ((intermediateBufferSize &lt;= bytesLeftToWrite) ? intermediateBufferSize : bytesLeftToWrite));</div>
<div class="line"></div>
<div class="line">        <span class="keywordflow">if</span> (paddingRequired)</div>
<div class="line">        {</div>
<div class="line">            <span class="comment">// Fill padded bytes</span></div>
<div class="line">            <span class="keywordflow">for</span> (<span class="keywordtype">int</span> j = 0; j &lt; numPaddings; j++)</div>
<div class="line">            {</div>
<div class="line">                <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>* pTmpBuffer = tmpBuffer.get();</div>
<div class="line">                pTmpBuffer[bytesLeftToWrite + j] = 255;</div>
<div class="line">            }</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        <span class="comment">// Update index for next write iteration</span></div>
<div class="line">        index = index + (intermediateBufferSize &lt;= bytesLeftToWrite ? intermediateBufferSize : bytesLeftToWrite);</div>
<div class="line"></div>
<div class="line">        <span class="comment">// Write to FileAccessBufferNode</span></div>
<div class="line">        ptrFileAccessBuffer-&gt;Set(tmpBuffer.get(), tmpBufferSize);</div>
<div class="line"></div>
<div class="line">        <span class="keywordflow">if</span> (intermediateBufferSize &gt; bytesLeftToWrite)</div>
<div class="line">        {</div>
<div class="line">            <span class="comment">// Update FileAccessLength node appropriately to prevent garbage data outside the range of</span></div>
<div class="line">            <span class="comment">// the uploaded file to be written to the camera</span></div>
<div class="line">            ptrFileAccessLength-&gt;SetValue(bytesLeftToWrite);</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        <span class="comment">// Perform Write command</span></div>
<div class="line">        <span class="keywordflow">if</span> (!<a class="code" href="_inference_8cpp.html#a3e2bb8a9b4c593d167aa1ab70222d8eb">CameraWriteToFile</a>(nodeMap))</div>
<div class="line">        {</div>
<div class="line">            cout &lt;&lt; <span class="stringliteral">&quot;Writing to stream failed! Aborting...&quot;</span> &lt;&lt; endl;</div>
<div class="line">            <span class="keywordflow">return</span> -1;</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        <span class="comment">// Verify size of bytes written</span></div>
<div class="line">        <span class="keyword">const</span> int64_t sizeWritten = ptrFileOperationResult-&gt;GetValue();</div>
<div class="line"></div>
<div class="line">        <span class="comment">// Keep track of total bytes written</span></div>
<div class="line">        totalBytesWritten += sizeWritten;</div>
<div class="line"></div>
<div class="line">        <span class="comment">// Keep track of bytes left to write</span></div>
<div class="line">        bytesLeftToWrite = totalBytesToWrite - totalBytesWritten;</div>
<div class="line"></div>
<div class="line">        cout &lt;&lt; <span class="stringliteral">&quot;Progress : &quot;</span> &lt;&lt; (i * 100 / writeIterations) &lt;&lt; <span class="stringliteral">&quot; %&quot;</span> &lt;&lt; <span class="charliteral">&#39;\r&#39;</span> &lt;&lt; flush;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    cout &lt;&lt; <span class="stringliteral">&quot;Writing complete&quot;</span> &lt;&lt; endl;</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">if</span> (!<a class="code" href="_inference_8cpp.html#a4cd504bbce7f435e51a751d9f015b1da">CameraCloseFile</a>(nodeMap))</div>
<div class="line">    {</div>
<div class="line">        cout &lt;&lt; <span class="stringliteral">&quot;Failed to close file!&quot;</span> &lt;&lt; endl;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">return</span> 0;</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="comment">// This function deletes the file uploaded to the camera given the selected</span></div>
<div class="line"><span class="comment">// file selector entry.</span></div>
<div class="line"><span class="keywordtype">int</span> <a name="a28"></a><a class="code" href="_inference_8cpp.html#a8c87849620d015befbe467ad75630555">DeleteFileOnCamera</a>(<a class="code" href="group___i_node_map__h.html#ga3e4a9df80b7da602af317c71c6541c71">INodeMap</a>&amp; nodeMap, <span class="keyword">const</span> std::string&amp; fileSelectorEntryName)</div>
<div class="line">{</div>
<div class="line">    cout &lt;&lt; endl &lt;&lt; endl &lt;&lt; <span class="stringliteral">&quot;*** CLEANING UP FILE SELECTOR ***&quot;</span> &lt;&lt; endl &lt;&lt; endl;</div>
<div class="line"></div>
<div class="line">    <a class="code" href="class_spinnaker_1_1_gen_api_1_1_c_pointer.html">CEnumerationPtr</a> ptrFileSelector = nodeMap.GetNode(<span class="stringliteral">&quot;FileSelector&quot;</span>);</div>
<div class="line">    <span class="keywordflow">if</span> (!<a class="code" href="group___i_node__h.html#ga2f718ca036fb1f237422cd1766a0de83">IsWritable</a>(ptrFileSelector))</div>
<div class="line">    {</div>
<div class="line">        cout &lt;&lt; <span class="stringliteral">&quot;Unable to configure FileSelector. Aborting...&quot;</span> &lt;&lt; endl;</div>
<div class="line">        <span class="keywordflow">return</span> -1;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <a class="code" href="class_spinnaker_1_1_gen_api_1_1_c_pointer.html">CEnumEntryPtr</a> ptrInferenceSelectorEntry = ptrFileSelector-&gt;GetEntryByName(fileSelectorEntryName.c_str());</div>
<div class="line">    <span class="keywordflow">if</span> (!<a class="code" href="group___i_node__h.html#gacb8a89e72218331cdb53e0a530a6a566">IsReadable</a>(ptrInferenceSelectorEntry))</div>
<div class="line">    {</div>
<div class="line">        cout &lt;&lt; <span class="stringliteral">&quot;Unable to query FileSelector entry &quot;</span> &lt;&lt; fileSelectorEntryName &lt;&lt; <span class="stringliteral">&quot;. Aborting...&quot;</span> &lt;&lt; endl;</div>
<div class="line">        <span class="keywordflow">return</span> -1;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="comment">// Set file selector to entry</span></div>
<div class="line">    cout &lt;&lt; <span class="stringliteral">&quot;Setting FileSelector to &quot;</span> &lt;&lt; ptrInferenceSelectorEntry-&gt;GetSymbolic() &lt;&lt; endl;</div>
<div class="line">    ptrFileSelector-&gt;SetIntValue(static_cast&lt;int64_t&gt;(ptrInferenceSelectorEntry-&gt;GetNumericValue()));</div>
<div class="line"></div>
<div class="line">    <span class="comment">// Delete file on camera before writing in case camera runs out of space</span></div>
<div class="line">    <span class="keywordflow">if</span> (<a class="code" href="_inference_8cpp.html#a3d152b0e57f41f8c8ac0830217bb9c3e">CameraDeleteFile</a>(nodeMap) != <span class="keyword">true</span>)</div>
<div class="line">    {</div>
<div class="line">        cout &lt;&lt; <span class="stringliteral">&quot;Failed to delete existing file for selector entry &quot;</span> &lt;&lt; ptrInferenceSelectorEntry-&gt;GetSymbolic()</div>
<div class="line">             &lt;&lt; <span class="stringliteral">&quot;. Aborting...&quot;</span> &lt;&lt; endl;</div>
<div class="line">        <span class="keywordflow">return</span> -1;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">return</span> 0;</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="comment">// This function enables or disables the given chunk data type based on</span></div>
<div class="line"><span class="comment">// the specified entry name.</span></div>
<div class="line"><span class="keywordtype">int</span> <a name="a29"></a><a class="code" href="_inference_8cpp.html#a195e6ffbfefa9f46d0347120db223528">SetChunkEnable</a>(<a class="code" href="group___i_node_map__h.html#ga3e4a9df80b7da602af317c71c6541c71">INodeMap</a>&amp; nodeMap, <span class="keyword">const</span> <a name="_a30"></a><a class="code" href="class_spinnaker_1_1_gen_i_cam_1_1gcstring.html">gcstring</a>&amp; entryName, <span class="keyword">const</span> <span class="keywordtype">bool</span> enable)</div>
<div class="line">{</div>
<div class="line">    <span class="keywordtype">int</span> result = 0;</div>
<div class="line">    <a class="code" href="class_spinnaker_1_1_gen_api_1_1_c_pointer.html">CEnumerationPtr</a> ptrChunkSelector = nodeMap.GetNode(<span class="stringliteral">&quot;ChunkSelector&quot;</span>);</div>
<div class="line"></div>
<div class="line">    <span class="keyword">const</span> <a class="code" href="class_spinnaker_1_1_gen_api_1_1_c_pointer.html">CEnumEntryPtr</a> ptrEntry = ptrChunkSelector-&gt;GetEntryByName(entryName);</div>
<div class="line">    <span class="keywordflow">if</span> (!<a class="code" href="group___i_node__h.html#gacb8a89e72218331cdb53e0a530a6a566">IsReadable</a>(ptrEntry))</div>
<div class="line">    {</div>
<div class="line">        <span class="keywordflow">return</span> -1;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    ptrChunkSelector-&gt;SetIntValue(ptrEntry-&gt;GetValue());</div>
<div class="line"></div>
<div class="line">    <span class="comment">// Enable the boolean, thus enabling the corresponding chunk data</span></div>
<div class="line">    cout &lt;&lt; entryName &lt;&lt; <span class="stringliteral">&quot; &quot;</span>;</div>
<div class="line">    <a class="code" href="class_spinnaker_1_1_gen_api_1_1_c_pointer.html">CBooleanPtr</a> ptrChunkEnable = nodeMap.GetNode(<span class="stringliteral">&quot;ChunkEnable&quot;</span>);</div>
<div class="line">    <span class="keywordflow">if</span> (!<a name="a31"></a><a class="code" href="group___i_node__h.html#gaebc2f6f9dea95ce16a4d8f30ccfe0646">IsAvailable</a>(ptrChunkEnable))</div>
<div class="line">    {</div>
<div class="line">        cout &lt;&lt; <span class="stringliteral">&quot;not available&quot;</span> &lt;&lt; endl;</div>
<div class="line">        <span class="keywordflow">return</span> -1;</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">if</span> (enable)</div>
<div class="line">    {</div>
<div class="line">        <span class="keywordflow">if</span> (ptrChunkEnable-&gt;GetValue())</div>
<div class="line">        {</div>
<div class="line">            cout &lt;&lt; <span class="stringliteral">&quot;enabled&quot;</span> &lt;&lt; endl;</div>
<div class="line">        }</div>
<div class="line">        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="group___i_node__h.html#ga2f718ca036fb1f237422cd1766a0de83">IsWritable</a>(ptrChunkEnable))</div>
<div class="line">        {</div>
<div class="line">            ptrChunkEnable-&gt;SetValue(<span class="keyword">true</span>);</div>
<div class="line">            cout &lt;&lt; <span class="stringliteral">&quot;enabled&quot;</span> &lt;&lt; endl;</div>
<div class="line">        }</div>
<div class="line">        <span class="keywordflow">else</span></div>
<div class="line">        {</div>
<div class="line">            cout &lt;&lt; <span class="stringliteral">&quot;not writable&quot;</span> &lt;&lt; endl;</div>
<div class="line">            result = -1;</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">else</span></div>
<div class="line">    {</div>
<div class="line">        <span class="keywordflow">if</span> (!ptrChunkEnable-&gt;GetValue())</div>
<div class="line">        {</div>
<div class="line">            cout &lt;&lt; <span class="stringliteral">&quot;disabled&quot;</span> &lt;&lt; endl;</div>
<div class="line">        }</div>
<div class="line">        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="group___i_node__h.html#ga2f718ca036fb1f237422cd1766a0de83">IsWritable</a>(ptrChunkEnable))</div>
<div class="line">        {</div>
<div class="line">            ptrChunkEnable-&gt;SetValue(<span class="keyword">false</span>);</div>
<div class="line">            cout &lt;&lt; <span class="stringliteral">&quot;disabled&quot;</span> &lt;&lt; endl;</div>
<div class="line">        }</div>
<div class="line">        <span class="keywordflow">else</span></div>
<div class="line">        {</div>
<div class="line">            cout &lt;&lt; <span class="stringliteral">&quot;not writable&quot;</span> &lt;&lt; endl;</div>
<div class="line">            result = -1;</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">return</span> result;</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="comment">// This function configures the camera to add inference chunk data to each image.</span></div>
<div class="line"><span class="comment">// When chunk data is turned on, the data is made available in both the nodemap</span></div>
<div class="line"><span class="comment">// and each image.</span></div>
<div class="line"><span class="keywordtype">int</span> <a name="a32"></a><a class="code" href="_action_command_8cpp.html#a1cee7b855daddc1e739aee02d0ed56d6">ConfigureChunkData</a>(<a class="code" href="group___i_node_map__h.html#ga3e4a9df80b7da602af317c71c6541c71">INodeMap</a>&amp; nodeMap)</div>
<div class="line">{</div>
<div class="line">    <span class="keywordtype">int</span> result = 0;</div>
<div class="line"></div>
<div class="line">    cout &lt;&lt; endl &lt;&lt; endl &lt;&lt; <span class="stringliteral">&quot;*** CONFIGURING CHUNK DATA ***&quot;</span> &lt;&lt; endl &lt;&lt; endl;</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">try</span></div>
<div class="line">    {</div>
<div class="line">        <span class="comment">//</span></div>
<div class="line">        <span class="comment">// Activate chunk mode</span></div>
<div class="line">        <span class="comment">//</span></div>
<div class="line">        <span class="comment">// *** NOTES ***</span></div>
<div class="line">        <span class="comment">// Once enabled, chunk data will be available at the end of the payload</span></div>
<div class="line">        <span class="comment">// of every image captured until it is disabled. Chunk data can also be</span></div>
<div class="line">        <span class="comment">// retrieved from the nodemap.</span></div>
<div class="line">        <span class="comment">//</span></div>
<div class="line">        <a class="code" href="class_spinnaker_1_1_gen_api_1_1_c_pointer.html">CBooleanPtr</a> ptrChunkModeActive = nodeMap.GetNode(<span class="stringliteral">&quot;ChunkModeActive&quot;</span>);</div>
<div class="line">        <span class="keywordflow">if</span> (!<a class="code" href="group___i_node__h.html#ga2f718ca036fb1f237422cd1766a0de83">IsWritable</a>(ptrChunkModeActive))</div>
<div class="line">        {</div>
<div class="line">            cout &lt;&lt; <span class="stringliteral">&quot;Unable to activate chunk mode. Aborting...&quot;</span> &lt;&lt; endl;</div>
<div class="line">            <span class="keywordflow">return</span> -1;</div>
<div class="line">        }</div>
<div class="line">        ptrChunkModeActive-&gt;SetValue(<span class="keyword">true</span>);</div>
<div class="line">        cout &lt;&lt; <span class="stringliteral">&quot;Chunk mode activated...&quot;</span> &lt;&lt; endl;</div>
<div class="line"></div>
<div class="line">        <span class="comment">// Enable inference related chunks in chunk data</span></div>
<div class="line"></div>
<div class="line">        <span class="comment">// Retrieve the chunk data selector node</span></div>
<div class="line">        <span class="keyword">const</span> <a class="code" href="class_spinnaker_1_1_gen_api_1_1_c_pointer.html">CEnumerationPtr</a> ptrChunkSelector = nodeMap.GetNode(<span class="stringliteral">&quot;ChunkSelector&quot;</span>);</div>
<div class="line">        <span class="keywordflow">if</span> (!<a class="code" href="group___i_node__h.html#gacb8a89e72218331cdb53e0a530a6a566">IsReadable</a>(ptrChunkSelector))</div>
<div class="line">        {</div>
<div class="line">            cout &lt;&lt; <span class="stringliteral">&quot;Unable to retrieve chunk selector (enum retrieval). Aborting...&quot;</span> &lt;&lt; endl;</div>
<div class="line">            <span class="keywordflow">return</span> -1;</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        <span class="comment">// Enable chunk data inference Frame Id</span></div>
<div class="line">        result = <a class="code" href="_inference_8cpp.html#a195e6ffbfefa9f46d0347120db223528">SetChunkEnable</a>(nodeMap, <span class="stringliteral">&quot;InferenceFrameId&quot;</span>, <span class="keyword">true</span>);</div>
<div class="line">        <span class="keywordflow">if</span> (result == -1)</div>
<div class="line">        {</div>
<div class="line">            cout &lt;&lt; <span class="stringliteral">&quot;Unable to enable Inference Frame Id chunk data. Aborting...&quot;</span> &lt;&lt; endl;</div>
<div class="line">            <span class="keywordflow">return</span> result;</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        <span class="keywordflow">if</span> (<a class="code" href="_inference_8cpp.html#a5ac5c39ce86590607a6ce7fcef886fbf">chosenInferenceNetworkType</a> == <a class="code" href="_inference_8cpp.html#ad8cd50c7cd6bbe08f204692617fb0761a167a7ee1aabe9f27e010fff93c0ba971">DETECTION</a>)</div>
<div class="line">        {</div>
<div class="line">            <span class="comment">// Detection network type</span></div>
<div class="line"></div>
<div class="line">            <span class="comment">// Enable chunk data inference bounding box</span></div>
<div class="line">            result = <a class="code" href="_inference_8cpp.html#a195e6ffbfefa9f46d0347120db223528">SetChunkEnable</a>(nodeMap, <span class="stringliteral">&quot;InferenceBoundingBoxResult&quot;</span>, <span class="keyword">true</span>);</div>
<div class="line">            <span class="keywordflow">if</span> (result == -1)</div>
<div class="line">            {</div>
<div class="line">                cout &lt;&lt; <span class="stringliteral">&quot;Unable to enable Inference Bounding Box chunk data. Aborting...&quot;</span> &lt;&lt; endl;</div>
<div class="line">                <span class="keywordflow">return</span> result;</div>
<div class="line">            }</div>
<div class="line">        }</div>
<div class="line">        <span class="keywordflow">else</span></div>
<div class="line">        {</div>
<div class="line">            <span class="comment">// Classification network type</span></div>
<div class="line"></div>
<div class="line">            <span class="comment">// Enable chunk data inference result</span></div>
<div class="line">            result = <a class="code" href="_inference_8cpp.html#a195e6ffbfefa9f46d0347120db223528">SetChunkEnable</a>(nodeMap, <span class="stringliteral">&quot;InferenceResult&quot;</span>, <span class="keyword">true</span>);</div>
<div class="line">            <span class="keywordflow">if</span> (result == -1)</div>
<div class="line">            {</div>
<div class="line">                cout &lt;&lt; <span class="stringliteral">&quot;Unable to enable Inference Result chunk data. Aborting...&quot;</span> &lt;&lt; endl;</div>
<div class="line">                <span class="keywordflow">return</span> result;</div>
<div class="line">            }</div>
<div class="line"></div>
<div class="line">            <span class="comment">// Enable chunk data inference confidence</span></div>
<div class="line">            result = <a class="code" href="_inference_8cpp.html#a195e6ffbfefa9f46d0347120db223528">SetChunkEnable</a>(nodeMap, <span class="stringliteral">&quot;InferenceConfidence&quot;</span>, <span class="keyword">true</span>);</div>
<div class="line">            <span class="keywordflow">if</span> (result == -1)</div>
<div class="line">            {</div>
<div class="line">                cout &lt;&lt; <span class="stringliteral">&quot;Unable to enable Inference Confidence chunk data. Aborting...&quot;</span> &lt;&lt; endl;</div>
<div class="line">                <span class="keywordflow">return</span> result;</div>
<div class="line">            }</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">catch</span> (<a class="code" href="class_spinnaker_1_1_exception.html">Spinnaker::Exception</a>&amp; e)</div>
<div class="line">    {</div>
<div class="line">        cout &lt;&lt; <span class="stringliteral">&quot;Error: &quot;</span> &lt;&lt; e.<a class="code" href="class_spinnaker_1_1_exception.html#aff06f49065b54a8a86e02e9a2441a8ba">what</a>() &lt;&lt; endl;</div>
<div class="line">        result = -1;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">return</span> result;</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="comment">// This function disables each type of chunk data before disabling chunk data mode.</span></div>
<div class="line"><span class="keywordtype">int</span> <a name="a33"></a><a class="code" href="_chunk_data_8cpp.html#adb275bb88133126e195c98eff8f97753">DisableChunkData</a>(<a class="code" href="group___i_node_map__h.html#ga3e4a9df80b7da602af317c71c6541c71">INodeMap</a>&amp; nodeMap)</div>
<div class="line">{</div>
<div class="line">    cout &lt;&lt; endl &lt;&lt; endl &lt;&lt; <span class="stringliteral">&quot;*** DISABLING CHUNK DATA ***&quot;</span> &lt;&lt; endl &lt;&lt; endl;</div>
<div class="line"></div>
<div class="line">    <span class="keywordtype">int</span> result = 0;</div>
<div class="line">    <span class="keywordflow">try</span></div>
<div class="line">    {</div>
<div class="line">        <span class="comment">// Retrieve the selector node</span></div>
<div class="line">        <span class="keyword">const</span> <a class="code" href="class_spinnaker_1_1_gen_api_1_1_c_pointer.html">CEnumerationPtr</a> ptrChunkSelector = nodeMap.GetNode(<span class="stringliteral">&quot;ChunkSelector&quot;</span>);</div>
<div class="line"></div>
<div class="line">        <span class="keywordflow">if</span> (!<a class="code" href="group___i_node__h.html#gacb8a89e72218331cdb53e0a530a6a566">IsReadable</a>(ptrChunkSelector))</div>
<div class="line">        {</div>
<div class="line">            cout &lt;&lt; <span class="stringliteral">&quot;Unable to retrieve chunk selector. Aborting...&quot;</span> &lt;&lt; endl;</div>
<div class="line">            <span class="keywordflow">return</span> -1;</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        result = <a class="code" href="_inference_8cpp.html#a195e6ffbfefa9f46d0347120db223528">SetChunkEnable</a>(nodeMap, <span class="stringliteral">&quot;InferenceFrameId&quot;</span>, <span class="keyword">false</span>);</div>
<div class="line">        <span class="keywordflow">if</span> (result == -1)</div>
<div class="line">        {</div>
<div class="line">            cout &lt;&lt; <span class="stringliteral">&quot;Unable to disable Inference Frame Id chunk data. Aborting...&quot;</span> &lt;&lt; endl;</div>
<div class="line">            <span class="keywordflow">return</span> result;</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        <span class="keywordflow">if</span> (<a class="code" href="_inference_8cpp.html#a5ac5c39ce86590607a6ce7fcef886fbf">chosenInferenceNetworkType</a> == <a class="code" href="_inference_8cpp.html#ad8cd50c7cd6bbe08f204692617fb0761a167a7ee1aabe9f27e010fff93c0ba971">DETECTION</a>)</div>
<div class="line">        {</div>
<div class="line">            <span class="comment">// Detection network type</span></div>
<div class="line"></div>
<div class="line">            <span class="comment">// Disable chunk data inference bounding box</span></div>
<div class="line">            result = <a class="code" href="_inference_8cpp.html#a195e6ffbfefa9f46d0347120db223528">SetChunkEnable</a>(nodeMap, <span class="stringliteral">&quot;InferenceBoundingBoxResult&quot;</span>, <span class="keyword">false</span>);</div>
<div class="line">            <span class="keywordflow">if</span> (result == -1)</div>
<div class="line">            {</div>
<div class="line">                cout &lt;&lt; <span class="stringliteral">&quot;Unable to disable Inference Bounding Box chunk data. Aborting...&quot;</span> &lt;&lt; endl;</div>
<div class="line">                <span class="keywordflow">return</span> result;</div>
<div class="line">            }</div>
<div class="line">        }</div>
<div class="line">        <span class="keywordflow">else</span></div>
<div class="line">        {</div>
<div class="line">            <span class="comment">// Classification network type</span></div>
<div class="line"></div>
<div class="line">            <span class="comment">// Disable chunk data inference result</span></div>
<div class="line">            result = <a class="code" href="_inference_8cpp.html#a195e6ffbfefa9f46d0347120db223528">SetChunkEnable</a>(nodeMap, <span class="stringliteral">&quot;InferenceResult&quot;</span>, <span class="keyword">false</span>);</div>
<div class="line">            <span class="keywordflow">if</span> (result == -1)</div>
<div class="line">            {</div>
<div class="line">                cout &lt;&lt; <span class="stringliteral">&quot;Unable to disable Inference Result chunk data. Aborting...&quot;</span> &lt;&lt; endl;</div>
<div class="line">                <span class="keywordflow">return</span> result;</div>
<div class="line">            }</div>
<div class="line"></div>
<div class="line">            <span class="comment">// Disable chunk data inference confidence</span></div>
<div class="line">            result = <a class="code" href="_inference_8cpp.html#a195e6ffbfefa9f46d0347120db223528">SetChunkEnable</a>(nodeMap, <span class="stringliteral">&quot;InferenceConfidence&quot;</span>, <span class="keyword">false</span>);</div>
<div class="line">            <span class="keywordflow">if</span> (result == -1)</div>
<div class="line">            {</div>
<div class="line">                cout &lt;&lt; <span class="stringliteral">&quot;Unable to disable Inference Confidence chunk data. Aborting...&quot;</span> &lt;&lt; endl;</div>
<div class="line">                <span class="keywordflow">return</span> result;</div>
<div class="line">            }</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        <span class="comment">// Deactivate ChunkMode</span></div>
<div class="line">        <a class="code" href="class_spinnaker_1_1_gen_api_1_1_c_pointer.html">CBooleanPtr</a> ptrChunkModeActive = nodeMap.GetNode(<span class="stringliteral">&quot;ChunkModeActive&quot;</span>);</div>
<div class="line">        <span class="keywordflow">if</span> (!<a class="code" href="group___i_node__h.html#ga2f718ca036fb1f237422cd1766a0de83">IsWritable</a>(ptrChunkModeActive))</div>
<div class="line">        {</div>
<div class="line">            cout &lt;&lt; <span class="stringliteral">&quot;Unable to deactivate chunk mode. Aborting...&quot;</span> &lt;&lt; endl;</div>
<div class="line">            <span class="keywordflow">return</span> -1;</div>
<div class="line">        }</div>
<div class="line">        ptrChunkModeActive-&gt;SetValue(<span class="keyword">false</span>);</div>
<div class="line">        cout &lt;&lt; <span class="stringliteral">&quot;Chunk mode deactivated...&quot;</span> &lt;&lt; endl;</div>
<div class="line"></div>
<div class="line">        <span class="comment">// Disable Inference</span></div>
<div class="line">        <a class="code" href="class_spinnaker_1_1_gen_api_1_1_c_pointer.html">CBooleanPtr</a> ptrInferenceEnable = nodeMap.GetNode(<span class="stringliteral">&quot;InferenceEnable&quot;</span>);</div>
<div class="line">        <span class="keywordflow">if</span> (!<a class="code" href="group___i_node__h.html#ga2f718ca036fb1f237422cd1766a0de83">IsWritable</a>(ptrInferenceEnable))</div>
<div class="line">        {</div>
<div class="line">            cout &lt;&lt; <span class="stringliteral">&quot;Unable to disable inference. Aborting...&quot;</span> &lt;&lt; endl;</div>
<div class="line">            <span class="keywordflow">return</span> -1;</div>
<div class="line">        }</div>
<div class="line">        ptrInferenceEnable-&gt;SetValue(<span class="keyword">false</span>);</div>
<div class="line">        cout &lt;&lt; <span class="stringliteral">&quot;Inference disabled...&quot;</span> &lt;&lt; endl;</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">catch</span> (<a class="code" href="class_spinnaker_1_1_exception.html">Spinnaker::Exception</a>&amp; e)</div>
<div class="line">    {</div>
<div class="line">        cout &lt;&lt; <span class="stringliteral">&quot;Error: &quot;</span> &lt;&lt; e.<a class="code" href="class_spinnaker_1_1_exception.html#aff06f49065b54a8a86e02e9a2441a8ba">what</a>() &lt;&lt; endl;</div>
<div class="line">        result = -1;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">return</span> result;</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="comment">// This function displays the inference-related chunk data from the image.</span></div>
<div class="line"><span class="keywordtype">int</span> <a name="a34"></a><a class="code" href="_chunk_data_8cpp.html#a0ab184c3dd8fa0ebf32dc82a0c578af9">DisplayChunkData</a>(<span class="keyword">const</span> <a name="_a35"></a><a class="code" href="class_spinnaker_1_1_image_ptr.html">ImagePtr</a> pImage)</div>
<div class="line">{</div>
<div class="line">    <span class="keywordtype">int</span> result = 0;</div>
<div class="line"></div>
<div class="line">    cout &lt;&lt; <span class="stringliteral">&quot;Printing chunk data from image...&quot;</span> &lt;&lt; endl;</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">try</span></div>
<div class="line">    {</div>
<div class="line">        <span class="comment">//</span></div>
<div class="line">        <span class="comment">// Retrieve chunk data from image</span></div>
<div class="line">        <span class="comment">//</span></div>
<div class="line">        <span class="comment">// *** NOTES ***</span></div>
<div class="line">        <span class="comment">// When retrieving chunk data from an image, the data is stored in a</span></div>
<div class="line">        <span class="comment">// a ChunkData object and accessed with getter functions.</span></div>
<div class="line">        <span class="comment">//</span></div>
<div class="line">        <span class="keyword">const</span> <a name="_a36"></a><a class="code" href="class_spinnaker_1_1_chunk_data.html">ChunkData</a> chunkData = pImage-&gt;GetChunkData();</div>
<div class="line"></div>
<div class="line">        <span class="keyword">const</span> int64_t inferenceFrameID = chunkData.<a name="a37"></a><a class="code" href="class_spinnaker_1_1_chunk_data.html#aa9c6b374c4488aa8cf4ac92e4cc7fc1f">GetInferenceFrameId</a>();</div>
<div class="line">        cout &lt;&lt; <span class="stringliteral">&quot;\tInference Frame ID: &quot;</span> &lt;&lt; inferenceFrameID &lt;&lt; endl;</div>
<div class="line"></div>
<div class="line">        <span class="keywordflow">if</span> (<a class="code" href="_inference_8cpp.html#a5ac5c39ce86590607a6ce7fcef886fbf">chosenInferenceNetworkType</a> == <a class="code" href="_inference_8cpp.html#ad8cd50c7cd6bbe08f204692617fb0761a167a7ee1aabe9f27e010fff93c0ba971">DETECTION</a>)</div>
<div class="line">        {</div>
<div class="line">            <a name="_a38"></a><a class="code" href="class_spinnaker_1_1_inference_bounding_box_result.html">InferenceBoundingBoxResult</a> boxResult = chunkData.<a name="a39"></a><a class="code" href="class_spinnaker_1_1_chunk_data.html#a831b7ca3fd9c47aafc9c608ccae779b6">GetInferenceBoundingBoxResult</a>();</div>
<div class="line">            <span class="keyword">const</span> int16_t boxCount = boxResult.<a name="a40"></a><a class="code" href="group___chunk_data_inference__h.html#gaa96a8605a57f0b181c0306949aee6519">GetBoxCount</a>();</div>
<div class="line"></div>
<div class="line">            cout &lt;&lt; <span class="stringliteral">&quot;\tInference Bounding Box Result:&quot;</span> &lt;&lt; endl;</div>
<div class="line"></div>
<div class="line">            <span class="keywordflow">if</span> (boxCount == 0)</div>
<div class="line">            {</div>
<div class="line">                cout &lt;&lt; <span class="stringliteral">&quot;\tNo bounding box&quot;</span> &lt;&lt; endl;</div>
<div class="line">            }</div>
<div class="line"></div>
<div class="line">            <span class="keywordflow">for</span> (int16_t i = 0; i &lt; boxCount; ++i)</div>
<div class="line">            {</div>
<div class="line">                <span class="keyword">const</span> <a name="_a41"></a><a class="code" href="struct_inference_bounding_box.html">InferenceBoundingBox</a> box = boxResult.<a name="a42"></a><a class="code" href="group___chunk_data_inference__h.html#ga78312fb24b416bbca6feb9de9fe7f990">GetBoxAt</a>(i);</div>
<div class="line">                <span class="keywordflow">switch</span> (box.<a name="a43"></a><a class="code" href="group___chunk_data_inference__h.html#ga0bbb100a10240efe076cf261027f52bc">boxType</a>)</div>
<div class="line">                {</div>
<div class="line">                <span class="keywordflow">case</span> <a name="a44"></a><a class="code" href="group___spinnaker_classes.html#ggab386cff4fa5f53ba0b2d24b956996ecaaa1af2c0f8106a4bfa1c781b41d20ebd2">INFERENCE_BOX_TYPE_RECTANGLE</a>:</div>
<div class="line">                    cout &lt;&lt; <span class="stringliteral">&quot;\tBox[&quot;</span> &lt;&lt; i + 1 &lt;&lt; <span class="stringliteral">&quot;]: &quot;</span></div>
<div class="line">                         &lt;&lt; <span class="stringliteral">&quot;Class &quot;</span> &lt;&lt; box.<a name="a45"></a><a class="code" href="group___chunk_data_inference__h.html#gac09729d17528a1d0798866dfb86aca70">classId</a> &lt;&lt; <span class="stringliteral">&quot; (&quot;</span></div>
<div class="line">                         &lt;&lt; (<span class="keyword">static_cast&lt;</span>uint64_t<span class="keyword">&gt;</span>(box.<a class="code" href="group___chunk_data_inference__h.html#gac09729d17528a1d0798866dfb86aca70">classId</a>) &lt; <a class="code" href="_inference_8cpp.html#a2df39f37e1f6ca33ea770ffae8dd4022">labelDetection</a>.size() ? <a class="code" href="_inference_8cpp.html#a2df39f37e1f6ca33ea770ffae8dd4022">labelDetection</a>[box.<a class="code" href="group___chunk_data_inference__h.html#gac09729d17528a1d0798866dfb86aca70">classId</a>]</div>
<div class="line">                                                                                        : <span class="stringliteral">&quot;N/A&quot;</span>)</div>
<div class="line">                         &lt;&lt; <span class="stringliteral">&quot;) - &quot;</span> &lt;&lt; box.<a name="a46"></a><a class="code" href="group___chunk_data_inference__h.html#gac93f7d23b4bf04ab1f3f048d402bd95d">confidence</a> * 100 &lt;&lt; <span class="stringliteral">&quot;% - &quot;</span></div>
<div class="line">                         &lt;&lt; <span class="stringliteral">&quot;Rectangle (&quot;</span></div>
<div class="line">                         &lt;&lt; <span class="stringliteral">&quot;X=&quot;</span> &lt;&lt; box.<a name="a47"></a><a class="code" href="group___chunk_data_inference__h.html#ga899fc489a09dfaeb527b46c2ad94485c">rect</a>.<a name="a48"></a><a class="code" href="group___chunk_data_inference__h.html#gaa4c37779f0075a90e587a5bd7bbfe732">topLeftXCoord</a> &lt;&lt; <span class="stringliteral">&quot;, &quot;</span></div>
<div class="line">                         &lt;&lt; <span class="stringliteral">&quot;Y=&quot;</span> &lt;&lt; box.<a class="code" href="group___chunk_data_inference__h.html#ga899fc489a09dfaeb527b46c2ad94485c">rect</a>.<a name="a49"></a><a class="code" href="group___chunk_data_inference__h.html#gaab00449070038df308be07c1177aee98">topLeftYCoord</a> &lt;&lt; <span class="stringliteral">&quot;, &quot;</span></div>
<div class="line">                         &lt;&lt; <span class="stringliteral">&quot;W=&quot;</span> &lt;&lt; box.<a class="code" href="group___chunk_data_inference__h.html#ga899fc489a09dfaeb527b46c2ad94485c">rect</a>.<a name="a50"></a><a class="code" href="group___chunk_data_inference__h.html#ga490234ef7ee75a2684591fc159877cf1">bottomRightXCoord</a> - box.<a class="code" href="group___chunk_data_inference__h.html#ga899fc489a09dfaeb527b46c2ad94485c">rect</a>.<a class="code" href="group___chunk_data_inference__h.html#gaa4c37779f0075a90e587a5bd7bbfe732">topLeftXCoord</a> &lt;&lt; <span class="stringliteral">&quot;, &quot;</span></div>
<div class="line">                         &lt;&lt; <span class="stringliteral">&quot;H=&quot;</span> &lt;&lt; box.<a class="code" href="group___chunk_data_inference__h.html#ga899fc489a09dfaeb527b46c2ad94485c">rect</a>.<a name="a51"></a><a class="code" href="group___chunk_data_inference__h.html#ga350b7c70712219c14f9e06c0f9c1e679">bottomRightYCoord</a> - box.<a class="code" href="group___chunk_data_inference__h.html#ga899fc489a09dfaeb527b46c2ad94485c">rect</a>.<a class="code" href="group___chunk_data_inference__h.html#gaab00449070038df308be07c1177aee98">topLeftYCoord</a> &lt;&lt; <span class="stringliteral">&quot;)&quot;</span> &lt;&lt; endl;</div>
<div class="line">                    <span class="keywordflow">break</span>;</div>
<div class="line">                <span class="keywordflow">case</span> <a name="a52"></a><a class="code" href="group___spinnaker_classes.html#ggab386cff4fa5f53ba0b2d24b956996ecaae7fbabad8611946f597ee4d1529528c1">INFERENCE_BOX_TYPE_CIRCLE</a>:</div>
<div class="line">                    cout &lt;&lt; <span class="stringliteral">&quot;\tBox[&quot;</span> &lt;&lt; i + 1 &lt;&lt; <span class="stringliteral">&quot;]: &quot;</span></div>
<div class="line">                         &lt;&lt; <span class="stringliteral">&quot;Class &quot;</span> &lt;&lt; box.<a class="code" href="group___chunk_data_inference__h.html#gac09729d17528a1d0798866dfb86aca70">classId</a> &lt;&lt; <span class="stringliteral">&quot; (&quot;</span></div>
<div class="line">                         &lt;&lt; (static_cast&lt;uint64_t&gt;(box.<a class="code" href="group___chunk_data_inference__h.html#gac09729d17528a1d0798866dfb86aca70">classId</a>) &lt; <a class="code" href="_inference_8cpp.html#a2df39f37e1f6ca33ea770ffae8dd4022">labelDetection</a>.size() ? <a class="code" href="_inference_8cpp.html#a2df39f37e1f6ca33ea770ffae8dd4022">labelDetection</a>[box.<a class="code" href="group___chunk_data_inference__h.html#gac09729d17528a1d0798866dfb86aca70">classId</a>]</div>
<div class="line">                                                                                        : <span class="stringliteral">&quot;N/A&quot;</span>)</div>
<div class="line">                         &lt;&lt; <span class="stringliteral">&quot;) - &quot;</span> &lt;&lt; box.<a class="code" href="group___chunk_data_inference__h.html#gac93f7d23b4bf04ab1f3f048d402bd95d">confidence</a> * 100 &lt;&lt; <span class="stringliteral">&quot;% - &quot;</span></div>
<div class="line">                         &lt;&lt; <span class="stringliteral">&quot;Circle (&quot;</span></div>
<div class="line">                         &lt;&lt; <span class="stringliteral">&quot;X=&quot;</span> &lt;&lt; box.<a name="a53"></a><a class="code" href="group___chunk_data_inference__h.html#gab97318e004fd1bd2e5d8643e151e51b9">circle</a>.<a name="a54"></a><a class="code" href="group___chunk_data_inference__h.html#ga42964679b29a44e13f39f3fe549ec9e7">centerXCoord</a> &lt;&lt; <span class="stringliteral">&quot;, &quot;</span></div>
<div class="line">                         &lt;&lt; <span class="stringliteral">&quot;Y=&quot;</span> &lt;&lt; box.<a class="code" href="group___chunk_data_inference__h.html#gab97318e004fd1bd2e5d8643e151e51b9">circle</a>.<a name="a55"></a><a class="code" href="group___chunk_data_inference__h.html#ga74ac3e97569a2c660cc8e2cf69dea04c">centerYCoord</a> &lt;&lt; <span class="stringliteral">&quot;, &quot;</span></div>
<div class="line">                         &lt;&lt; <span class="stringliteral">&quot;R=&quot;</span> &lt;&lt; box.<a class="code" href="group___chunk_data_inference__h.html#gab97318e004fd1bd2e5d8643e151e51b9">circle</a>.<a name="a56"></a><a class="code" href="group___chunk_data_inference__h.html#ga57fcaaad6c99761a56b63f901b25f1c7">radius</a> &lt;&lt; <span class="stringliteral">&quot;)&quot;</span> &lt;&lt; endl;</div>
<div class="line">                    <span class="keywordflow">break</span>;</div>
<div class="line">                <span class="keywordflow">case</span> <a name="a57"></a><a class="code" href="group___spinnaker_classes.html#ggab386cff4fa5f53ba0b2d24b956996ecaa0b06bc7883216392f06072694d2e92b2">INFERENCE_BOX_TYPE_ROTATED_RECTANGLE</a>:</div>
<div class="line">                    cout &lt;&lt; <span class="stringliteral">&quot;\tBox[&quot;</span> &lt;&lt; i + 1 &lt;&lt; <span class="stringliteral">&quot;]: &quot;</span></div>
<div class="line">                         &lt;&lt; <span class="stringliteral">&quot;Class &quot;</span> &lt;&lt; box.<a class="code" href="group___chunk_data_inference__h.html#gac09729d17528a1d0798866dfb86aca70">classId</a> &lt;&lt; <span class="stringliteral">&quot; (&quot;</span></div>
<div class="line">                         &lt;&lt; (static_cast&lt;uint64_t&gt;(box.<a class="code" href="group___chunk_data_inference__h.html#gac09729d17528a1d0798866dfb86aca70">classId</a>) &lt; <a class="code" href="_inference_8cpp.html#a2df39f37e1f6ca33ea770ffae8dd4022">labelDetection</a>.size() ? <a class="code" href="_inference_8cpp.html#a2df39f37e1f6ca33ea770ffae8dd4022">labelDetection</a>[box.<a class="code" href="group___chunk_data_inference__h.html#gac09729d17528a1d0798866dfb86aca70">classId</a>]</div>
<div class="line">                                                                                        : <span class="stringliteral">&quot;N/A&quot;</span>)</div>
<div class="line">                         &lt;&lt; <span class="stringliteral">&quot;) - &quot;</span> &lt;&lt; box.<a class="code" href="group___chunk_data_inference__h.html#gac93f7d23b4bf04ab1f3f048d402bd95d">confidence</a> * 100 &lt;&lt; <span class="stringliteral">&quot;% - &quot;</span></div>
<div class="line">                         &lt;&lt; <span class="stringliteral">&quot;Rotated Rectangle (&quot;</span></div>
<div class="line">                         &lt;&lt; <span class="stringliteral">&quot;X1=&quot;</span> &lt;&lt; box.<a name="a58"></a><a class="code" href="group___chunk_data_inference__h.html#ga37281fb3ace15cf95b6e27014db753cc">rotatedRect</a>.<a name="a59"></a><a class="code" href="group___chunk_data_inference__h.html#gaa4c37779f0075a90e587a5bd7bbfe732">topLeftXCoord</a> &lt;&lt; <span class="stringliteral">&quot;, &quot;</span></div>
<div class="line">                         &lt;&lt; <span class="stringliteral">&quot;Y1=&quot;</span> &lt;&lt; box.<a class="code" href="group___chunk_data_inference__h.html#ga37281fb3ace15cf95b6e27014db753cc">rotatedRect</a>.<a name="a60"></a><a class="code" href="group___chunk_data_inference__h.html#gaab00449070038df308be07c1177aee98">topLeftYCoord</a> &lt;&lt; <span class="stringliteral">&quot;, &quot;</span></div>
<div class="line">                         &lt;&lt; <span class="stringliteral">&quot;X2=&quot;</span> &lt;&lt; box.<a class="code" href="group___chunk_data_inference__h.html#ga37281fb3ace15cf95b6e27014db753cc">rotatedRect</a>.<a name="a61"></a><a class="code" href="group___chunk_data_inference__h.html#ga490234ef7ee75a2684591fc159877cf1">bottomRightXCoord</a> &lt;&lt; <span class="stringliteral">&quot;, &quot;</span></div>
<div class="line">                         &lt;&lt; <span class="stringliteral">&quot;Y2=&quot;</span> &lt;&lt; box.<a class="code" href="group___chunk_data_inference__h.html#ga37281fb3ace15cf95b6e27014db753cc">rotatedRect</a>.<a name="a62"></a><a class="code" href="group___chunk_data_inference__h.html#ga350b7c70712219c14f9e06c0f9c1e679">bottomRightYCoord</a> &lt;&lt; <span class="stringliteral">&quot;, &quot;</span></div>
<div class="line">                         &lt;&lt; <span class="stringliteral">&quot;angle=&quot;</span> &lt;&lt; box.<a class="code" href="group___chunk_data_inference__h.html#ga37281fb3ace15cf95b6e27014db753cc">rotatedRect</a>.<a name="a63"></a><a class="code" href="group___chunk_data_inference__h.html#ga9a14e0694f88945eada0ce69dd56c0d3">rotationAngle</a> &lt;&lt; <span class="stringliteral">&quot;)&quot;</span> &lt;&lt; endl;</div>
<div class="line">                    <span class="keywordflow">break</span>;</div>
<div class="line">                <span class="keywordflow">default</span>:</div>
<div class="line">                    cout &lt;&lt; <span class="stringliteral">&quot;\tBox[&quot;</span> &lt;&lt; i + 1 &lt;&lt; <span class="stringliteral">&quot;]: &quot;</span></div>
<div class="line">                         &lt;&lt; <span class="stringliteral">&quot;Class &quot;</span> &lt;&lt; box.<a class="code" href="group___chunk_data_inference__h.html#gac09729d17528a1d0798866dfb86aca70">classId</a> &lt;&lt; <span class="stringliteral">&quot; (&quot;</span></div>
<div class="line">                         &lt;&lt; (static_cast&lt;uint64_t&gt;(box.<a class="code" href="group___chunk_data_inference__h.html#gac09729d17528a1d0798866dfb86aca70">classId</a>) &lt; <a class="code" href="_inference_8cpp.html#a2df39f37e1f6ca33ea770ffae8dd4022">labelDetection</a>.size() ? <a class="code" href="_inference_8cpp.html#a2df39f37e1f6ca33ea770ffae8dd4022">labelDetection</a>[box.<a class="code" href="group___chunk_data_inference__h.html#gac09729d17528a1d0798866dfb86aca70">classId</a>]</div>
<div class="line">                                                                                        : <span class="stringliteral">&quot;N/A&quot;</span>)</div>
<div class="line">                         &lt;&lt; <span class="stringliteral">&quot;) - &quot;</span> &lt;&lt; box.<a class="code" href="group___chunk_data_inference__h.html#gac93f7d23b4bf04ab1f3f048d402bd95d">confidence</a> * 100 &lt;&lt; <span class="stringliteral">&quot;% - &quot;</span></div>
<div class="line">                         &lt;&lt; <span class="stringliteral">&quot;Unknown bounding box type (not supported)&quot;</span> &lt;&lt; endl;</div>
<div class="line">                    <span class="keywordflow">break</span>;</div>
<div class="line">                }</div>
<div class="line">            }</div>
<div class="line">        }</div>
<div class="line">        <span class="keywordflow">else</span></div>
<div class="line">        {</div>
<div class="line">            uint64_t inferenceResult = chunkData.<a name="a64"></a><a class="code" href="class_spinnaker_1_1_chunk_data.html#a14d07bc19726d803ff9888b794a0a137">GetInferenceResult</a>();</div>
<div class="line">            cout &lt;&lt; <span class="stringliteral">&quot;\tInference Result: &quot;</span> &lt;&lt; inferenceResult &lt;&lt; <span class="stringliteral">&quot; (&quot;</span></div>
<div class="line">                 &lt;&lt; (inferenceResult &lt; <a class="code" href="_inference_8cpp.html#ae26c4bcae8f2f9e4d11d0aec74d67d04">labelClassification</a>.size() ? <a class="code" href="_inference_8cpp.html#ae26c4bcae8f2f9e4d11d0aec74d67d04">labelClassification</a>[inferenceResult] : <span class="stringliteral">&quot;N/A&quot;</span>) &lt;&lt; <span class="stringliteral">&quot;)&quot;</span></div>
<div class="line">                 &lt;&lt; endl;</div>
<div class="line"></div>
<div class="line">            <span class="keywordtype">double</span> inferenceConfidence = chunkData.<a name="a65"></a><a class="code" href="class_spinnaker_1_1_chunk_data.html#ae46a39145b36d92732566a5efd0c8e14">GetInferenceConfidence</a>();</div>
<div class="line">            cout &lt;&lt; <span class="stringliteral">&quot;\tInference Confidence: &quot;</span> &lt;&lt; inferenceConfidence &lt;&lt; endl;</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">catch</span> (<a class="code" href="class_spinnaker_1_1_exception.html">Spinnaker::Exception</a>&amp; e)</div>
<div class="line">    {</div>
<div class="line">        cout &lt;&lt; <span class="stringliteral">&quot;Error: &quot;</span> &lt;&lt; e.<a class="code" href="class_spinnaker_1_1_exception.html#aff06f49065b54a8a86e02e9a2441a8ba">what</a>() &lt;&lt; endl;</div>
<div class="line">        result = -1;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">return</span> result;</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="comment">// This function disables trigger mode on the camera.</span></div>
<div class="line"><span class="keywordtype">int</span> <a name="a66"></a><a class="code" href="_inference_8cpp.html#a968f08f1fded7228b4843c8ae01920ec">DisableTrigger</a>(<a class="code" href="group___i_node_map__h.html#ga3e4a9df80b7da602af317c71c6541c71">INodeMap</a>&amp; nodeMap)</div>
<div class="line">{</div>
<div class="line">    cout &lt;&lt; endl &lt;&lt; endl &lt;&lt; <span class="stringliteral">&quot;*** DISABLING TRIGGER ***&quot;</span> &lt;&lt; endl &lt;&lt; endl;</div>
<div class="line">    <span class="keywordtype">int</span> result = 0;</div>
<div class="line">    <span class="keywordflow">try</span></div>
<div class="line">    {</div>
<div class="line">        <span class="comment">// Configure TriggerMode</span></div>
<div class="line">        <a class="code" href="class_spinnaker_1_1_gen_api_1_1_c_pointer.html">CEnumerationPtr</a> ptrTriggerMode = nodeMap.GetNode(<span class="stringliteral">&quot;TriggerMode&quot;</span>);</div>
<div class="line">        <span class="keywordflow">if</span> (!<a class="code" href="group___i_node__h.html#ga2f718ca036fb1f237422cd1766a0de83">IsWritable</a>(ptrTriggerMode))</div>
<div class="line">        {</div>
<div class="line">            cout &lt;&lt; <span class="stringliteral">&quot;Unable to configure TriggerMode. Aborting...&quot;</span> &lt;&lt; endl;</div>
<div class="line">            <span class="keywordflow">return</span> -1;</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        <a class="code" href="class_spinnaker_1_1_gen_api_1_1_c_pointer.html">CEnumEntryPtr</a> ptrTriggerOff = ptrTriggerMode-&gt;GetEntryByName(<span class="stringliteral">&quot;Off&quot;</span>);</div>
<div class="line">        <span class="keywordflow">if</span> (!<a class="code" href="group___i_node__h.html#gacb8a89e72218331cdb53e0a530a6a566">IsReadable</a>(ptrTriggerOff))</div>
<div class="line">        {</div>
<div class="line">            cout &lt;&lt; <span class="stringliteral">&quot;Unable to query TriggerMode Off. Aborting...&quot;</span> &lt;&lt; endl;</div>
<div class="line">            <span class="keywordflow">return</span> -1;</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        cout &lt;&lt; <span class="stringliteral">&quot;Configure TriggerMode to &quot;</span> &lt;&lt; ptrTriggerOff-&gt;GetSymbolic() &lt;&lt; endl;</div>
<div class="line">        ptrTriggerMode-&gt;SetIntValue(static_cast&lt;int64_t&gt;(ptrTriggerOff-&gt;GetNumericValue()));</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">catch</span> (<a class="code" href="class_spinnaker_1_1_exception.html">Spinnaker::Exception</a>&amp; e)</div>
<div class="line">    {</div>
<div class="line">        cout &lt;&lt; <span class="stringliteral">&quot;Unexpected exception : &quot;</span> &lt;&lt; e.<a class="code" href="class_spinnaker_1_1_exception.html#aff06f49065b54a8a86e02e9a2441a8ba">what</a>();</div>
<div class="line">        result = -1;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">return</span> result;</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="comment">// This function configures camera to run in &quot;inference sync&quot; trigger mode.</span></div>
<div class="line"><span class="keywordtype">int</span> <a name="a67"></a><a class="code" href="_action_command_8cpp.html#a4075b98dbe11849b1fa7177da0580c38">ConfigureTrigger</a>(<a class="code" href="group___i_node_map__h.html#ga3e4a9df80b7da602af317c71c6541c71">INodeMap</a>&amp; nodeMap)</div>
<div class="line">{</div>
<div class="line">    cout &lt;&lt; endl &lt;&lt; endl &lt;&lt; <span class="stringliteral">&quot;*** CONFIGURING TRIGGER ***&quot;</span> &lt;&lt; endl &lt;&lt; endl;</div>
<div class="line">    <span class="keywordtype">int</span> result = 0;</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">try</span></div>
<div class="line">    {</div>
<div class="line">        <span class="comment">// Configure TriggerSelector</span></div>
<div class="line">        <a class="code" href="class_spinnaker_1_1_gen_api_1_1_c_pointer.html">CEnumerationPtr</a> ptrTriggerSelector = nodeMap.GetNode(<span class="stringliteral">&quot;TriggerSelector&quot;</span>);</div>
<div class="line">        <span class="keywordflow">if</span> (!<a class="code" href="group___i_node__h.html#ga2f718ca036fb1f237422cd1766a0de83">IsWritable</a>(ptrTriggerSelector))</div>
<div class="line">        {</div>
<div class="line">            cout &lt;&lt; <span class="stringliteral">&quot;Unable to configure TriggerSelector. Aborting...&quot;</span> &lt;&lt; endl;</div>
<div class="line">            <span class="keywordflow">return</span> -1;</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        <a class="code" href="class_spinnaker_1_1_gen_api_1_1_c_pointer.html">CEnumEntryPtr</a> ptrFrameStart = ptrTriggerSelector-&gt;GetEntryByName(<span class="stringliteral">&quot;FrameStart&quot;</span>);</div>
<div class="line">        <span class="keywordflow">if</span> (!<a class="code" href="group___i_node__h.html#gacb8a89e72218331cdb53e0a530a6a566">IsReadable</a>(ptrFrameStart))</div>
<div class="line">        {</div>
<div class="line">            cout &lt;&lt; <span class="stringliteral">&quot;Unable to query TriggerSelector FrameStart. Aborting...&quot;</span> &lt;&lt; endl;</div>
<div class="line">            <span class="keywordflow">return</span> -1;</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        cout &lt;&lt; <span class="stringliteral">&quot;Configure TriggerSelector to &quot;</span> &lt;&lt; ptrFrameStart-&gt;GetSymbolic() &lt;&lt; endl;</div>
<div class="line">        ptrTriggerSelector-&gt;SetIntValue(static_cast&lt;int64_t&gt;(ptrFrameStart-&gt;GetNumericValue()));</div>
<div class="line"></div>
<div class="line">        <span class="comment">// Configure TriggerSource</span></div>
<div class="line">        <a class="code" href="class_spinnaker_1_1_gen_api_1_1_c_pointer.html">CEnumerationPtr</a> ptrTriggerSource = nodeMap.GetNode(<span class="stringliteral">&quot;TriggerSource&quot;</span>);</div>
<div class="line">        <span class="keywordflow">if</span> (!<a class="code" href="group___i_node__h.html#ga2f718ca036fb1f237422cd1766a0de83">IsWritable</a>(ptrTriggerSource))</div>
<div class="line">        {</div>
<div class="line">            cout &lt;&lt; <span class="stringliteral">&quot;Unable to configure TriggerSource. Aborting...&quot;</span> &lt;&lt; endl;</div>
<div class="line">            <span class="keywordflow">return</span> -1;</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        <a class="code" href="class_spinnaker_1_1_gen_api_1_1_c_pointer.html">CEnumEntryPtr</a> ptrInferenceReady = ptrTriggerSource-&gt;GetEntryByName(<span class="stringliteral">&quot;InferenceReady&quot;</span>);</div>
<div class="line">        <span class="keywordflow">if</span> (!<a class="code" href="group___i_node__h.html#gacb8a89e72218331cdb53e0a530a6a566">IsReadable</a>(ptrInferenceReady))</div>
<div class="line">        {</div>
<div class="line">            cout &lt;&lt; <span class="stringliteral">&quot;Unable to query TriggerSource InferenceReady. Aborting...&quot;</span> &lt;&lt; endl;</div>
<div class="line">            <span class="keywordflow">return</span> -1;</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        cout &lt;&lt; <span class="stringliteral">&quot;Configure TriggerSource to &quot;</span> &lt;&lt; ptrInferenceReady-&gt;GetSymbolic() &lt;&lt; endl;</div>
<div class="line">        ptrTriggerSource-&gt;SetIntValue(static_cast&lt;int64_t&gt;(ptrInferenceReady-&gt;GetNumericValue()));</div>
<div class="line"></div>
<div class="line">        <span class="comment">// Configure TriggerMode</span></div>
<div class="line">        <a class="code" href="class_spinnaker_1_1_gen_api_1_1_c_pointer.html">CEnumerationPtr</a> ptrTriggerMode = nodeMap.GetNode(<span class="stringliteral">&quot;TriggerMode&quot;</span>);</div>
<div class="line">        <span class="keywordflow">if</span> (!<a class="code" href="group___i_node__h.html#ga2f718ca036fb1f237422cd1766a0de83">IsWritable</a>(ptrTriggerMode))</div>
<div class="line">        {</div>
<div class="line">            cout &lt;&lt; <span class="stringliteral">&quot;Unable to configure TriggerMode. Aborting...&quot;</span> &lt;&lt; endl;</div>
<div class="line">            <span class="keywordflow">return</span> -1;</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        <a class="code" href="class_spinnaker_1_1_gen_api_1_1_c_pointer.html">CEnumEntryPtr</a> ptrTriggerOn = ptrTriggerMode-&gt;GetEntryByName(<span class="stringliteral">&quot;On&quot;</span>);</div>
<div class="line">        <span class="keywordflow">if</span> (!<a class="code" href="group___i_node__h.html#gacb8a89e72218331cdb53e0a530a6a566">IsReadable</a>(ptrTriggerOn))</div>
<div class="line">        {</div>
<div class="line">            cout &lt;&lt; <span class="stringliteral">&quot;Unable to query TriggerMode On. Aborting...&quot;</span> &lt;&lt; endl;</div>
<div class="line">            <span class="keywordflow">return</span> -1;</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        cout &lt;&lt; <span class="stringliteral">&quot;Configure TriggerMode to &quot;</span> &lt;&lt; ptrTriggerOn-&gt;GetSymbolic() &lt;&lt; endl;</div>
<div class="line">        ptrTriggerMode-&gt;SetIntValue(static_cast&lt;int64_t&gt;(ptrTriggerOn-&gt;GetNumericValue()));</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">catch</span> (<a class="code" href="class_spinnaker_1_1_exception.html">Spinnaker::Exception</a>&amp; e)</div>
<div class="line">    {</div>
<div class="line">        cout &lt;&lt; <span class="stringliteral">&quot;Unexpected exception : &quot;</span> &lt;&lt; e.<a class="code" href="class_spinnaker_1_1_exception.html#aff06f49065b54a8a86e02e9a2441a8ba">what</a>();</div>
<div class="line">        result = -1;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">return</span> result;</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="comment">// This function enables/disables inference on the camera and configures the inference network type</span></div>
<div class="line"><span class="keywordtype">int</span> <a name="a68"></a><a class="code" href="_inference_8cpp.html#a6e65c8eb3cf9b4330dc0b3deb305e335">ConfigureInference</a>(<a class="code" href="group___i_node_map__h.html#ga3e4a9df80b7da602af317c71c6541c71">INodeMap</a>&amp; nodeMap, <span class="keywordtype">bool</span> isEnabled)</div>
<div class="line">{</div>
<div class="line">    <span class="keywordtype">int</span> result = 0;</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">if</span> (isEnabled)</div>
<div class="line">    {</div>
<div class="line">        cout &lt;&lt; endl</div>
<div class="line">             &lt;&lt; endl</div>
<div class="line">             &lt;&lt; <span class="stringliteral">&quot;*** CONFIGURING INFERENCE (&quot;</span></div>
<div class="line">             &lt;&lt; ((<a class="code" href="_inference_8cpp.html#a5ac5c39ce86590607a6ce7fcef886fbf">chosenInferenceNetworkType</a> == <a class="code" href="_inference_8cpp.html#ad8cd50c7cd6bbe08f204692617fb0761a167a7ee1aabe9f27e010fff93c0ba971">DETECTION</a>) ? <span class="stringliteral">&quot;DETECTION&quot;</span> : <span class="stringliteral">&quot;CLASSIFICATION&quot;</span>) &lt;&lt; <span class="stringliteral">&quot;) ***&quot;</span> &lt;&lt; endl</div>
<div class="line">             &lt;&lt; endl;</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">else</span></div>
<div class="line">    {</div>
<div class="line">        cout &lt;&lt; endl &lt;&lt; endl &lt;&lt; <span class="stringliteral">&quot;*** DISABLING INFERENCE ***&quot;</span> &lt;&lt; endl &lt;&lt; endl;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">try</span></div>
<div class="line">    {</div>
<div class="line">        <span class="keywordflow">if</span> (isEnabled)</div>
<div class="line">        {</div>
<div class="line">            <span class="comment">// Set Network Type to Detection</span></div>
<div class="line">            <a class="code" href="class_spinnaker_1_1_gen_api_1_1_c_pointer.html">CEnumerationPtr</a> ptrInferenceNetworkTypeSelector = nodeMap.GetNode(<span class="stringliteral">&quot;InferenceNetworkTypeSelector&quot;</span>);</div>
<div class="line">            <span class="keywordflow">if</span> (!<a class="code" href="group___i_node__h.html#ga2f718ca036fb1f237422cd1766a0de83">IsWritable</a>(ptrInferenceNetworkTypeSelector))</div>
<div class="line">            {</div>
<div class="line">                cout &lt;&lt; <span class="stringliteral">&quot;Unable to query InferenceNetworkTypeSelector. Aborting...&quot;</span> &lt;&lt; endl;</div>
<div class="line">                <span class="keywordflow">return</span> -1;</div>
<div class="line">            }</div>
<div class="line"></div>
<div class="line">            <span class="keyword">const</span> <a class="code" href="class_spinnaker_1_1_gen_i_cam_1_1gcstring.html">gcstring</a> networkTypeString =</div>
<div class="line">                (<a class="code" href="_inference_8cpp.html#a5ac5c39ce86590607a6ce7fcef886fbf">chosenInferenceNetworkType</a> == <a class="code" href="_inference_8cpp.html#ad8cd50c7cd6bbe08f204692617fb0761a167a7ee1aabe9f27e010fff93c0ba971">DETECTION</a>) ? <span class="stringliteral">&quot;Detection&quot;</span> : <span class="stringliteral">&quot;Classification&quot;</span>;</div>
<div class="line"></div>
<div class="line">            <span class="comment">// Retrieve entry node from enumeration node</span></div>
<div class="line">            <a class="code" href="class_spinnaker_1_1_gen_api_1_1_c_pointer.html">CEnumEntryPtr</a> ptrInferenceNetworkType = ptrInferenceNetworkTypeSelector-&gt;GetEntryByName(networkTypeString);</div>
<div class="line">            <span class="keywordflow">if</span> (!<a class="code" href="group___i_node__h.html#gacb8a89e72218331cdb53e0a530a6a566">IsReadable</a>(ptrInferenceNetworkType))</div>
<div class="line">            {</div>
<div class="line">                cout &lt;&lt; <span class="stringliteral">&quot;Unable to set inference network type to &quot;</span> &lt;&lt; networkTypeString</div>
<div class="line">                     &lt;&lt; <span class="stringliteral">&quot; (entry retrieval). Aborting...&quot;</span> &lt;&lt; endl</div>
<div class="line">                     &lt;&lt; endl;</div>
<div class="line">                <span class="keywordflow">return</span> -1;</div>
<div class="line">            }</div>
<div class="line"></div>
<div class="line">            ptrInferenceNetworkTypeSelector-&gt;SetIntValue(</div>
<div class="line">                static_cast&lt;int64_t&gt;(ptrInferenceNetworkType-&gt;GetNumericValue()));</div>
<div class="line"></div>
<div class="line">            cout &lt;&lt; <span class="stringliteral">&quot;Inference network type set to &quot;</span> &lt;&lt; networkTypeString &lt;&lt; <span class="stringliteral">&quot;...&quot;</span> &lt;&lt; endl;</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        <span class="comment">// Enable/Disable inference</span></div>
<div class="line">        cout &lt;&lt; (isEnabled ? <span class="stringliteral">&quot;Enabling&quot;</span> : <span class="stringliteral">&quot;Disabling&quot;</span>) &lt;&lt; <span class="stringliteral">&quot; inference...&quot;</span> &lt;&lt; endl;</div>
<div class="line">        <a class="code" href="class_spinnaker_1_1_gen_api_1_1_c_pointer.html">CBooleanPtr</a> ptrInferenceEnable = nodeMap.GetNode(<span class="stringliteral">&quot;InferenceEnable&quot;</span>);</div>
<div class="line">        <span class="keywordflow">if</span> (!<a class="code" href="group___i_node__h.html#ga2f718ca036fb1f237422cd1766a0de83">IsWritable</a>(ptrInferenceEnable))</div>
<div class="line">        {</div>
<div class="line">            cout &lt;&lt; <span class="stringliteral">&quot;Unable to enable inference. Aborting...&quot;</span> &lt;&lt; endl;</div>
<div class="line">            <span class="keywordflow">return</span> -1;</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        ptrInferenceEnable-&gt;SetValue(isEnabled);</div>
<div class="line">        cout &lt;&lt; <span class="stringliteral">&quot;Inference &quot;</span> &lt;&lt; (isEnabled ? <span class="stringliteral">&quot;enabled...&quot;</span> : <span class="stringliteral">&quot;disabled...&quot;</span>) &lt;&lt; endl;</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">catch</span> (<a class="code" href="class_spinnaker_1_1_exception.html">Spinnaker::Exception</a>&amp; e)</div>
<div class="line">    {</div>
<div class="line">        cout &lt;&lt; <span class="stringliteral">&quot;Unexpected exception : &quot;</span> &lt;&lt; e.<a class="code" href="class_spinnaker_1_1_exception.html#aff06f49065b54a8a86e02e9a2441a8ba">what</a>() &lt;&lt; endl;</div>
<div class="line">        result = -1;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">return</span> result;</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="comment">// This function configures camera test pattern to make use of the injected test image for inference</span></div>
<div class="line"><span class="keywordtype">int</span> <a name="a69"></a><a class="code" href="_inference_8cpp.html#a5e060cc48eefd49c80d002c9e2ad6e73">ConfigureTestPattern</a>(<a class="code" href="group___i_node_map__h.html#ga3e4a9df80b7da602af317c71c6541c71">INodeMap</a>&amp; nodeMap, <span class="keywordtype">bool</span> isEnabled)</div>
<div class="line">{</div>
<div class="line">    <span class="keywordtype">int</span> result = 0;</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">if</span> (isEnabled)</div>
<div class="line">    {</div>
<div class="line">        cout &lt;&lt; endl &lt;&lt; endl &lt;&lt; <span class="stringliteral">&quot;*** CONFIGURING TEST PATTERN ***&quot;</span> &lt;&lt; endl &lt;&lt; endl;</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">else</span></div>
<div class="line">    {</div>
<div class="line">        cout &lt;&lt; endl &lt;&lt; endl &lt;&lt; <span class="stringliteral">&quot;*** DISABLING TEST PATTERN ***&quot;</span> &lt;&lt; endl &lt;&lt; endl;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">try</span></div>
<div class="line">    {</div>
<div class="line">        <span class="comment">// Set TestPatternGeneratorSelector to PipelineStart</span></div>
<div class="line">        <a class="code" href="class_spinnaker_1_1_gen_api_1_1_c_pointer.html">CEnumerationPtr</a> ptrTestPatternGeneratorSelector = nodeMap.GetNode(<span class="stringliteral">&quot;TestPatternGeneratorSelector&quot;</span>);</div>
<div class="line">        <span class="keywordflow">if</span> (!<a class="code" href="group___i_node__h.html#ga2f718ca036fb1f237422cd1766a0de83">IsWritable</a>(ptrTestPatternGeneratorSelector))</div>
<div class="line">        {</div>
<div class="line">            cout &lt;&lt; <span class="stringliteral">&quot;Unable to query TestPatternGeneratorSelector. Aborting...&quot;</span> &lt;&lt; endl;</div>
<div class="line">            <span class="keywordflow">return</span> -1;</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        <span class="keywordflow">if</span> (isEnabled)</div>
<div class="line">        {</div>
<div class="line">            <a class="code" href="class_spinnaker_1_1_gen_api_1_1_c_pointer.html">CEnumEntryPtr</a> ptrTestPatternGeneratorPipelineStart =</div>
<div class="line">                ptrTestPatternGeneratorSelector-&gt;GetEntryByName(<span class="stringliteral">&quot;PipelineStart&quot;</span>);</div>
<div class="line">            <span class="keywordflow">if</span> (!<a class="code" href="group___i_node__h.html#gacb8a89e72218331cdb53e0a530a6a566">IsReadable</a>(ptrTestPatternGeneratorPipelineStart))</div>
<div class="line">            {</div>
<div class="line">                cout &lt;&lt; <span class="stringliteral">&quot;Unable to query TestPatternGeneratorSelector PipelineStart. Aborting...&quot;</span> &lt;&lt; endl;</div>
<div class="line">                <span class="keywordflow">return</span> -1;</div>
<div class="line">            }</div>
<div class="line"></div>
<div class="line">            ptrTestPatternGeneratorSelector-&gt;SetIntValue(</div>
<div class="line">                static_cast&lt;int64_t&gt;(ptrTestPatternGeneratorPipelineStart-&gt;GetNumericValue()));</div>
<div class="line">            cout &lt;&lt; <span class="stringliteral">&quot;TestPatternGeneratorSelector set to &quot;</span> &lt;&lt; ptrTestPatternGeneratorPipelineStart-&gt;GetSymbolic()</div>
<div class="line">                 &lt;&lt; <span class="stringliteral">&quot;...&quot;</span> &lt;&lt; endl;</div>
<div class="line">        }</div>
<div class="line">        <span class="keywordflow">else</span></div>
<div class="line">        {</div>
<div class="line">            <a class="code" href="class_spinnaker_1_1_gen_api_1_1_c_pointer.html">CEnumEntryPtr</a> ptrTestPatternGeneratorSensor = ptrTestPatternGeneratorSelector-&gt;GetEntryByName(<span class="stringliteral">&quot;Sensor&quot;</span>);</div>
<div class="line">            <span class="keywordflow">if</span> (!<a class="code" href="group___i_node__h.html#gacb8a89e72218331cdb53e0a530a6a566">IsReadable</a>(ptrTestPatternGeneratorSensor))</div>
<div class="line">            {</div>
<div class="line">                cout &lt;&lt; <span class="stringliteral">&quot;Unable to query TestPatternGeneratorSelector Sensor. Aborting...&quot;</span> &lt;&lt; endl;</div>
<div class="line">                <span class="keywordflow">return</span> -1;</div>
<div class="line">            }</div>
<div class="line"></div>
<div class="line">            ptrTestPatternGeneratorSelector-&gt;SetIntValue(</div>
<div class="line">                static_cast&lt;int64_t&gt;(ptrTestPatternGeneratorSensor-&gt;GetNumericValue()));</div>
<div class="line">            cout &lt;&lt; <span class="stringliteral">&quot;TestPatternGeneratorSelector set to &quot;</span> &lt;&lt; ptrTestPatternGeneratorSensor-&gt;GetSymbolic() &lt;&lt; <span class="stringliteral">&quot;...&quot;</span></div>
<div class="line">                 &lt;&lt; endl;</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        <span class="comment">// Set TestPattern to InjectedImage</span></div>
<div class="line">        <a class="code" href="class_spinnaker_1_1_gen_api_1_1_c_pointer.html">CEnumerationPtr</a> ptrTestPattern = nodeMap.GetNode(<span class="stringliteral">&quot;TestPattern&quot;</span>);</div>
<div class="line">        <span class="keywordflow">if</span> (!<a class="code" href="group___i_node__h.html#ga2f718ca036fb1f237422cd1766a0de83">IsWritable</a>(ptrTestPattern))</div>
<div class="line">        {</div>
<div class="line">            cout &lt;&lt; <span class="stringliteral">&quot;Unable to query TestPattern. Aborting...&quot;</span> &lt;&lt; endl;</div>
<div class="line">            <span class="keywordflow">return</span> -1;</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        <span class="keywordflow">if</span> (isEnabled)</div>
<div class="line">        {</div>
<div class="line">            <a class="code" href="class_spinnaker_1_1_gen_api_1_1_c_pointer.html">CEnumEntryPtr</a> ptrInjectedImage = ptrTestPattern-&gt;GetEntryByName(<span class="stringliteral">&quot;InjectedImage&quot;</span>);</div>
<div class="line">            <span class="keywordflow">if</span> (!<a class="code" href="group___i_node__h.html#gacb8a89e72218331cdb53e0a530a6a566">IsReadable</a>(ptrInjectedImage))</div>
<div class="line">            {</div>
<div class="line">                cout &lt;&lt; <span class="stringliteral">&quot;Unable to query TestPattern InjectedImage. Aborting...&quot;</span> &lt;&lt; endl;</div>
<div class="line">                <span class="keywordflow">return</span> -1;</div>
<div class="line">            }</div>
<div class="line"></div>
<div class="line">            ptrTestPattern-&gt;SetIntValue(static_cast&lt;int64_t&gt;(ptrInjectedImage-&gt;GetNumericValue()));</div>
<div class="line">            cout &lt;&lt; <span class="stringliteral">&quot;TestPattern set to &quot;</span> &lt;&lt; ptrInjectedImage-&gt;GetSymbolic() &lt;&lt; <span class="stringliteral">&quot;...&quot;</span> &lt;&lt; endl;</div>
<div class="line">        }</div>
<div class="line">        <span class="keywordflow">else</span></div>
<div class="line">        {</div>
<div class="line">            <a class="code" href="class_spinnaker_1_1_gen_api_1_1_c_pointer.html">CEnumEntryPtr</a> ptrTestPatternOff = ptrTestPattern-&gt;GetEntryByName(<span class="stringliteral">&quot;Off&quot;</span>);</div>
<div class="line">            <span class="keywordflow">if</span> (!<a class="code" href="group___i_node__h.html#gacb8a89e72218331cdb53e0a530a6a566">IsReadable</a>(ptrTestPatternOff))</div>
<div class="line">            {</div>
<div class="line">                cout &lt;&lt; <span class="stringliteral">&quot;Unable to query TestPattern Off. Aborting...&quot;</span> &lt;&lt; endl;</div>
<div class="line">                <span class="keywordflow">return</span> -1;</div>
<div class="line">            }</div>
<div class="line"></div>
<div class="line">            ptrTestPattern-&gt;SetIntValue(static_cast&lt;int64_t&gt;(ptrTestPatternOff-&gt;GetNumericValue()));</div>
<div class="line">            cout &lt;&lt; <span class="stringliteral">&quot;TestPattern set to &quot;</span> &lt;&lt; ptrTestPatternOff-&gt;GetSymbolic() &lt;&lt; <span class="stringliteral">&quot;...&quot;</span> &lt;&lt; endl;</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        <span class="keywordflow">if</span> (isEnabled)</div>
<div class="line">        {</div>
<div class="line">            <span class="comment">// The inject images have different ROI sizes so camera needs to be configured to the appropriate</span></div>
<div class="line">            <span class="comment">// injected width and height</span></div>
<div class="line">            <a class="code" href="class_spinnaker_1_1_gen_api_1_1_c_pointer.html">CIntegerPtr</a> ptrInjectedWidth = nodeMap.GetNode(<span class="stringliteral">&quot;InjectedWidth&quot;</span>);</div>
<div class="line">            <span class="keywordflow">if</span> (!<a class="code" href="group___i_node__h.html#ga2f718ca036fb1f237422cd1766a0de83">IsWritable</a>(ptrInjectedWidth))</div>
<div class="line">            {</div>
<div class="line">                cout &lt;&lt; <span class="stringliteral">&quot;Unable to query InjectedWidth. Aborting...&quot;</span> &lt;&lt; endl;</div>
<div class="line">                <span class="keywordflow">return</span> -1;</div>
<div class="line">            }</div>
<div class="line"></div>
<div class="line">            ptrInjectedWidth-&gt;SetValue(isEnabled ? <a class="code" href="_inference_8cpp.html#aeb9d5bbbf2725dd11ad0f34507ce702b">injectedImageWidth</a> : ptrInjectedWidth-&gt;GetMax());</div>
<div class="line"></div>
<div class="line">            <a class="code" href="class_spinnaker_1_1_gen_api_1_1_c_pointer.html">CIntegerPtr</a> ptrInjectedHeight = nodeMap.GetNode(<span class="stringliteral">&quot;InjectedHeight&quot;</span>);</div>
<div class="line">            <span class="keywordflow">if</span> (!<a class="code" href="group___i_node__h.html#ga2f718ca036fb1f237422cd1766a0de83">IsWritable</a>(ptrInjectedHeight))</div>
<div class="line">            {</div>
<div class="line">                cout &lt;&lt; <span class="stringliteral">&quot;Unable to query InjectedHeight. Aborting...&quot;</span> &lt;&lt; endl;</div>
<div class="line">                <span class="keywordflow">return</span> -1;</div>
<div class="line">            }</div>
<div class="line"></div>
<div class="line">            ptrInjectedHeight-&gt;SetValue(isEnabled ? <a class="code" href="_inference_8cpp.html#a90f5c708ae3a3f7cba45216f677a3209">injectedImageHeight</a> : ptrInjectedHeight-&gt;GetMax());</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">catch</span> (<a class="code" href="class_spinnaker_1_1_exception.html">Spinnaker::Exception</a>&amp; e)</div>
<div class="line">    {</div>
<div class="line">        cout &lt;&lt; <span class="stringliteral">&quot;Unexpected exception : &quot;</span> &lt;&lt; e.<a class="code" href="class_spinnaker_1_1_exception.html#aff06f49065b54a8a86e02e9a2441a8ba">what</a>() &lt;&lt; endl;</div>
<div class="line">        result = -1;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">return</span> result;</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="comment">// This function acquires and saves 10 images from a device; please see</span></div>
<div class="line"><span class="comment">// Acquisition example for more in-depth comments on acquiring images.</span></div>
<div class="line"><span class="keywordtype">int</span> <a name="a70"></a><a class="code" href="_acquisition_8cpp.html#a2836a024d3f74c4699c84267163c70aa">AcquireImages</a>(<span class="keyword">const</span> <a name="_a71"></a><a class="code" href="class_spinnaker_1_1_camera_ptr.html">CameraPtr</a>&amp; pCam, <a class="code" href="group___i_node_map__h.html#ga3e4a9df80b7da602af317c71c6541c71">INodeMap</a>&amp; nodeMap, <a class="code" href="group___i_node_map__h.html#ga3e4a9df80b7da602af317c71c6541c71">INodeMap</a>&amp; nodeMapTLDevice)</div>
<div class="line">{</div>
<div class="line">    <span class="keywordtype">int</span> result = 0;</div>
<div class="line"></div>
<div class="line">    cout &lt;&lt; endl &lt;&lt; endl &lt;&lt; <span class="stringliteral">&quot;*** IMAGE ACQUISITION ***&quot;</span> &lt;&lt; endl &lt;&lt; endl;</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">try</span></div>
<div class="line">    {</div>
<div class="line">        <span class="comment">// Set acquisition mode to continuous</span></div>
<div class="line">        <a class="code" href="class_spinnaker_1_1_gen_api_1_1_c_pointer.html">CEnumerationPtr</a> ptrAcquisitionMode = nodeMap.GetNode(<span class="stringliteral">&quot;AcquisitionMode&quot;</span>);</div>
<div class="line">        <span class="keywordflow">if</span> (!<a class="code" href="group___i_node__h.html#ga2f718ca036fb1f237422cd1766a0de83">IsWritable</a>(ptrAcquisitionMode))</div>
<div class="line">        {</div>
<div class="line">            cout &lt;&lt; <span class="stringliteral">&quot;Unable to set acquisition mode to continuous (node retrieval). Aborting...&quot;</span> &lt;&lt; endl;</div>
<div class="line">            <span class="keywordflow">return</span> -1;</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        <a class="code" href="class_spinnaker_1_1_gen_api_1_1_c_pointer.html">CEnumEntryPtr</a> ptrAcquisitionModeContinuous = ptrAcquisitionMode-&gt;GetEntryByName(<span class="stringliteral">&quot;Continuous&quot;</span>);</div>
<div class="line">        <span class="keywordflow">if</span> (!<a class="code" href="group___i_node__h.html#gacb8a89e72218331cdb53e0a530a6a566">IsReadable</a>(ptrAcquisitionModeContinuous))</div>
<div class="line">        {</div>
<div class="line">            cout &lt;&lt; <span class="stringliteral">&quot;Unable to set acquisition mode to continuous (entry &#39;continuous&#39; retrieval). Aborting...&quot;</span> &lt;&lt; endl</div>
<div class="line">                 &lt;&lt; endl;</div>
<div class="line">            <span class="keywordflow">return</span> -1;</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        <span class="keyword">const</span> int64_t acquisitionModeContinuous = ptrAcquisitionModeContinuous-&gt;GetValue();</div>
<div class="line"></div>
<div class="line">        ptrAcquisitionMode-&gt;SetIntValue(acquisitionModeContinuous);</div>
<div class="line"></div>
<div class="line">        cout &lt;&lt; <span class="stringliteral">&quot;Acquisition mode set to continuous...&quot;</span> &lt;&lt; endl;</div>
<div class="line"></div>
<div class="line">        <span class="comment">// Begin acquiring images</span></div>
<div class="line">        pCam-&gt;BeginAcquisition();</div>
<div class="line"></div>
<div class="line">        cout &lt;&lt; <span class="stringliteral">&quot;Acquiring images...&quot;</span> &lt;&lt; endl;</div>
<div class="line"></div>
<div class="line">        <span class="comment">// Retrieve device serial number for filename</span></div>
<div class="line">        <a class="code" href="class_spinnaker_1_1_gen_i_cam_1_1gcstring.html">gcstring</a> deviceSerialNumber(<span class="stringliteral">&quot;&quot;</span>);</div>
<div class="line"></div>
<div class="line">        <a class="code" href="class_spinnaker_1_1_gen_api_1_1_c_pointer.html">CStringPtr</a> ptrStringSerial = nodeMapTLDevice.GetNode(<span class="stringliteral">&quot;DeviceSerialNumber&quot;</span>);</div>
<div class="line">        <span class="keywordflow">if</span> (<a class="code" href="group___i_node__h.html#gacb8a89e72218331cdb53e0a530a6a566">IsReadable</a>(ptrStringSerial))</div>
<div class="line">        {</div>
<div class="line">            deviceSerialNumber = ptrStringSerial-&gt;GetValue();</div>
<div class="line">            cout &lt;&lt; <span class="stringliteral">&quot;Device serial number retrieved as &quot;</span> &lt;&lt; deviceSerialNumber &lt;&lt; <span class="stringliteral">&quot;...&quot;</span> &lt;&lt; endl;</div>
<div class="line">        }</div>
<div class="line">        cout &lt;&lt; endl;</div>
<div class="line"></div>
<div class="line">        <span class="comment">// Retrieve, convert, and save images</span></div>
<div class="line">        <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> k_numImages = 10;</div>
<div class="line"></div>
<div class="line">        <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> imageCnt = 0; imageCnt &lt; k_numImages; imageCnt++)</div>
<div class="line">        {</div>
<div class="line">            <span class="keywordflow">try</span></div>
<div class="line">            {</div>
<div class="line">                <span class="comment">// Retrieve next received image and ensure image completion</span></div>
<div class="line">                <a class="code" href="class_spinnaker_1_1_image_ptr.html">ImagePtr</a> pResultImage = pCam-&gt;GetNextImage(1000);</div>
<div class="line"></div>
<div class="line">                <span class="keywordflow">if</span> (pResultImage-&gt;IsIncomplete())</div>
<div class="line">                {</div>
<div class="line">                    cout &lt;&lt; <span class="stringliteral">&quot;Image incomplete with image status &quot;</span> &lt;&lt; pResultImage-&gt;GetImageStatus() &lt;&lt; <span class="stringliteral">&quot;...&quot;</span> &lt;&lt; endl</div>
<div class="line">                         &lt;&lt; endl;</div>
<div class="line">                }</div>
<div class="line">                <span class="keywordflow">else</span></div>
<div class="line">                {</div>
<div class="line">                    <span class="comment">// Print image information</span></div>
<div class="line">                    cout &lt;&lt; <span class="stringliteral">&quot;Grabbed image &quot;</span> &lt;&lt; imageCnt &lt;&lt; <span class="stringliteral">&quot;, width = &quot;</span> &lt;&lt; pResultImage-&gt;GetWidth()</div>
<div class="line">                         &lt;&lt; <span class="stringliteral">&quot;, height = &quot;</span> &lt;&lt; pResultImage-&gt;GetHeight() &lt;&lt; <span class="stringliteral">&quot;.&quot;</span> &lt;&lt; endl;</div>
<div class="line"></div>
<div class="line">                    <span class="comment">// Display chunk data</span></div>
<div class="line">                    result = <a class="code" href="_chunk_data_8cpp.html#a0ab184c3dd8fa0ebf32dc82a0c578af9">DisplayChunkData</a>(pResultImage);</div>
<div class="line"></div>
<div class="line">                    pResultImage-&gt;Save(<span class="stringliteral">&quot;image.jpg&quot;</span>);</div>
<div class="line">                }</div>
<div class="line"></div>
<div class="line">                <span class="comment">// Release image</span></div>
<div class="line">                pResultImage-&gt;Release();</div>
<div class="line"></div>
<div class="line">                cout &lt;&lt; endl;</div>
<div class="line">            }</div>
<div class="line">            <span class="keywordflow">catch</span> (<a class="code" href="class_spinnaker_1_1_exception.html">Spinnaker::Exception</a>&amp; e)</div>
<div class="line">            {</div>
<div class="line">                cout &lt;&lt; <span class="stringliteral">&quot;Error: &quot;</span> &lt;&lt; e.<a class="code" href="class_spinnaker_1_1_exception.html#aff06f49065b54a8a86e02e9a2441a8ba">what</a>() &lt;&lt; endl;</div>
<div class="line">                result = -1;</div>
<div class="line">            }</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        <span class="comment">// End acquisition</span></div>
<div class="line">        pCam-&gt;EndAcquisition();</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">catch</span> (<a class="code" href="class_spinnaker_1_1_exception.html">Spinnaker::Exception</a>&amp; e)</div>
<div class="line">    {</div>
<div class="line">        cout &lt;&lt; <span class="stringliteral">&quot;Error: &quot;</span> &lt;&lt; e.<a class="code" href="class_spinnaker_1_1_exception.html#aff06f49065b54a8a86e02e9a2441a8ba">what</a>() &lt;&lt; endl;</div>
<div class="line">        result = -1;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">return</span> result;</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="comment">// This function acts as the body of the example; please see NodeMapInfo example</span></div>
<div class="line"><span class="comment">// for more in-depth comments on setting up cameras.</span></div>
<div class="line"><span class="keywordtype">int</span> <a name="a72"></a><a class="code" href="_acquisition_8cpp.html#a86462e15d417b9982cead96d2e8a8616">RunSingleCamera</a>(<span class="keyword">const</span> <a class="code" href="class_spinnaker_1_1_camera_ptr.html">CameraPtr</a>&amp; pCam)</div>
<div class="line">{</div>
<div class="line">    <span class="keywordtype">int</span> result = 0;</div>
<div class="line">    <span class="keywordtype">int</span> err = 0;</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">try</span></div>
<div class="line">    {</div>
<div class="line">        <span class="comment">// Retrieve TL device nodemap and print device information</span></div>
<div class="line">        <a class="code" href="group___i_node_map__h.html#ga3e4a9df80b7da602af317c71c6541c71">INodeMap</a>&amp; nodeMapTLDevice = pCam-&gt;GetTLDeviceNodeMap();</div>
<div class="line"></div>
<div class="line">        result = <a class="code" href="_acquisition_8cpp.html#a9a1864412533965fa228b758488637fd">PrintDeviceInfo</a>(nodeMapTLDevice);</div>
<div class="line"></div>
<div class="line">        <span class="comment">// Initialize camera</span></div>
<div class="line">        pCam-&gt;Init();</div>
<div class="line"></div>
<div class="line">        <span class="comment">// Retrieve GenICam nodemap</span></div>
<div class="line">        <a class="code" href="group___i_node_map__h.html#ga3e4a9df80b7da602af317c71c6541c71">INodeMap</a>&amp; nodeMap = pCam-&gt;GetNodeMap();</div>
<div class="line"></div>
<div class="line">        <span class="comment">// Check to make sure camera supports inference</span></div>
<div class="line">        cout &lt;&lt; endl &lt;&lt; <span class="stringliteral">&quot;Checking camera inference support...&quot;</span> &lt;&lt; endl;</div>
<div class="line">        <a class="code" href="class_spinnaker_1_1_gen_api_1_1_c_pointer.html">CBooleanPtr</a> ptrInferenceEnable = nodeMap.GetNode(<span class="stringliteral">&quot;InferenceEnable&quot;</span>);</div>
<div class="line">        <span class="keywordflow">if</span> (!<a class="code" href="group___i_node__h.html#ga2f718ca036fb1f237422cd1766a0de83">IsWritable</a>(ptrInferenceEnable))</div>
<div class="line">        {</div>
<div class="line">            cout &lt;&lt; <span class="stringliteral">&quot;Inference is not supported on this camera. Aborting...&quot;</span> &lt;&lt; endl;</div>
<div class="line">            <span class="keywordflow">return</span> -1;</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        <span class="comment">// Upload custom inference network onto the camera</span></div>
<div class="line">        <span class="comment">// The inference network file is in a movidius specific neural network format.</span></div>
<div class="line">        <span class="comment">// Uploading the network to the camera allows for &quot;inference on the edge&quot; where</span></div>
<div class="line">        <span class="comment">// camera can apply deep learning on a live stream. Refer to &quot;Getting Started</span></div>
<div class="line">        <span class="comment">// with Firefly-DL&quot; for information on how to create your own custom inference</span></div>
<div class="line">        <span class="comment">// network files using pre-existing neural network.</span></div>
<div class="line">        err = <a class="code" href="_inference_8cpp.html#a5f44104922c7723b7ca055f672c58652">UploadFileToCamera</a>(nodeMap, <span class="stringliteral">&quot;InferenceNetwork&quot;</span>, <a class="code" href="_inference_8cpp.html#a99543b40f1d6fd8c7fb5715101954467">networkFilePath</a>);</div>
<div class="line">        <span class="keywordflow">if</span> (err &lt; 0)</div>
<div class="line">        {</div>
<div class="line">            <span class="keywordflow">return</span> err;</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        <span class="comment">// Upload injected test image</span></div>
<div class="line">        <span class="comment">// Instead of applying deep learning on a live stream, the camera can be</span></div>
<div class="line">        <span class="comment">// tested with an injected test image.</span></div>
<div class="line">        err = <a class="code" href="_inference_8cpp.html#a5f44104922c7723b7ca055f672c58652">UploadFileToCamera</a>(nodeMap, <span class="stringliteral">&quot;InjectedImage&quot;</span>, <a class="code" href="_inference_8cpp.html#a6ba49d13188a753b7a1e0b981fea69a0">injectedImageFilePath</a>);</div>
<div class="line">        <span class="keywordflow">if</span> (err &lt; 0)</div>
<div class="line">        {</div>
<div class="line">            <span class="keywordflow">return</span> err;</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        <span class="comment">// Configure inference</span></div>
<div class="line">        err = <a class="code" href="_inference_8cpp.html#a6e65c8eb3cf9b4330dc0b3deb305e335">ConfigureInference</a>(nodeMap, <span class="keyword">true</span>);</div>
<div class="line">        <span class="keywordflow">if</span> (err &lt; 0)</div>
<div class="line">        {</div>
<div class="line">            <span class="keywordflow">return</span> err;</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        <span class="comment">// Configure test pattern to make use of the injected image</span></div>
<div class="line">        err = <a class="code" href="_inference_8cpp.html#a5e060cc48eefd49c80d002c9e2ad6e73">ConfigureTestPattern</a>(nodeMap, <span class="keyword">true</span>);</div>
<div class="line">        <span class="keywordflow">if</span> (err &lt; 0)</div>
<div class="line">        {</div>
<div class="line">            <span class="keywordflow">return</span> err;</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        <span class="comment">// Configure trigger</span></div>
<div class="line">        <span class="comment">// When enabling inference results via chunk data, the results that accompany a frame</span></div>
<div class="line">        <span class="comment">// will likely not be the frame that inference was run on. In order to guarantee that</span></div>
<div class="line">        <span class="comment">// the chunk inference results always correspond to the frame that they are sent with,</span></div>
<div class="line">        <span class="comment">// the camera needs to be put into the &quot;inference sync&quot; trigger mode.</span></div>
<div class="line">        <span class="comment">// Note: Enabling this setting will limit frame rate so that every frame contains new</span></div>
<div class="line">        <span class="comment">//       inference dataset. To not limit the frame rate, you can enable InferenceFrameID</span></div>
<div class="line">        <span class="comment">//       chunk data to help determine which frame is associated with a particular</span></div>
<div class="line">        <span class="comment">//       inference data.</span></div>
<div class="line">        err = <a class="code" href="_action_command_8cpp.html#a4075b98dbe11849b1fa7177da0580c38">ConfigureTrigger</a>(nodeMap);</div>
<div class="line">        <span class="keywordflow">if</span> (err &lt; 0)</div>
<div class="line">        {</div>
<div class="line">            <span class="keywordflow">return</span> err;</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        <span class="comment">// Configure chunk data</span></div>
<div class="line">        err = <a class="code" href="_action_command_8cpp.html#a1cee7b855daddc1e739aee02d0ed56d6">ConfigureChunkData</a>(nodeMap);</div>
<div class="line">        <span class="keywordflow">if</span> (err &lt; 0)</div>
<div class="line">        {</div>
<div class="line">            <span class="keywordflow">return</span> err;</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        <span class="comment">// Acquire images and display chunk data</span></div>
<div class="line">        result = result | <a class="code" href="_acquisition_8cpp.html#a2836a024d3f74c4699c84267163c70aa">AcquireImages</a>(pCam, nodeMap, nodeMapTLDevice);</div>
<div class="line"></div>
<div class="line">        <span class="comment">// Disable chunk data</span></div>
<div class="line">        err = <a class="code" href="_chunk_data_8cpp.html#adb275bb88133126e195c98eff8f97753">DisableChunkData</a>(nodeMap);</div>
<div class="line">        <span class="keywordflow">if</span> (err &lt; 0)</div>
<div class="line">        {</div>
<div class="line">            <span class="keywordflow">return</span> err;</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        <span class="comment">// Disable trigger</span></div>
<div class="line">        err = <a class="code" href="_inference_8cpp.html#a968f08f1fded7228b4843c8ae01920ec">DisableTrigger</a>(nodeMap);</div>
<div class="line">        <span class="keywordflow">if</span> (err &lt; 0)</div>
<div class="line">        {</div>
<div class="line">            <span class="keywordflow">return</span> err;</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        <span class="comment">// Disable test pattern</span></div>
<div class="line">        err = <a class="code" href="_inference_8cpp.html#a5e060cc48eefd49c80d002c9e2ad6e73">ConfigureTestPattern</a>(nodeMap, <span class="keyword">false</span>);</div>
<div class="line">        <span class="keywordflow">if</span> (err &lt; 0)</div>
<div class="line">        {</div>
<div class="line">            <span class="keywordflow">return</span> err;</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        <span class="comment">// Disable inference</span></div>
<div class="line">        err = <a class="code" href="_inference_8cpp.html#a6e65c8eb3cf9b4330dc0b3deb305e335">ConfigureInference</a>(nodeMap, <span class="keyword">false</span>);</div>
<div class="line">        <span class="keywordflow">if</span> (err &lt; 0)</div>
<div class="line">        {</div>
<div class="line">            <span class="keywordflow">return</span> err;</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        <span class="comment">// Clear injected test image</span></div>
<div class="line">        err = <a class="code" href="_inference_8cpp.html#a8c87849620d015befbe467ad75630555">DeleteFileOnCamera</a>(nodeMap, <span class="stringliteral">&quot;InjectedImage&quot;</span>);</div>
<div class="line">        <span class="keywordflow">if</span> (err &lt; 0)</div>
<div class="line">        {</div>
<div class="line">            <span class="keywordflow">return</span> err;</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        <span class="comment">// Clear uploaded inference network</span></div>
<div class="line">        err = <a class="code" href="_inference_8cpp.html#a8c87849620d015befbe467ad75630555">DeleteFileOnCamera</a>(nodeMap, <span class="stringliteral">&quot;InferenceNetwork&quot;</span>);</div>
<div class="line">        <span class="keywordflow">if</span> (err &lt; 0)</div>
<div class="line">        {</div>
<div class="line">            <span class="keywordflow">return</span> err;</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        <span class="comment">// Deinitialize camera</span></div>
<div class="line">        pCam-&gt;DeInit();</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">catch</span> (<a class="code" href="class_spinnaker_1_1_exception.html">Spinnaker::Exception</a>&amp; e)</div>
<div class="line">    {</div>
<div class="line">        cout &lt;&lt; <span class="stringliteral">&quot;Error: &quot;</span> &lt;&lt; e.<a class="code" href="class_spinnaker_1_1_exception.html#aff06f49065b54a8a86e02e9a2441a8ba">what</a>() &lt;&lt; endl;</div>
<div class="line">        result = -1;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">return</span> result;</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="comment">// Example entry point; please see Enumeration example for more in-depth</span></div>
<div class="line"><span class="comment">// comments on preparing and cleaning up the system.</span></div>
<div class="line"><span class="keywordtype">int</span> <a name="a73"></a><a class="code" href="_acquisition_8cpp.html#a2c3f6775325c30275d11c6abee2db6a0">main</a>(<span class="keywordtype">int</span> <span class="comment">/*argc*/</span>, <span class="keywordtype">char</span>** <span class="comment">/*argv*/</span>)</div>
<div class="line">{</div>
<div class="line">    <span class="comment">// Since this application saves images in the current folder</span></div>
<div class="line">    <span class="comment">// we must ensure that we have permission to write to this folder.</span></div>
<div class="line">    <span class="comment">// If we do not have permission, fail right away.</span></div>
<div class="line">    FILE* tempFile = fopen(<span class="stringliteral">&quot;test.txt&quot;</span>, <span class="stringliteral">&quot;w+&quot;</span>);</div>
<div class="line">    <span class="keywordflow">if</span> (tempFile == <span class="keyword">nullptr</span>)</div>
<div class="line">    {</div>
<div class="line">        cout &lt;&lt; <span class="stringliteral">&quot;Failed to create file in current folder.  Please check &quot;</span></div>
<div class="line">                <span class="stringliteral">&quot;permissions.&quot;</span></div>
<div class="line">             &lt;&lt; endl;</div>
<div class="line">        cout &lt;&lt; <span class="stringliteral">&quot;Press Enter to exit...&quot;</span> &lt;&lt; endl;</div>
<div class="line">        getchar();</div>
<div class="line">        <span class="keywordflow">return</span> -1;</div>
<div class="line">    }</div>
<div class="line">    fclose(tempFile);</div>
<div class="line">    <span class="keyword">remove</span>(<span class="stringliteral">&quot;test.txt&quot;</span>);</div>
<div class="line"></div>
<div class="line">    <span class="keywordtype">int</span> result = 0;</div>
<div class="line"></div>
<div class="line">    <span class="comment">// Print application build information</span></div>
<div class="line">    cout &lt;&lt; <span class="stringliteral">&quot;Application build date: &quot;</span> &lt;&lt; __DATE__ &lt;&lt; <span class="stringliteral">&quot; &quot;</span> &lt;&lt; __TIME__ &lt;&lt; endl &lt;&lt; endl;</div>
<div class="line"></div>
<div class="line">    <span class="comment">// Retrieve singleton reference to system object</span></div>
<div class="line">    <a name="_a74"></a><a class="code" href="class_spinnaker_1_1_system_ptr.html">SystemPtr</a> system = <a name="a75"></a><a class="code" href="class_spinnaker_1_1_system.html#a45b5dbcde6e9fdfb05e0016af82969d0">System::GetInstance</a>();</div>
<div class="line"></div>
<div class="line">    <span class="comment">// Print out current library version</span></div>
<div class="line">    <span class="keyword">const</span> <a name="_a76"></a><a class="code" href="struct_spinnaker_1_1_library_version.html">LibraryVersion</a> spinnakerLibraryVersion = system-&gt;GetLibraryVersion();</div>
<div class="line">    cout &lt;&lt; <span class="stringliteral">&quot;Spinnaker library version: &quot;</span> &lt;&lt; spinnakerLibraryVersion.<a name="a77"></a><a class="code" href="struct_spinnaker_1_1_library_version.html#a435ca80707c851bea186e73a1be5d3b9">major</a> &lt;&lt; <span class="stringliteral">&quot;.&quot;</span> &lt;&lt; spinnakerLibraryVersion.<a name="a78"></a><a class="code" href="struct_spinnaker_1_1_library_version.html#a41c0e171b65e16617977006e58fbbbc5">minor</a></div>
<div class="line">         &lt;&lt; <span class="stringliteral">&quot;.&quot;</span> &lt;&lt; spinnakerLibraryVersion.<a name="a79"></a><a class="code" href="struct_spinnaker_1_1_library_version.html#a4bfea42429249a1f65204f0c0f34704a">type</a> &lt;&lt; <span class="stringliteral">&quot;.&quot;</span> &lt;&lt; spinnakerLibraryVersion.<a name="a80"></a><a class="code" href="struct_spinnaker_1_1_library_version.html#ad263db2963cb8e231c207328372e17bb">build</a> &lt;&lt; endl</div>
<div class="line">         &lt;&lt; endl;</div>
<div class="line"></div>
<div class="line">    <span class="comment">// Retrieve list of cameras from the system</span></div>
<div class="line">    <a name="_a81"></a><a class="code" href="class_spinnaker_1_1_camera_list.html">CameraList</a> camList = system-&gt;GetCameras();</div>
<div class="line"></div>
<div class="line">    <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> numCameras = camList.<a name="a82"></a><a class="code" href="class_spinnaker_1_1_camera_list.html#a7d1646dc12416daf821f666c233d2be2">GetSize</a>();</div>
<div class="line"></div>
<div class="line">    cout &lt;&lt; <span class="stringliteral">&quot;Number of cameras detected: &quot;</span> &lt;&lt; numCameras &lt;&lt; endl &lt;&lt; endl;</div>
<div class="line"></div>
<div class="line">    <span class="comment">// Finish if there are no cameras</span></div>
<div class="line">    <span class="keywordflow">if</span> (numCameras == 0)</div>
<div class="line">    {</div>
<div class="line">        <span class="comment">// Clear camera list before releasing system</span></div>
<div class="line">        camList.<a name="a83"></a><a class="code" href="class_spinnaker_1_1_camera_list.html#aa71d36872f416feaa853788a7a7a7ef8">Clear</a>();</div>
<div class="line"></div>
<div class="line">        <span class="comment">// Release system</span></div>
<div class="line">        system-&gt;ReleaseInstance();</div>
<div class="line"></div>
<div class="line">        cout &lt;&lt; <span class="stringliteral">&quot;Not enough cameras!&quot;</span> &lt;&lt; endl;</div>
<div class="line">        cout &lt;&lt; <span class="stringliteral">&quot;Done! Press Enter to exit...&quot;</span> &lt;&lt; endl;</div>
<div class="line">        getchar();</div>
<div class="line"></div>
<div class="line">        <span class="keywordflow">return</span> -1;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="comment">// Run example on each camera</span></div>
<div class="line">    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i = 0; i &lt; numCameras; i++)</div>
<div class="line">    {</div>
<div class="line">        cout &lt;&lt; endl &lt;&lt; <span class="stringliteral">&quot;Running example for camera &quot;</span> &lt;&lt; i &lt;&lt; <span class="stringliteral">&quot;...&quot;</span> &lt;&lt; endl;</div>
<div class="line"></div>
<div class="line">        result = result | <a class="code" href="_acquisition_8cpp.html#a86462e15d417b9982cead96d2e8a8616">RunSingleCamera</a>(camList.<a name="a84"></a><a class="code" href="class_spinnaker_1_1_camera_list.html#aa372308b62098bc12ad25ee02dd11a48">GetByIndex</a>(i));</div>
<div class="line"></div>
<div class="line">        cout &lt;&lt; <span class="stringliteral">&quot;Camera &quot;</span> &lt;&lt; i &lt;&lt; <span class="stringliteral">&quot; example complete...&quot;</span> &lt;&lt; endl &lt;&lt; endl;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="comment">// Clear camera list before releasing system</span></div>
<div class="line">    camList.<a class="code" href="class_spinnaker_1_1_camera_list.html#aa71d36872f416feaa853788a7a7a7ef8">Clear</a>();</div>
<div class="line"></div>
<div class="line">    <span class="comment">// Release system</span></div>
<div class="line">    system-&gt;ReleaseInstance();</div>
<div class="line"></div>
<div class="line">    cout &lt;&lt; endl &lt;&lt; <span class="stringliteral">&quot;Done! Press Enter to exit...&quot;</span> &lt;&lt; endl;</div>
<div class="line">    getchar();</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">return</span> result;</div>
<div class="line">}</div>
</div><!-- fragment --> </div><!-- contents -->

  <table style="width: 100%;border-spacing: 0px 0px;border-left-style: solid;border-left-width: ;border-left-color: #8c8888;border-right-style: solid;border-right-width: ;border-right-color: #8c8888;border-top-style: solid;border-top-width: ;border-top-color: #8c8888;border-bottom-style: solid;border-bottom-width: ;border-bottom-color: #8c8888;margin-left: 0;margin-right: auto;padding: 0px">
    <col />
    <col />
    <col />
        <tbody>
            <tr>
                <td style="background-color: #8c8888;color: #ffffff;"><a class="footer" href="https://www.flir.com/support-center/rma/iis-support-request">Contact Support </a> </td>
                <td style="background-color: #8c8888;color: #ffffff;text-align: center;font-size: 16px;font-weight: bold">Spinnaker&#174; SDK Programmer's Guide and API Reference</td>
                <td style="background-color: #8c8888;color: #ffffff;text-align: right;"><address class="footer">
Wed Sep 30 2020 &#160; <a class="footer" href="https://www.flir.com/iis/machine-vision">FLIR Integrated Imaging Solutions Inc. All rights reserved.</a></address></td>
            </tr>
        </tbody>
  </table>
</body>
</html>
