<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
  <title>Spinnaker C++: SerialRxTx.cpp</title>
  <link href="tabs.css" rel="stylesheet" type="text/css"/>
  <script type="text/javascript" src="jquery.js"></script>
  <script type="text/javascript" src="dynsections.js"></script>
  <script type="text/javascript" src="ga.js"></script>
  <link href="stylesheet.css" rel="stylesheet" type="text/css" />
</head>
<body>
  <div id="top"><!-- do not remove this div! -->
  <div id="titlearea">
    <table cellspacing="0" cellpadding="0.9em" width="100%">
      <tbody>
        <tr style="height: 56px;">
          <td id="projectlogo" style="padding-left: 0.9em;text-align: left;background: #ffffff;background: linear-gradient(#002f86, #ffffff);color: #ffffff;" width="30%"><a href="https://www.flir.com/iis/machine-vision"><img alt="Logo" src="FLIR_Logo.png"/></a></td>
          <td style="padding-left: 0.5em;text-align: left;background: #002f86;background: linear-gradient(#002f86, #ffffff);color: #ffffff;" width="30%"><div id="projectname">Spinnaker C++</div></td>
          <td style="padding-right: 0.9em;text-align: right;background: #002f86;background: linear-gradient(#002f86, #ffffff);color: #ffffff;" width="30%"><div id="projectname"><span id="projectnumber">2.0.0.0</span></td>
        </tr>
      </tbody>
    </table>
  </div>
<!-- Generated by Doxygen 1.8.5 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="examples.html"><span>Examples</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">SerialRxTx.cpp</div>  </div>
</div><!--header-->
<div class="contents">
<p><a class="el" href="_serial_rx_tx_8cpp.html">SerialRxTx.cpp</a> shows how to communicate using Serial ports.It sets serial port settings in <a class="el" href="namespace_spinnaker.html">Spinnaker</a>, open and operate File access and create Com Port handle After the setup, it transmits and received simple data. It verifies the transmission by reading data and transmitting data to COM Port.</p>
<p>THIS EXAMPLE ONLY WORKS IN WINDOWS OS</p>
<div class="fragment"><div class="line"><span class="comment">//=============================================================================</span></div>
<div class="line"><span class="comment">// Copyright (c) 2001-2019 FLIR Systems, Inc. All Rights Reserved.</span></div>
<div class="line"><span class="comment">//</span></div>
<div class="line"><span class="comment">// This software is the confidential and proprietary information of FLIR</span></div>
<div class="line"><span class="comment">// Integrated Imaging Solutions, Inc. (&quot;Confidential Information&quot;). You</span></div>
<div class="line"><span class="comment">// shall not disclose such Confidential Information and shall use it only in</span></div>
<div class="line"><span class="comment">// accordance with the terms of the license agreement you entered into</span></div>
<div class="line"><span class="comment">// with FLIR Integrated Imaging Solutions, Inc. (FLIR).</span></div>
<div class="line"><span class="comment">//</span></div>
<div class="line"><span class="comment">// FLIR MAKES NO REPRESENTATIONS OR WARRANTIES ABOUT THE SUITABILITY OF THE</span></div>
<div class="line"><span class="comment">// SOFTWARE, EITHER EXPRESSED OR IMPLIED, INCLUDING, BUT NOT LIMITED TO, THE</span></div>
<div class="line"><span class="comment">// IMPLIED WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR</span></div>
<div class="line"><span class="comment">// PURPOSE, OR NON-INFRINGEMENT. FLIR SHALL NOT BE LIABLE FOR ANY DAMAGES</span></div>
<div class="line"><span class="comment">// SUFFERED BY LICENSEE AS A RESULT OF USING, MODIFYING OR DISTRIBUTING</span></div>
<div class="line"><span class="comment">// THIS SOFTWARE OR ITS DERIVATIVES.</span></div>
<div class="line"><span class="comment">//=============================================================================</span></div>
<div class="line"></div>
<div class="line"><span class="preprocessor">#include &quot;<a class="code" href="_spinnaker_8h.html">Spinnaker.h</a>&quot;</span></div>
<div class="line"><span class="preprocessor">#include &quot;<a class="code" href="_spinnaker_gen_api_8h.html">SpinGenApi/SpinnakerGenApi.h</a>&quot;</span></div>
<div class="line"><span class="preprocessor">#include &lt;iostream&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;sstream&gt;</span></div>
<div class="line"></div>
<div class="line"><span class="keyword">using namespace </span>Spinnaker;</div>
<div class="line"><span class="keyword">using namespace </span>Spinnaker::GenApi;</div>
<div class="line"><span class="keyword">using namespace </span>Spinnaker::GenICam;</div>
<div class="line"><span class="keyword">using namespace </span>std;</div>
<div class="line"></div>
<div class="line"><span class="preprocessor">#define COM_PORT_COUNT_MAX                            256</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">#define TWO_SECOND_DELAY                              2000</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">#define SERIAL_PORT_COMMUNICATION_TIMEOUT_MILLISECOND 1000</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">#define SERIAL_PORT_BAUD_RATE                         19200</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">#define SERIAL_PORT_STOP_BITS                         0</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">#define SERIAL_PORT_PARITY_BITS                       0</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">#define SERIAL_PORT_DELAY                             1500</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">#define DATA_BITS                                     8</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">#define MILLISECOND                                   1000</span></div>
<div class="line"><span class="preprocessor"></span></div>
<div class="line"><span class="comment">// This function prints the device information of the camera from the transport</span></div>
<div class="line"><span class="comment">// layer; please see NodeMapInfo example for more in-depth comments on printing</span></div>
<div class="line"><span class="comment">// device information from the nodemap.</span></div>
<div class="line"><span class="keywordtype">int</span> <a name="a0"></a><a class="code" href="_acquisition_8cpp.html#a9a1864412533965fa228b758488637fd">PrintDeviceInfo</a>(<a name="a1"></a><a class="code" href="group___i_node_map__h.html#ga3e4a9df80b7da602af317c71c6541c71">INodeMap</a>&amp; nodeMap)</div>
<div class="line">{</div>
<div class="line">    <span class="keywordtype">int</span> result = 0;</div>
<div class="line"></div>
<div class="line">    cout &lt;&lt; endl &lt;&lt; <span class="stringliteral">&quot;*** DEVICE INFORMATION ***&quot;</span> &lt;&lt; endl &lt;&lt; endl;</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">try</span></div>
<div class="line">    {</div>
<div class="line">        FeatureList_t features;</div>
<div class="line">        <a name="_a2"></a><a class="code" href="class_spinnaker_1_1_gen_api_1_1_c_pointer.html">CCategoryPtr</a> category = nodeMap.GetNode(<span class="stringliteral">&quot;DeviceInformation&quot;</span>);</div>
<div class="line"></div>
<div class="line">        <span class="keywordflow">if</span> (<a name="a3"></a><a class="code" href="group___i_node__h.html#gaebc2f6f9dea95ce16a4d8f30ccfe0646">IsAvailable</a>(category) &amp;&amp; <a name="a4"></a><a class="code" href="group___i_node__h.html#gacb8a89e72218331cdb53e0a530a6a566">IsReadable</a>(category))</div>
<div class="line">        {</div>
<div class="line">            category-&gt;GetFeatures(features);</div>
<div class="line"></div>
<div class="line">            FeatureList_t::const_iterator it;</div>
<div class="line">            <span class="keywordflow">for</span> (it = features.begin(); it != features.end(); ++it)</div>
<div class="line">            {</div>
<div class="line">                <a name="_a5"></a><a class="code" href="class_spinnaker_1_1_gen_api_1_1_c_pointer.html">CNodePtr</a> pfeatureNode = *it;</div>
<div class="line">                cout &lt;&lt; pfeatureNode-&gt;GetName() &lt;&lt; <span class="stringliteral">&quot; : &quot;</span>;</div>
<div class="line">                <a class="code" href="class_spinnaker_1_1_gen_api_1_1_c_pointer.html">CValuePtr</a> pValue = (<a name="a6"></a><a class="code" href="group___pointer__h.html#ga17eabe67b4e0d8b7e2d794239a9c2084">CValuePtr</a>)pfeatureNode;</div>
<div class="line">                cout &lt;&lt; (<a class="code" href="group___i_node__h.html#gacb8a89e72218331cdb53e0a530a6a566">IsReadable</a>(pValue) ? pValue-&gt;ToString() : <span class="stringliteral">&quot;Node not readable&quot;</span>);</div>
<div class="line">                cout &lt;&lt; endl;</div>
<div class="line">            }</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        <span class="keywordflow">else</span></div>
<div class="line">        {</div>
<div class="line">            cout &lt;&lt; <span class="stringliteral">&quot;Device control information not available.&quot;</span> &lt;&lt; endl;</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">catch</span> (<a name="_a7"></a><a class="code" href="class_spinnaker_1_1_exception.html">Spinnaker::Exception</a>&amp; e)</div>
<div class="line">    {</div>
<div class="line">        cout &lt;&lt; <span class="stringliteral">&quot;Error: &quot;</span> &lt;&lt; e.<a name="a8"></a><a class="code" href="class_spinnaker_1_1_exception.html#aff06f49065b54a8a86e02e9a2441a8ba">what</a>() &lt;&lt; endl;</div>
<div class="line">        result = -1;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">return</span> result;</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="keywordtype">int</span> <a name="a9"></a><a class="code" href="_serial_rx_tx_8cpp.html#abcc7d0800f2a17aa5d661c022d378b97">ConfigureDevice</a>(<a name="_a10"></a><a class="code" href="class_spinnaker_1_1_camera_ptr.html">CameraPtr</a> pCam, HANDLE&amp; hFileHandle)</div>
<div class="line">{</div>
<div class="line">    <span class="keywordtype">int</span> result = 0;</div>
<div class="line"></div>
<div class="line">    cout &lt;&lt; endl &lt;&lt; endl &lt;&lt; <span class="stringliteral">&quot;*** SET SERIAL PORT, OPEN COM PORT, FILE ACCESS SETTINGS ***&quot;</span> &lt;&lt; endl &lt;&lt; endl;</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">try</span></div>
<div class="line">    {</div>
<div class="line">        <span class="comment">// It retrieves GenICam nodemap</span></div>
<div class="line">        <a class="code" href="group___i_node_map__h.html#ga3e4a9df80b7da602af317c71c6541c71">INodeMap</a>&amp; nodeMap = pCam-&gt;GetNodeMap();</div>
<div class="line"></div>
<div class="line">        cout &lt;&lt; endl &lt;&lt; <span class="stringliteral">&quot;Setup Serial Port Settings &quot;</span> &lt;&lt; endl;</div>
<div class="line"></div>
<div class="line">        <span class="comment">// This is for Serial port Receive settings</span></div>
<div class="line">        <a class="code" href="class_spinnaker_1_1_gen_api_1_1_c_pointer.html">CEnumerationPtr</a> ptrSerialPortSelector = nodeMap.GetNode(<span class="stringliteral">&quot;SerialPortSelector&quot;</span>);</div>
<div class="line">        <span class="keywordflow">if</span> (!<a class="code" href="group___i_node__h.html#gaebc2f6f9dea95ce16a4d8f30ccfe0646">IsAvailable</a>(ptrSerialPortSelector) || !<a name="a11"></a><a class="code" href="group___i_node__h.html#ga2f718ca036fb1f237422cd1766a0de83">IsWritable</a>(ptrSerialPortSelector))</div>
<div class="line">        {</div>
<div class="line">            cout &lt;&lt; <span class="stringliteral">&quot;Unable to set Serial Port Selector. Aborting...&quot;</span> &lt;&lt; endl &lt;&lt; endl;</div>
<div class="line">            <span class="keywordflow">return</span> -1;</div>
<div class="line">        }</div>
<div class="line">        ptrSerialPortSelector-&gt;SetIntValue(0); <span class="comment">// Serial port 0 is chosen</span></div>
<div class="line"></div>
<div class="line">        <a class="code" href="class_spinnaker_1_1_gen_api_1_1_c_pointer.html">CEnumerationPtr</a> ptrSerialPortSource = nodeMap.GetNode(<span class="stringliteral">&quot;SerialPortSource&quot;</span>);</div>
<div class="line">        <span class="keywordflow">if</span> (!<a class="code" href="group___i_node__h.html#gaebc2f6f9dea95ce16a4d8f30ccfe0646">IsAvailable</a>(ptrSerialPortSource) || !<a class="code" href="group___i_node__h.html#ga2f718ca036fb1f237422cd1766a0de83">IsWritable</a>(ptrSerialPortSource))</div>
<div class="line">        {</div>
<div class="line">            cout &lt;&lt; <span class="stringliteral">&quot;Unable to set Serial Port Source. Aborting...&quot;</span> &lt;&lt; endl &lt;&lt; endl;</div>
<div class="line">            <span class="keywordflow">return</span> -1;</div>
<div class="line">        }</div>
<div class="line">        ptrSerialPortSource-&gt;SetIntValue(0); <span class="comment">// line 0 chosen</span></div>
<div class="line"></div>
<div class="line">        <a class="code" href="class_spinnaker_1_1_gen_api_1_1_c_pointer.html">CEnumerationPtr</a> ptrSerialPortBaudRate = nodeMap.GetNode(<span class="stringliteral">&quot;SerialPortBaudRate&quot;</span>);</div>
<div class="line">        <span class="keywordflow">if</span> (!<a class="code" href="group___i_node__h.html#gaebc2f6f9dea95ce16a4d8f30ccfe0646">IsAvailable</a>(ptrSerialPortBaudRate) || !<a class="code" href="group___i_node__h.html#ga2f718ca036fb1f237422cd1766a0de83">IsWritable</a>(ptrSerialPortBaudRate))</div>
<div class="line">        {</div>
<div class="line">            cout &lt;&lt; <span class="stringliteral">&quot;Unable to set Serial Port BaudRate. Aborting...&quot;</span> &lt;&lt; endl &lt;&lt; endl;</div>
<div class="line">            <span class="keywordflow">return</span> -1;</div>
<div class="line">        }</div>
<div class="line">        ptrSerialPortBaudRate-&gt;SetIntValue(<a name="a12"></a><a class="code" href="_serial_rx_tx_8cpp.html#a1f6871beabbc575c234541d4623e0043">SERIAL_PORT_BAUD_RATE</a>);</div>
<div class="line"></div>
<div class="line">        <a class="code" href="class_spinnaker_1_1_gen_api_1_1_c_pointer.html">CIntegerPtr</a> ptrSerialPortDataBits = nodeMap.GetNode(<span class="stringliteral">&quot;SerialPortDataBits&quot;</span>);</div>
<div class="line">        <span class="keywordflow">if</span> (!<a class="code" href="group___i_node__h.html#gaebc2f6f9dea95ce16a4d8f30ccfe0646">IsAvailable</a>(ptrSerialPortDataBits) || !<a class="code" href="group___i_node__h.html#ga2f718ca036fb1f237422cd1766a0de83">IsWritable</a>(ptrSerialPortDataBits))</div>
<div class="line">        {</div>
<div class="line">            cout &lt;&lt; <span class="stringliteral">&quot;Unable to set Serial Port Data Bits. Aborting...&quot;</span> &lt;&lt; endl &lt;&lt; endl;</div>
<div class="line">            <span class="keywordflow">return</span> -1;</div>
<div class="line">        }</div>
<div class="line">        ptrSerialPortDataBits-&gt;SetValue(<a name="a13"></a><a class="code" href="_serial_rx_tx_8cpp.html#a418ddb806712895ba784cfdcaa92b715">DATA_BITS</a>);</div>
<div class="line"></div>
<div class="line">        <a class="code" href="class_spinnaker_1_1_gen_api_1_1_c_pointer.html">CEnumerationPtr</a> ptrSerialPortStopBits = nodeMap.GetNode(<span class="stringliteral">&quot;SerialPortStopBits&quot;</span>);</div>
<div class="line">        <span class="keywordflow">if</span> (!<a class="code" href="group___i_node__h.html#gaebc2f6f9dea95ce16a4d8f30ccfe0646">IsAvailable</a>(ptrSerialPortStopBits) || !<a class="code" href="group___i_node__h.html#ga2f718ca036fb1f237422cd1766a0de83">IsWritable</a>(ptrSerialPortStopBits))</div>
<div class="line">        {</div>
<div class="line">            cout &lt;&lt; <span class="stringliteral">&quot;Unable to set Serial Port Stop Bits. Aborting...&quot;</span> &lt;&lt; endl &lt;&lt; endl;</div>
<div class="line">            <span class="keywordflow">return</span> -1;</div>
<div class="line">        }</div>
<div class="line">        ptrSerialPortStopBits-&gt;SetIntValue(<a name="a14"></a><a class="code" href="_serial_rx_tx_8cpp.html#a2c9479d048cc055e8f1e20dd72b53cb5">SERIAL_PORT_STOP_BITS</a>);</div>
<div class="line"></div>
<div class="line">        <a class="code" href="class_spinnaker_1_1_gen_api_1_1_c_pointer.html">CEnumerationPtr</a> ptrSerialPortParity = nodeMap.GetNode(<span class="stringliteral">&quot;SerialPortParity&quot;</span>);</div>
<div class="line">        <span class="keywordflow">if</span> (!<a class="code" href="group___i_node__h.html#gaebc2f6f9dea95ce16a4d8f30ccfe0646">IsAvailable</a>(ptrSerialPortParity) || !<a class="code" href="group___i_node__h.html#ga2f718ca036fb1f237422cd1766a0de83">IsWritable</a>(ptrSerialPortParity))</div>
<div class="line">        {</div>
<div class="line">            cout &lt;&lt; <span class="stringliteral">&quot;Unable to set Serial Port Parity. Aborting...&quot;</span> &lt;&lt; endl &lt;&lt; endl;</div>
<div class="line">            <span class="keywordflow">return</span> -1;</div>
<div class="line">        }</div>
<div class="line">        ptrSerialPortParity-&gt;SetIntValue(<a name="a15"></a><a class="code" href="_serial_rx_tx_8cpp.html#a5175b5b1a524e213493055fae698ec31">SERIAL_PORT_PARITY_BITS</a>);</div>
<div class="line"></div>
<div class="line">        <span class="comment">// This is for Serial port Transmit settings</span></div>
<div class="line">        <a class="code" href="class_spinnaker_1_1_gen_api_1_1_c_pointer.html">CEnumerationPtr</a> ptrLineSelector = nodeMap.GetNode(<span class="stringliteral">&quot;LineSelector&quot;</span>);</div>
<div class="line">        <span class="keywordflow">if</span> (!<a class="code" href="group___i_node__h.html#gaebc2f6f9dea95ce16a4d8f30ccfe0646">IsAvailable</a>(ptrLineSelector) || !<a class="code" href="group___i_node__h.html#ga2f718ca036fb1f237422cd1766a0de83">IsWritable</a>(ptrLineSelector))</div>
<div class="line">        {</div>
<div class="line">            cout &lt;&lt; <span class="stringliteral">&quot;Unable to set Line Selector. Aborting...&quot;</span> &lt;&lt; endl &lt;&lt; endl;</div>
<div class="line">            <span class="keywordflow">return</span> -1;</div>
<div class="line">        }</div>
<div class="line">        ptrLineSelector-&gt;SetIntValue(2); <span class="comment">// line 2 is selected</span></div>
<div class="line"></div>
<div class="line">        <a class="code" href="class_spinnaker_1_1_gen_api_1_1_c_pointer.html">CEnumerationPtr</a> ptrLineMode = nodeMap.GetNode(<span class="stringliteral">&quot;LineMode&quot;</span>);</div>
<div class="line">        <span class="keywordflow">if</span> (!<a class="code" href="group___i_node__h.html#gaebc2f6f9dea95ce16a4d8f30ccfe0646">IsAvailable</a>(ptrLineMode) || !<a class="code" href="group___i_node__h.html#ga2f718ca036fb1f237422cd1766a0de83">IsWritable</a>(ptrLineMode))</div>
<div class="line">        {</div>
<div class="line">            cout &lt;&lt; <span class="stringliteral">&quot;Unable to set Line Mode. Aborting...&quot;</span> &lt;&lt; endl &lt;&lt; endl;</div>
<div class="line">            <span class="keywordflow">return</span> -1;</div>
<div class="line">        }</div>
<div class="line">        ptrLineMode-&gt;SetIntValue(1); <span class="comment">// output is selected</span></div>
<div class="line"></div>
<div class="line">        <a class="code" href="class_spinnaker_1_1_gen_api_1_1_c_pointer.html">CEnumerationPtr</a> ptrLineSource = nodeMap.GetNode(<span class="stringliteral">&quot;LineSource&quot;</span>);</div>
<div class="line">        <span class="keywordflow">if</span> (!<a class="code" href="group___i_node__h.html#gaebc2f6f9dea95ce16a4d8f30ccfe0646">IsAvailable</a>(ptrLineSource) || !<a class="code" href="group___i_node__h.html#ga2f718ca036fb1f237422cd1766a0de83">IsWritable</a>(ptrLineSource))</div>
<div class="line">        {</div>
<div class="line">            cout &lt;&lt; <span class="stringliteral">&quot;Unable to set Line Source. Aborting...&quot;</span> &lt;&lt; endl &lt;&lt; endl;</div>
<div class="line">            <span class="keywordflow">return</span> -1;</div>
<div class="line">        }</div>
<div class="line">        ptrLineSource-&gt;SetIntValue(30); <span class="comment">// Serial port 0 is selected</span></div>
<div class="line"></div>
<div class="line">        cout &lt;&lt; endl &lt;&lt; <span class="stringliteral">&quot;Setup File Access Settings &quot;</span> &lt;&lt; endl;</div>
<div class="line"></div>
<div class="line">        <a class="code" href="class_spinnaker_1_1_gen_api_1_1_c_pointer.html">CEnumerationPtr</a> ptrFileSelector = nodeMap.GetNode(<span class="stringliteral">&quot;FileSelector&quot;</span>);</div>
<div class="line">        <span class="keywordflow">if</span> (!<a class="code" href="group___i_node__h.html#gaebc2f6f9dea95ce16a4d8f30ccfe0646">IsAvailable</a>(ptrFileSelector) || !<a class="code" href="group___i_node__h.html#ga2f718ca036fb1f237422cd1766a0de83">IsWritable</a>(ptrFileSelector))</div>
<div class="line">        {</div>
<div class="line">            cout &lt;&lt; <span class="stringliteral">&quot;Unable to set File Selector. Aborting...&quot;</span> &lt;&lt; endl &lt;&lt; endl;</div>
<div class="line">            <span class="keywordflow">return</span> -1;</div>
<div class="line">        }</div>
<div class="line">        ptrFileSelector-&gt;SetIntValue(9); <span class="comment">// Serial Port is chosen</span></div>
<div class="line"></div>
<div class="line">        <a class="code" href="class_spinnaker_1_1_gen_api_1_1_c_pointer.html">CEnumerationPtr</a> ptrFileOperationSelector = nodeMap.GetNode(<span class="stringliteral">&quot;FileOperationSelector&quot;</span>);</div>
<div class="line">        <span class="keywordflow">if</span> (!<a class="code" href="group___i_node__h.html#gaebc2f6f9dea95ce16a4d8f30ccfe0646">IsAvailable</a>(ptrFileOperationSelector) || !<a class="code" href="group___i_node__h.html#ga2f718ca036fb1f237422cd1766a0de83">IsWritable</a>(ptrFileOperationSelector))</div>
<div class="line">        {</div>
<div class="line">            cout &lt;&lt; <span class="stringliteral">&quot;Unable to set File Operation Selector. Aborting...&quot;</span> &lt;&lt; endl &lt;&lt; endl;</div>
<div class="line">            <span class="keywordflow">return</span> -1;</div>
<div class="line">        }</div>
<div class="line">        ptrFileOperationSelector-&gt;SetIntValue(0); <span class="comment">// Open operation is chosen</span></div>
<div class="line"></div>
<div class="line">        <a class="code" href="class_spinnaker_1_1_gen_api_1_1_c_pointer.html">CEnumerationPtr</a> ptrFileOpenMode = nodeMap.GetNode(<span class="stringliteral">&quot;FileOpenMode&quot;</span>);</div>
<div class="line">        <span class="keywordflow">if</span> (!<a class="code" href="group___i_node__h.html#gaebc2f6f9dea95ce16a4d8f30ccfe0646">IsAvailable</a>(ptrFileOpenMode) || !<a class="code" href="group___i_node__h.html#ga2f718ca036fb1f237422cd1766a0de83">IsWritable</a>(ptrFileOpenMode))</div>
<div class="line">        {</div>
<div class="line">            cout &lt;&lt; <span class="stringliteral">&quot;Unable to set File Open Mode. Aborting...&quot;</span> &lt;&lt; endl &lt;&lt; endl;</div>
<div class="line">            <span class="keywordflow">return</span> -1;</div>
<div class="line">        }</div>
<div class="line">        ptrFileOpenMode-&gt;SetIntValue(2); <span class="comment">// readwrite mode is chosen</span></div>
<div class="line"></div>
<div class="line">        <a class="code" href="class_spinnaker_1_1_gen_api_1_1_c_pointer.html">CCommandPtr</a> ptrFileOperationExecute = nodeMap.GetNode(<span class="stringliteral">&quot;FileOperationExecute&quot;</span>);</div>
<div class="line">        <span class="keywordflow">if</span> (!<a class="code" href="group___i_node__h.html#gaebc2f6f9dea95ce16a4d8f30ccfe0646">IsAvailable</a>(ptrFileOperationExecute) || !<a class="code" href="group___i_node__h.html#ga2f718ca036fb1f237422cd1766a0de83">IsWritable</a>(ptrFileOperationExecute))</div>
<div class="line">        {</div>
<div class="line">            cout &lt;&lt; <span class="stringliteral">&quot;Unable to execute File Operation. Aborting...&quot;</span> &lt;&lt; endl &lt;&lt; endl;</div>
<div class="line">            <span class="keywordflow">return</span> -1;</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        cout &lt;&lt; endl &lt;&lt; <span class="stringliteral">&quot;Execute file access open&quot;</span> &lt;&lt; endl;</div>
<div class="line"></div>
<div class="line">        ptrFileOperationExecute-&gt;Execute();</div>
<div class="line"></div>
<div class="line">        <a class="code" href="class_spinnaker_1_1_gen_api_1_1_c_pointer.html">CEnumerationPtr</a> ptrFileOperationStatus = nodeMap.GetNode(<span class="stringliteral">&quot;FileOperationStatus&quot;</span>);</div>
<div class="line">        <span class="keywordflow">if</span> (!<a class="code" href="group___i_node__h.html#gaebc2f6f9dea95ce16a4d8f30ccfe0646">IsAvailable</a>(ptrFileOperationStatus) || !<a class="code" href="group___i_node__h.html#gacb8a89e72218331cdb53e0a530a6a566">IsReadable</a>(ptrFileOperationStatus))</div>
<div class="line">        {</div>
<div class="line">            cout &lt;&lt; <span class="stringliteral">&quot;Unable to get File Operation Status. Aborting...&quot;</span> &lt;&lt; endl &lt;&lt; endl;</div>
<div class="line">            <span class="keywordflow">return</span> -1;</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        <a class="code" href="class_spinnaker_1_1_gen_api_1_1_c_pointer.html">CEnumEntryPtr</a> ptrFileStatusSuccess = ptrFileOperationStatus-&gt;GetEntryByName(<span class="stringliteral">&quot;Success&quot;</span>);</div>
<div class="line">        <span class="keywordflow">if</span> (ptrFileOperationStatus-&gt;GetIntValue() != ptrFileStatusSuccess-&gt;GetValue())</div>
<div class="line">        {</div>
<div class="line">            cout &lt;&lt; <span class="stringliteral">&quot;Failed to open the file in the File Access Control.&quot;</span> &lt;&lt; endl;</div>
<div class="line">            <span class="keywordflow">return</span> 1;</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        Sleep(<a name="a16"></a><a class="code" href="_serial_rx_tx_8cpp.html#ad4e73f738f16c817cac692ef3174fcca">TWO_SECOND_DELAY</a>); <span class="comment">// It sleeps two seconds to avoid error from opening and closing com ports</span></div>
<div class="line"></div>
<div class="line">        cout &lt;&lt; endl &lt;&lt; <span class="stringliteral">&quot;Open COM Port Handle&quot;</span> &lt;&lt; endl;</div>
<div class="line">        <span class="keywordtype">string</span> comPort;</div>
<div class="line"></div>
<div class="line">        <span class="comment">// It loops through COM ports to find which one the device is connected to</span></div>
<div class="line">        <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> comPortIndex = 0; comPortIndex &lt; <a name="a17"></a><a class="code" href="_serial_rx_tx_8cpp.html#a339e17484a694d84d3587a1485f18820">COM_PORT_COUNT_MAX</a>; comPortIndex++)</div>
<div class="line">        {</div>
<div class="line">            <span class="comment">// This gets the COM port</span></div>
<div class="line">            comPort = <span class="stringliteral">&quot;\\\\.\\COM&quot;</span> + to_string(static_cast&lt;long long&gt;(comPortIndex));</div>
<div class="line"></div>
<div class="line">            hFileHandle = CreateFileA(</div>
<div class="line">                comPort.c_str(),</div>
<div class="line">                GENERIC_READ | GENERIC_WRITE,</div>
<div class="line">                0,</div>
<div class="line">                <span class="keyword">nullptr</span>,</div>
<div class="line">                OPEN_EXISTING,</div>
<div class="line">                FILE_ATTRIBUTE_NORMAL,</div>
<div class="line">                <span class="keyword">nullptr</span>);</div>
<div class="line">            <span class="keywordflow">if</span> (hFileHandle == INVALID_HANDLE_VALUE)</div>
<div class="line">            {</div>
<div class="line">                comPort = <span class="stringliteral">&quot;&quot;</span>;</div>
<div class="line">                <span class="keywordflow">continue</span>;</div>
<div class="line">            }</div>
<div class="line"></div>
<div class="line">            <span class="comment">// This sets the read and write timeouts for the serial</span></div>
<div class="line">            COMMTIMEOUTS comTimeout;</div>
<div class="line">            <span class="keywordflow">if</span> (!GetCommTimeouts(hFileHandle, &amp;comTimeout))</div>
<div class="line">            {</div>
<div class="line">                cout &lt;&lt; <span class="stringliteral">&quot;Failed to get the timeout settings for COM&quot;</span> + to_string(static_cast&lt;long long&gt;(comPortIndex)) +</div>
<div class="line">                            <span class="stringliteral">&quot;. Windows Error Code: &quot;</span> + to_string(static_cast&lt;long long&gt;(GetLastError()))</div>
<div class="line">                     &lt;&lt; endl;</div>
<div class="line">                <span class="keywordflow">return</span> -1;</div>
<div class="line">            }</div>
<div class="line">            comTimeout.ReadTotalTimeoutConstant = <a name="a18"></a><a class="code" href="_serial_rx_tx_8cpp.html#aa69946e3d3eddf129f3d660f0786d94d">SERIAL_PORT_COMMUNICATION_TIMEOUT_MILLISECOND</a>;</div>
<div class="line">            comTimeout.WriteTotalTimeoutConstant = <a class="code" href="_serial_rx_tx_8cpp.html#aa69946e3d3eddf129f3d660f0786d94d">SERIAL_PORT_COMMUNICATION_TIMEOUT_MILLISECOND</a>;</div>
<div class="line">            <span class="keywordflow">if</span> (!SetCommTimeouts(hFileHandle, &amp;comTimeout))</div>
<div class="line">            {</div>
<div class="line">                cout &lt;&lt; <span class="stringliteral">&quot;Failed to get the timeout settings for COM&quot;</span> + to_string(static_cast&lt;long long&gt;(comPortIndex)) +</div>
<div class="line">                            <span class="stringliteral">&quot;. Windows Error Code: &quot;</span> + to_string(static_cast&lt;long long&gt;(GetLastError()))</div>
<div class="line">                     &lt;&lt; endl;</div>
<div class="line">                <span class="keywordflow">return</span> -1;</div>
<div class="line">            }</div>
<div class="line">            <span class="comment">// This clears the transmit buffer of the COM port</span></div>
<div class="line">            PurgeComm(hFileHandle, PURGE_TXCLEAR);</div>
<div class="line"></div>
<div class="line">            cout &lt;&lt; endl</div>
<div class="line">                 &lt;&lt; <span class="stringliteral">&quot;COM&quot;</span> + to_string(static_cast&lt;long long&gt;(comPortIndex)) &lt;&lt; <span class="stringliteral">&quot; port is connected to the Device&quot;</span></div>
<div class="line">                 &lt;&lt; endl;</div>
<div class="line">            <span class="comment">// This sets up the COM port</span></div>
<div class="line"></div>
<div class="line">            DCB comSettings = {0};</div>
<div class="line">            comSettings.DCBlength = <span class="keyword">sizeof</span>(comSettings);</div>
<div class="line"></div>
<div class="line">            <span class="keywordflow">if</span> (!GetCommState(hFileHandle, &amp;comSettings))</div>
<div class="line">            {</div>
<div class="line">                cout &lt;&lt; <span class="stringliteral">&quot;Failed to get the communication settings for COM &quot;</span> +</div>
<div class="line">                            to_string(static_cast&lt;long long&gt;(comPortIndex)) +</div>
<div class="line">                            <span class="stringliteral">&quot;. Windows Error Code: &quot;</span> + to_string(static_cast&lt;long long&gt;(GetLastError()))</div>
<div class="line">                     &lt;&lt; endl;</div>
<div class="line">                <span class="keywordflow">return</span> -1;</div>
<div class="line">            }</div>
<div class="line">            comSettings.ByteSize = <a class="code" href="_serial_rx_tx_8cpp.html#a418ddb806712895ba784cfdcaa92b715">DATA_BITS</a>;</div>
<div class="line">            comSettings.Parity = <a class="code" href="_serial_rx_tx_8cpp.html#a5175b5b1a524e213493055fae698ec31">SERIAL_PORT_PARITY_BITS</a>;</div>
<div class="line">            comSettings.BaudRate = <a class="code" href="_serial_rx_tx_8cpp.html#a1f6871beabbc575c234541d4623e0043">SERIAL_PORT_BAUD_RATE</a>;</div>
<div class="line">            comSettings.StopBits = <a class="code" href="_serial_rx_tx_8cpp.html#a2c9479d048cc055e8f1e20dd72b53cb5">SERIAL_PORT_STOP_BITS</a>;</div>
<div class="line">            <span class="keywordflow">if</span> (!SetCommState(hFileHandle, &amp;comSettings))</div>
<div class="line">            {</div>
<div class="line">                cout &lt;&lt; <span class="stringliteral">&quot;Failed to set the communication settings for COM &quot;</span> +</div>
<div class="line">                            to_string(static_cast&lt;long long&gt;(comPortIndex)) + <span class="stringliteral">&quot;. Windows Error Code: &quot;</span></div>
<div class="line">                     &lt;&lt; endl;</div>
<div class="line">                <span class="keywordflow">return</span> -1;</div>
<div class="line">            }</div>
<div class="line">            <span class="keywordflow">break</span>;</div>
<div class="line">        }</div>
<div class="line">        <span class="keywordflow">if</span> (comPort == <span class="stringliteral">&quot;&quot;</span>)</div>
<div class="line">        {</div>
<div class="line">            cout &lt;&lt; <span class="stringliteral">&quot;The device was not found to be connected to a COM port between COM0 and COM&quot;</span> +</div>
<div class="line">                        to_string(static_cast&lt;long long&gt;(COM_PORT_COUNT_MAX)) + <span class="stringliteral">&quot;.&quot;</span>;</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">catch</span> (<a class="code" href="class_spinnaker_1_1_exception.html">Spinnaker::Exception</a>&amp; e)</div>
<div class="line">    {</div>
<div class="line">        cout &lt;&lt; <span class="stringliteral">&quot;Error: &quot;</span> &lt;&lt; e.<a class="code" href="class_spinnaker_1_1_exception.html#aff06f49065b54a8a86e02e9a2441a8ba">what</a>() &lt;&lt; endl;</div>
<div class="line">        result = -1;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">return</span> result;</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="comment">// This function receives data from the PC over serial port</span></div>
<div class="line"><span class="keywordtype">int</span> <a name="a19"></a><a class="code" href="_serial_rx_tx_8cpp.html#af39700655fe0e3d18998d82f3bb5ca94">SerialRx</a>(<a class="code" href="class_spinnaker_1_1_camera_ptr.html">CameraPtr</a> pCam, <a class="code" href="group___i_node_map__h.html#ga3e4a9df80b7da602af317c71c6541c71">INodeMap</a>&amp; nodeMap, HANDLE&amp; hFileHandle)</div>
<div class="line">{</div>
<div class="line">    <span class="keywordtype">int</span> result = 0;</div>
<div class="line">    <span class="keywordflow">try</span></div>
<div class="line">    {</div>
<div class="line">        <span class="comment">// It writes test data to the serial port</span></div>
<div class="line">        DWORD bytesWritten = 0;</div>
<div class="line">        <span class="keywordtype">char</span>* data = <span class="stringliteral">&quot;ABCD&quot;</span>;</div>
<div class="line">        <span class="keywordflow">if</span> (!WriteFile(hFileHandle, data, 4, &amp;bytesWritten, <span class="keyword">nullptr</span>))</div>
<div class="line">        {</div>
<div class="line">            cout &lt;&lt; <span class="stringliteral">&quot;Failed to write the test data to COM port Windows Error Code: &quot;</span> +</div>
<div class="line">                        to_string(static_cast&lt;long long&gt;(GetLastError()))</div>
<div class="line">                 &lt;&lt; endl;</div>
<div class="line">            <span class="keywordflow">return</span> -1;</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        <span class="comment">// This is to ensure that the data is transferred</span></div>
<div class="line">        Sleep(</div>
<div class="line">            (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>)((<span class="keywordtype">double</span>)<a name="a20"></a><a class="code" href="_serial_rx_tx_8cpp.html#a6f1e731907521317e8a272d5ae57364e">MILLISECOND</a> * bytesWritten / (<a class="code" href="_serial_rx_tx_8cpp.html#a1f6871beabbc575c234541d4623e0043">SERIAL_PORT_BAUD_RATE</a> / <a class="code" href="_serial_rx_tx_8cpp.html#a418ddb806712895ba784cfdcaa92b715">DATA_BITS</a>)) +</div>
<div class="line">            <a name="a21"></a><a class="code" href="_serial_rx_tx_8cpp.html#aa74e19d337f87d0ee26c7a412291dc28">SERIAL_PORT_DELAY</a>);</div>
<div class="line"></div>
<div class="line">        <a class="code" href="class_spinnaker_1_1_gen_api_1_1_c_pointer.html">CIntegerPtr</a> ptrFileOperationResult = nodeMap.GetNode(<span class="stringliteral">&quot;FileOperationResult&quot;</span>);</div>
<div class="line">        <span class="keywordflow">if</span> (!<a class="code" href="group___i_node__h.html#gaebc2f6f9dea95ce16a4d8f30ccfe0646">IsAvailable</a>(ptrFileOperationResult) || !<a class="code" href="group___i_node__h.html#gacb8a89e72218331cdb53e0a530a6a566">IsReadable</a>(ptrFileOperationResult))</div>
<div class="line">        {</div>
<div class="line">            cout &lt;&lt; <span class="stringliteral">&quot;Unable to get File Operation Result. Aborting...&quot;</span> &lt;&lt; endl &lt;&lt; endl;</div>
<div class="line">            <span class="keywordflow">return</span> -1;</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        <a class="code" href="class_spinnaker_1_1_gen_api_1_1_c_pointer.html">CIntegerPtr</a> ptrFileSize = nodeMap.GetNode(<span class="stringliteral">&quot;FileSize&quot;</span>);</div>
<div class="line">        <span class="keywordflow">if</span> (!<a class="code" href="group___i_node__h.html#gaebc2f6f9dea95ce16a4d8f30ccfe0646">IsAvailable</a>(ptrFileSize) || !<a class="code" href="group___i_node__h.html#gacb8a89e72218331cdb53e0a530a6a566">IsReadable</a>(ptrFileSize))</div>
<div class="line">        {</div>
<div class="line">            cout &lt;&lt; <span class="stringliteral">&quot;Unable to get File Size. Aborting...&quot;</span> &lt;&lt; endl &lt;&lt; endl;</div>
<div class="line">            <span class="keywordflow">return</span> -1;</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        <a class="code" href="class_spinnaker_1_1_gen_api_1_1_c_pointer.html">CIntegerPtr</a> ptrFileAccessLength = nodeMap.GetNode(<span class="stringliteral">&quot;FileAccessLength&quot;</span>);</div>
<div class="line">        <span class="keywordflow">if</span> (!<a class="code" href="group___i_node__h.html#gaebc2f6f9dea95ce16a4d8f30ccfe0646">IsAvailable</a>(ptrFileAccessLength) || !<a class="code" href="group___i_node__h.html#ga2f718ca036fb1f237422cd1766a0de83">IsWritable</a>(ptrFileAccessLength))</div>
<div class="line">        {</div>
<div class="line">            cout &lt;&lt; <span class="stringliteral">&quot;Unable to set File Access Length. Aborting...&quot;</span> &lt;&lt; endl &lt;&lt; endl;</div>
<div class="line">            <span class="keywordflow">return</span> -1;</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        <a class="code" href="class_spinnaker_1_1_gen_api_1_1_c_pointer.html">CRegisterPtr</a> ptrFileAccessBuffer = nodeMap.GetNode(<span class="stringliteral">&quot;FileAccessBuffer&quot;</span>);</div>
<div class="line">        <span class="keywordflow">if</span> (!<a class="code" href="group___i_node__h.html#gaebc2f6f9dea95ce16a4d8f30ccfe0646">IsAvailable</a>(ptrFileAccessBuffer) || !<a class="code" href="group___i_node__h.html#ga2f718ca036fb1f237422cd1766a0de83">IsWritable</a>(ptrFileAccessBuffer))</div>
<div class="line">        {</div>
<div class="line">            cout &lt;&lt; <span class="stringliteral">&quot;Unable to set File Access Buffer. Aborting...&quot;</span> &lt;&lt; endl &lt;&lt; endl;</div>
<div class="line">            <span class="keywordflow">return</span> -1;</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        <a class="code" href="class_spinnaker_1_1_gen_api_1_1_c_pointer.html">CEnumerationPtr</a> ptrFileOperationSelector = nodeMap.GetNode(<span class="stringliteral">&quot;FileOperationSelector&quot;</span>);</div>
<div class="line">        <span class="keywordflow">if</span> (!<a class="code" href="group___i_node__h.html#gaebc2f6f9dea95ce16a4d8f30ccfe0646">IsAvailable</a>(ptrFileOperationSelector) || !<a class="code" href="group___i_node__h.html#ga2f718ca036fb1f237422cd1766a0de83">IsWritable</a>(ptrFileOperationSelector))</div>
<div class="line">        {</div>
<div class="line">            cout &lt;&lt; <span class="stringliteral">&quot;Unable to set File Operation Selector. Aborting...&quot;</span> &lt;&lt; endl &lt;&lt; endl;</div>
<div class="line">            <span class="keywordflow">return</span> -1;</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        <a class="code" href="class_spinnaker_1_1_gen_api_1_1_c_pointer.html">CCommandPtr</a> ptrFileOperationExecute = nodeMap.GetNode(<span class="stringliteral">&quot;FileOperationExecute&quot;</span>);</div>
<div class="line">        <span class="keywordflow">if</span> (!<a class="code" href="group___i_node__h.html#gaebc2f6f9dea95ce16a4d8f30ccfe0646">IsAvailable</a>(ptrFileOperationExecute) || !<a class="code" href="group___i_node__h.html#ga2f718ca036fb1f237422cd1766a0de83">IsWritable</a>(ptrFileOperationExecute))</div>
<div class="line">        {</div>
<div class="line">            cout &lt;&lt; <span class="stringliteral">&quot;Unable to execute File Operation. Aborting...&quot;</span> &lt;&lt; endl &lt;&lt; endl;</div>
<div class="line">            <span class="keywordflow">return</span> -1;</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        <a class="code" href="class_spinnaker_1_1_gen_api_1_1_c_pointer.html">CEnumerationPtr</a> ptrFileOperationStatus = nodeMap.GetNode(<span class="stringliteral">&quot;FileOperationStatus&quot;</span>);</div>
<div class="line">        <span class="keywordflow">if</span> (!<a class="code" href="group___i_node__h.html#gaebc2f6f9dea95ce16a4d8f30ccfe0646">IsAvailable</a>(ptrFileOperationStatus) || !<a class="code" href="group___i_node__h.html#gacb8a89e72218331cdb53e0a530a6a566">IsReadable</a>(ptrFileOperationStatus))</div>
<div class="line">        {</div>
<div class="line">            cout &lt;&lt; <span class="stringliteral">&quot;Unable to get File Operation Status. Aborting...&quot;</span> &lt;&lt; endl &lt;&lt; endl;</div>
<div class="line">            <span class="keywordflow">return</span> -1;</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        cout &lt;&lt; endl &lt;&lt; <span class="stringliteral">&quot;Set File Access to read operation &quot;</span> &lt;&lt; endl;</div>
<div class="line"></div>
<div class="line">        ptrFileOperationSelector-&gt;SetIntValue(2); <span class="comment">// read operation is selected</span></div>
<div class="line"></div>
<div class="line">        <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> totalBytesRead = 0;</div>
<div class="line">        totalBytesRead = (<span class="keywordtype">unsigned</span> int)ptrFileOperationResult-&gt;GetValue();</div>
<div class="line">        <span class="keywordtype">char</span>* serialDataRx = <span class="stringliteral">&quot;&quot;</span>;</div>
<div class="line">        serialDataRx = <span class="keyword">new</span> <span class="keywordtype">char</span>[(<span class="keywordtype">unsigned</span> int)ptrFileAccessBuffer-&gt;GetLength()];</div>
<div class="line"></div>
<div class="line">        <span class="keywordtype">string</span> dataRead = <span class="stringliteral">&quot;&quot;</span>;</div>
<div class="line">        <span class="keywordflow">while</span> (ptrFileSize-&gt;GetValue() &gt; 0)</div>
<div class="line">        {</div>
<div class="line">            ptrFileOperationExecute-&gt;Execute();</div>
<div class="line"></div>
<div class="line">            <a class="code" href="class_spinnaker_1_1_gen_api_1_1_c_pointer.html">CEnumEntryPtr</a> ptrFileStatusSuccess = ptrFileOperationStatus-&gt;GetEntryByName(<span class="stringliteral">&quot;Success&quot;</span>);</div>
<div class="line">            <span class="keywordflow">if</span> (ptrFileOperationStatus-&gt;GetIntValue() != ptrFileStatusSuccess-&gt;GetValue())</div>
<div class="line">            {</div>
<div class="line">                cout &lt;&lt; <span class="stringliteral">&quot;Failed to read the file in the File Access Control.&quot;</span> &lt;&lt; endl;</div>
<div class="line">            }</div>
<div class="line"></div>
<div class="line">            memset(serialDataRx, 0, (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>)ptrFileAccessBuffer-&gt;GetLength());</div>
<div class="line"></div>
<div class="line">            ptrFileAccessBuffer-&gt;Get((uint8_t*)serialDataRx, ptrFileAccessBuffer-&gt;GetLength());</div>
<div class="line"></div>
<div class="line">            dataRead.append(serialDataRx, (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>)ptrFileOperationResult-&gt;GetValue());</div>
<div class="line">        }</div>
<div class="line">        cout &lt;&lt; endl &lt;&lt; <span class="stringliteral">&quot;Data received is : &quot;</span> &lt;&lt; dataRead &lt;&lt; endl;</div>
<div class="line"></div>
<div class="line">        <span class="comment">// It clears the data</span></div>
<div class="line">        <a class="code" href="class_spinnaker_1_1_gen_api_1_1_c_pointer.html">CCommandPtr</a> serialReceiveQueueClear = nodeMap.GetNode(<span class="stringliteral">&quot;SerialReceiveQueueClear&quot;</span>);</div>
<div class="line">        <span class="keywordflow">if</span> (!<a class="code" href="group___i_node__h.html#gaebc2f6f9dea95ce16a4d8f30ccfe0646">IsAvailable</a>(serialReceiveQueueClear))</div>
<div class="line">        {</div>
<div class="line">            cout &lt;&lt; <span class="stringliteral">&quot;Unable to execute Serial Receive Queue Clear. Aborting...&quot;</span> &lt;&lt; endl &lt;&lt; endl;</div>
<div class="line">            <span class="keywordflow">return</span> -1;</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        serialReceiveQueueClear-&gt;Execute();</div>
<div class="line"></div>
<div class="line">        <span class="keyword">delete</span>[] serialDataRx;</div>
<div class="line">        serialDataRx = <span class="keyword">nullptr</span>;</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">catch</span> (<a class="code" href="class_spinnaker_1_1_exception.html">Spinnaker::Exception</a>&amp; e)</div>
<div class="line">    {</div>
<div class="line">        cout &lt;&lt; <span class="stringliteral">&quot;Error: &quot;</span> &lt;&lt; e.<a class="code" href="class_spinnaker_1_1_exception.html#aff06f49065b54a8a86e02e9a2441a8ba">what</a>() &lt;&lt; endl;</div>
<div class="line">        result = -1;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">return</span> result;</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="comment">// This function sends data to the PC over serial port</span></div>
<div class="line"><span class="keywordtype">int</span> <a name="a22"></a><a class="code" href="_serial_rx_tx_8cpp.html#a3bd96e82c025c79774315b432e33fb6b">SerialTx</a>(<a class="code" href="class_spinnaker_1_1_camera_ptr.html">CameraPtr</a> pCam, <a class="code" href="group___i_node_map__h.html#ga3e4a9df80b7da602af317c71c6541c71">INodeMap</a>&amp; nodeMap, HANDLE&amp; hFileHandle)</div>
<div class="line">{</div>
<div class="line">    <span class="keywordtype">int</span> result = 0;</div>
<div class="line">    <span class="keywordflow">try</span></div>
<div class="line">    {</div>
<div class="line">        <span class="comment">// This tests transmit function</span></div>
<div class="line">        cout &lt;&lt; endl &lt;&lt; <span class="stringliteral">&quot;Set File Access to write mode &quot;</span> &lt;&lt; endl;</div>
<div class="line"></div>
<div class="line">        <a class="code" href="class_spinnaker_1_1_gen_api_1_1_c_pointer.html">CIntegerPtr</a> ptrFileAccessLength = nodeMap.GetNode(<span class="stringliteral">&quot;FileAccessLength&quot;</span>);</div>
<div class="line">        <span class="keywordflow">if</span> (!<a class="code" href="group___i_node__h.html#gaebc2f6f9dea95ce16a4d8f30ccfe0646">IsAvailable</a>(ptrFileAccessLength) || !<a class="code" href="group___i_node__h.html#ga2f718ca036fb1f237422cd1766a0de83">IsWritable</a>(ptrFileAccessLength))</div>
<div class="line">        {</div>
<div class="line">            cout &lt;&lt; <span class="stringliteral">&quot;Unable to get File Access Length. Aborting...&quot;</span> &lt;&lt; endl &lt;&lt; endl;</div>
<div class="line">            <span class="keywordflow">return</span> -1;</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        <a class="code" href="class_spinnaker_1_1_gen_api_1_1_c_pointer.html">CRegisterPtr</a> ptrFileAccessBuffer = nodeMap.GetNode(<span class="stringliteral">&quot;FileAccessBuffer&quot;</span>);</div>
<div class="line">        <span class="keywordflow">if</span> (!<a class="code" href="group___i_node__h.html#gaebc2f6f9dea95ce16a4d8f30ccfe0646">IsAvailable</a>(ptrFileAccessBuffer) || !<a class="code" href="group___i_node__h.html#ga2f718ca036fb1f237422cd1766a0de83">IsWritable</a>(ptrFileAccessBuffer))</div>
<div class="line">        {</div>
<div class="line">            cout &lt;&lt; <span class="stringliteral">&quot;Unable to set File Access Buffer. Aborting...&quot;</span> &lt;&lt; endl &lt;&lt; endl;</div>
<div class="line">            <span class="keywordflow">return</span> -1;</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        <a class="code" href="class_spinnaker_1_1_gen_api_1_1_c_pointer.html">CEnumerationPtr</a> ptrFileOperationSelector = nodeMap.GetNode(<span class="stringliteral">&quot;FileOperationSelector&quot;</span>);</div>
<div class="line">        <span class="keywordflow">if</span> (!<a class="code" href="group___i_node__h.html#gaebc2f6f9dea95ce16a4d8f30ccfe0646">IsAvailable</a>(ptrFileOperationSelector) || !<a class="code" href="group___i_node__h.html#ga2f718ca036fb1f237422cd1766a0de83">IsWritable</a>(ptrFileOperationSelector))</div>
<div class="line">        {</div>
<div class="line">            cout &lt;&lt; <span class="stringliteral">&quot;Unable to set File Operation Selector. Aborting...&quot;</span> &lt;&lt; endl &lt;&lt; endl;</div>
<div class="line">            <span class="keywordflow">return</span> -1;</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        <a class="code" href="class_spinnaker_1_1_gen_api_1_1_c_pointer.html">CCommandPtr</a> ptrFileOperationExecute = nodeMap.GetNode(<span class="stringliteral">&quot;FileOperationExecute&quot;</span>);</div>
<div class="line">        <span class="keywordflow">if</span> (!<a class="code" href="group___i_node__h.html#gaebc2f6f9dea95ce16a4d8f30ccfe0646">IsAvailable</a>(ptrFileOperationExecute) || !<a class="code" href="group___i_node__h.html#ga2f718ca036fb1f237422cd1766a0de83">IsWritable</a>(ptrFileOperationExecute))</div>
<div class="line">        {</div>
<div class="line">            cout &lt;&lt; <span class="stringliteral">&quot;Unable to exectue File Operation. Aborting...&quot;</span> &lt;&lt; endl &lt;&lt; endl;</div>
<div class="line">            <span class="keywordflow">return</span> -1;</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        <a class="code" href="class_spinnaker_1_1_gen_api_1_1_c_pointer.html">CEnumerationPtr</a> ptrFileOperationStatus = nodeMap.GetNode(<span class="stringliteral">&quot;FileOperationStatus&quot;</span>);</div>
<div class="line">        <span class="keywordflow">if</span> (!<a class="code" href="group___i_node__h.html#gaebc2f6f9dea95ce16a4d8f30ccfe0646">IsAvailable</a>(ptrFileOperationStatus) || !<a class="code" href="group___i_node__h.html#gacb8a89e72218331cdb53e0a530a6a566">IsReadable</a>(ptrFileOperationStatus))</div>
<div class="line">        {</div>
<div class="line">            cout &lt;&lt; <span class="stringliteral">&quot;Unable to set File Operation Status. Aborting...&quot;</span> &lt;&lt; endl &lt;&lt; endl;</div>
<div class="line">            <span class="keywordflow">return</span> -1;</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        ptrFileOperationSelector-&gt;SetIntValue(3); <span class="comment">// write mode is chosen</span></div>
<div class="line"></div>
<div class="line">        ptrFileAccessLength-&gt;SetValue(4);</div>
<div class="line">        <span class="keywordtype">char</span> serialDataTx[] = <span class="stringliteral">&quot;ABCD&quot;</span>;</div>
<div class="line">        ptrFileAccessBuffer-&gt;Set((uint8_t*)serialDataTx, 4);</div>
<div class="line">        ptrFileOperationExecute-&gt;Execute();</div>
<div class="line"></div>
<div class="line">        <a class="code" href="class_spinnaker_1_1_gen_api_1_1_c_pointer.html">CEnumEntryPtr</a> ptrFileStatusSuccess = ptrFileOperationStatus-&gt;GetEntryByName(<span class="stringliteral">&quot;Success&quot;</span>);</div>
<div class="line">        <span class="keywordflow">if</span> (ptrFileOperationStatus-&gt;GetIntValue() != ptrFileStatusSuccess-&gt;GetValue())</div>
<div class="line">        {</div>
<div class="line">            cout &lt;&lt; <span class="stringliteral">&quot;Failed to write the file in the File Access Control.&quot;</span> &lt;&lt; endl;</div>
<div class="line">            <span class="keywordflow">return</span> -1;</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        <span class="comment">// It ensures that the data is transferred</span></div>
<div class="line">        Sleep((<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>)((<span class="keywordtype">double</span>)<a class="code" href="_serial_rx_tx_8cpp.html#a6f1e731907521317e8a272d5ae57364e">MILLISECOND</a> * 4 / (<a class="code" href="_serial_rx_tx_8cpp.html#a1f6871beabbc575c234541d4623e0043">SERIAL_PORT_BAUD_RATE</a> / <a class="code" href="_serial_rx_tx_8cpp.html#a418ddb806712895ba784cfdcaa92b715">DATA_BITS</a>)) + <a class="code" href="_serial_rx_tx_8cpp.html#aa74e19d337f87d0ee26c7a412291dc28">SERIAL_PORT_DELAY</a>);</div>
<div class="line"></div>
<div class="line">        <span class="comment">// This checks if the device received the test data</span></div>
<div class="line">        DWORD bytesRead = 0;</div>
<div class="line">        <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>* tempBytesRead[4] = {0};</div>
<div class="line">        <span class="keywordflow">if</span> (!ReadFile(hFileHandle, tempBytesRead, 4, &amp;bytesRead, <span class="keyword">nullptr</span>))</div>
<div class="line">        {</div>
<div class="line">            cout &lt;&lt; <span class="stringliteral">&quot;Failed to read the test data from COM port Windows Error Code: &quot;</span> +</div>
<div class="line">                        to_string(static_cast&lt;long long&gt;(GetLastError()))</div>
<div class="line">                 &lt;&lt; endl;</div>
<div class="line">            <span class="keywordflow">return</span> -1;</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        <span class="keywordtype">string</span> dataTransmitted(reinterpret_cast&lt;const char*&gt;(tempBytesRead), 4);</div>
<div class="line"></div>
<div class="line">        cout &lt;&lt; endl &lt;&lt; <span class="stringliteral">&quot;Data transmitted was &quot;</span> &lt;&lt; dataTransmitted &lt;&lt; endl;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">catch</span> (<a class="code" href="class_spinnaker_1_1_exception.html">Spinnaker::Exception</a>&amp; e)</div>
<div class="line">    {</div>
<div class="line">        cout &lt;&lt; <span class="stringliteral">&quot;Error: &quot;</span> &lt;&lt; e.<a class="code" href="class_spinnaker_1_1_exception.html#aff06f49065b54a8a86e02e9a2441a8ba">what</a>() &lt;&lt; endl;</div>
<div class="line">        result = -1;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">return</span> result;</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="comment">// This function closes file access and com port connection</span></div>
<div class="line"><span class="keywordtype">int</span> <a name="a23"></a><a class="code" href="_serial_rx_tx_8cpp.html#af28d943dfb934714e52bdb823b1a7e96">CleanUp</a>(<a class="code" href="group___i_node_map__h.html#ga3e4a9df80b7da602af317c71c6541c71">INodeMap</a>&amp; nodeMap, HANDLE&amp; hFileHandle)</div>
<div class="line">{</div>
<div class="line">    <span class="keywordtype">int</span> result = 0;</div>
<div class="line">    <span class="keywordflow">try</span></div>
<div class="line">    {</div>
<div class="line">        <a class="code" href="class_spinnaker_1_1_gen_api_1_1_c_pointer.html">CEnumerationPtr</a> ptrFileOperationSelector = nodeMap.GetNode(<span class="stringliteral">&quot;FileOperationSelector&quot;</span>);</div>
<div class="line">        <span class="keywordflow">if</span> (!<a class="code" href="group___i_node__h.html#gaebc2f6f9dea95ce16a4d8f30ccfe0646">IsAvailable</a>(ptrFileOperationSelector) || !<a class="code" href="group___i_node__h.html#ga2f718ca036fb1f237422cd1766a0de83">IsWritable</a>(ptrFileOperationSelector))</div>
<div class="line">        {</div>
<div class="line">            cout &lt;&lt; <span class="stringliteral">&quot;Unable to set File Operation Selector. Aborting...&quot;</span> &lt;&lt; endl &lt;&lt; endl;</div>
<div class="line">            <span class="keywordflow">return</span> -1;</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        <a class="code" href="class_spinnaker_1_1_gen_api_1_1_c_pointer.html">CCommandPtr</a> ptrFileOperationExecute = nodeMap.GetNode(<span class="stringliteral">&quot;FileOperationExecute&quot;</span>);</div>
<div class="line">        <span class="keywordflow">if</span> (!<a class="code" href="group___i_node__h.html#gaebc2f6f9dea95ce16a4d8f30ccfe0646">IsAvailable</a>(ptrFileOperationExecute) || !<a class="code" href="group___i_node__h.html#ga2f718ca036fb1f237422cd1766a0de83">IsWritable</a>(ptrFileOperationExecute))</div>
<div class="line">        {</div>
<div class="line">            cout &lt;&lt; <span class="stringliteral">&quot;Unable to exectue File Operation. Aborting...&quot;</span> &lt;&lt; endl &lt;&lt; endl;</div>
<div class="line">            <span class="keywordflow">return</span> -1;</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        <a class="code" href="class_spinnaker_1_1_gen_api_1_1_c_pointer.html">CEnumerationPtr</a> ptrFileOperationStatus = nodeMap.GetNode(<span class="stringliteral">&quot;FileOperationStatus&quot;</span>);</div>
<div class="line">        <span class="keywordflow">if</span> (!<a class="code" href="group___i_node__h.html#gaebc2f6f9dea95ce16a4d8f30ccfe0646">IsAvailable</a>(ptrFileOperationStatus) || !<a class="code" href="group___i_node__h.html#gacb8a89e72218331cdb53e0a530a6a566">IsReadable</a>(ptrFileOperationStatus))</div>
<div class="line">        {</div>
<div class="line">            cout &lt;&lt; <span class="stringliteral">&quot;Unable to get File Operation Status. Aborting...&quot;</span> &lt;&lt; endl &lt;&lt; endl;</div>
<div class="line">            <span class="keywordflow">return</span> -1;</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        <span class="comment">// This sets to file access close mode</span></div>
<div class="line">        ptrFileOperationSelector-&gt;SetIntValue(1);</div>
<div class="line"></div>
<div class="line">        cout &lt;&lt; endl &lt;&lt; <span class="stringliteral">&quot;Execute file access close&quot;</span> &lt;&lt; endl;</div>
<div class="line"></div>
<div class="line">        ptrFileOperationExecute-&gt;Execute();</div>
<div class="line"></div>
<div class="line">        <a class="code" href="class_spinnaker_1_1_gen_api_1_1_c_pointer.html">CEnumEntryPtr</a> ptrFileStatusSuccess = ptrFileOperationStatus-&gt;GetEntryByName(<span class="stringliteral">&quot;Success&quot;</span>);</div>
<div class="line">        <span class="keywordflow">if</span> (ptrFileOperationStatus-&gt;GetIntValue() != ptrFileStatusSuccess-&gt;GetValue())</div>
<div class="line">        {</div>
<div class="line">            cout &lt;&lt; <span class="stringliteral">&quot;Failed to close the file in the File Access Control.&quot;</span> &lt;&lt; endl;</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        <span class="comment">// It clears the incoming and outgoing buffer of the communication port</span></div>
<div class="line">        PurgeComm(hFileHandle, PURGE_RXCLEAR);</div>
<div class="line">        PurgeComm(hFileHandle, PURGE_TXCLEAR);</div>
<div class="line"></div>
<div class="line">        cout &lt;&lt; endl &lt;&lt; <span class="stringliteral">&quot;Close Com Port handle&quot;</span> &lt;&lt; endl;</div>
<div class="line">        CloseHandle(hFileHandle);</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">catch</span> (<a class="code" href="class_spinnaker_1_1_exception.html">Spinnaker::Exception</a>&amp; e)</div>
<div class="line">    {</div>
<div class="line">        cout &lt;&lt; <span class="stringliteral">&quot;Error: &quot;</span> &lt;&lt; e.<a class="code" href="class_spinnaker_1_1_exception.html#aff06f49065b54a8a86e02e9a2441a8ba">what</a>() &lt;&lt; endl;</div>
<div class="line">        result = -1;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">return</span> result;</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="comment">// This function acts as the body of the example; please see NodeMapInfo example</span></div>
<div class="line"><span class="comment">// for more in-depth comments on setting up cameras.</span></div>
<div class="line"><span class="keywordtype">int</span> <a name="a24"></a><a class="code" href="_acquisition_8cpp.html#a86462e15d417b9982cead96d2e8a8616">RunSingleCamera</a>(<a class="code" href="class_spinnaker_1_1_camera_ptr.html">CameraPtr</a> pCam)</div>
<div class="line">{</div>
<div class="line">    <span class="keywordtype">int</span> result = 0;</div>
<div class="line">    <span class="keywordtype">int</span> err = 0;</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">try</span></div>
<div class="line">    {</div>
<div class="line">        <span class="comment">// It retrieves TL device nodemap and print device information</span></div>
<div class="line">        <a class="code" href="group___i_node_map__h.html#ga3e4a9df80b7da602af317c71c6541c71">INodeMap</a>&amp; nodeMapTLDevice = pCam-&gt;GetTLDeviceNodeMap();</div>
<div class="line"></div>
<div class="line">        result = <a class="code" href="_acquisition_8cpp.html#a9a1864412533965fa228b758488637fd">PrintDeviceInfo</a>(nodeMapTLDevice);</div>
<div class="line"></div>
<div class="line">        <span class="comment">// It initializes camera</span></div>
<div class="line">        pCam-&gt;Init();</div>
<div class="line"></div>
<div class="line">        <span class="comment">// It retrieves GenICam nodemap</span></div>
<div class="line">        <a class="code" href="group___i_node_map__h.html#ga3e4a9df80b7da602af317c71c6541c71">INodeMap</a>&amp; nodeMap = pCam-&gt;GetNodeMap();</div>
<div class="line"></div>
<div class="line">        HANDLE hFileHandle;</div>
<div class="line"></div>
<div class="line">        err = <a class="code" href="_serial_rx_tx_8cpp.html#abcc7d0800f2a17aa5d661c022d378b97">ConfigureDevice</a>(pCam, hFileHandle);</div>
<div class="line">        <span class="keywordflow">if</span> (err &lt; 0)</div>
<div class="line">        {</div>
<div class="line">            <span class="keywordflow">return</span> err;</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        <span class="comment">// It receives data over serial port from PC</span></div>
<div class="line">        result = result | <a class="code" href="_serial_rx_tx_8cpp.html#af39700655fe0e3d18998d82f3bb5ca94">SerialRx</a>(pCam, nodeMap, hFileHandle);</div>
<div class="line"></div>
<div class="line">        <span class="comment">// It transmits data over serial port to PC</span></div>
<div class="line">        result = result | <a class="code" href="_serial_rx_tx_8cpp.html#a3bd96e82c025c79774315b432e33fb6b">SerialTx</a>(pCam, nodeMap, hFileHandle);</div>
<div class="line"></div>
<div class="line">        <span class="comment">// It closes the handle and file access</span></div>
<div class="line">        result = result | <a class="code" href="_serial_rx_tx_8cpp.html#af28d943dfb934714e52bdb823b1a7e96">CleanUp</a>(nodeMap, hFileHandle);</div>
<div class="line"></div>
<div class="line">        <span class="comment">// This is to deinitialize camera</span></div>
<div class="line">        pCam-&gt;DeInit();</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">catch</span> (<a class="code" href="class_spinnaker_1_1_exception.html">Spinnaker::Exception</a>&amp; e)</div>
<div class="line">    {</div>
<div class="line">        cout &lt;&lt; <span class="stringliteral">&quot;Error: &quot;</span> &lt;&lt; e.<a class="code" href="class_spinnaker_1_1_exception.html#aff06f49065b54a8a86e02e9a2441a8ba">what</a>() &lt;&lt; endl;</div>
<div class="line">        result = -1;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">return</span> result;</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="comment">// Example entry point; please see Enumeration example for more in-depth</span></div>
<div class="line"><span class="comment">// comments on preparing and cleaning up the system.</span></div>
<div class="line"><span class="keywordtype">int</span> <a name="a25"></a><a class="code" href="_acquisition_8cpp.html#a2c3f6775325c30275d11c6abee2db6a0">main</a>(<span class="keywordtype">int</span> <span class="comment">/*argc*/</span>, <span class="keywordtype">char</span>** <span class="comment">/*argv*/</span>)</div>
<div class="line">{</div>
<div class="line">    <span class="keywordtype">int</span> result = 0;</div>
<div class="line"></div>
<div class="line">    <span class="comment">// Print application build information</span></div>
<div class="line">    cout &lt;&lt; <span class="stringliteral">&quot;Application build date: &quot;</span> &lt;&lt; __DATE__ &lt;&lt; <span class="stringliteral">&quot; &quot;</span> &lt;&lt; __TIME__ &lt;&lt; endl &lt;&lt; endl;</div>
<div class="line"></div>
<div class="line">    <span class="comment">// Retrieve singleton reference to system object</span></div>
<div class="line">    <a name="_a26"></a><a class="code" href="class_spinnaker_1_1_system_ptr.html">SystemPtr</a> system = <a name="a27"></a><a class="code" href="class_spinnaker_1_1_system.html#a45b5dbcde6e9fdfb05e0016af82969d0">System::GetInstance</a>();</div>
<div class="line"></div>
<div class="line">    <span class="comment">// Retrieve list of cameras from the system</span></div>
<div class="line">    <a name="_a28"></a><a class="code" href="class_spinnaker_1_1_camera_list.html">CameraList</a> camList = system-&gt;GetCameras();</div>
<div class="line"></div>
<div class="line">    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> numCameras = camList.<a name="a29"></a><a class="code" href="class_spinnaker_1_1_camera_list.html#a7d1646dc12416daf821f666c233d2be2">GetSize</a>();</div>
<div class="line"></div>
<div class="line">    cout &lt;&lt; <span class="stringliteral">&quot;Number of cameras detected: &quot;</span> &lt;&lt; numCameras &lt;&lt; endl &lt;&lt; endl;</div>
<div class="line"></div>
<div class="line">    <span class="comment">// Finish if there are no cameras</span></div>
<div class="line">    <span class="keywordflow">if</span> (numCameras == 0)</div>
<div class="line">    {</div>
<div class="line">        <span class="comment">// Clear camera list before releasing system</span></div>
<div class="line">        camList.<a name="a30"></a><a class="code" href="class_spinnaker_1_1_camera_list.html#aa71d36872f416feaa853788a7a7a7ef8">Clear</a>();</div>
<div class="line"></div>
<div class="line">        <span class="comment">// Release system</span></div>
<div class="line">        system-&gt;ReleaseInstance();</div>
<div class="line"></div>
<div class="line">        cout &lt;&lt; <span class="stringliteral">&quot;Not enough cameras!&quot;</span> &lt;&lt; endl;</div>
<div class="line">        cout &lt;&lt; <span class="stringliteral">&quot;Done! Press Enter to exit...&quot;</span> &lt;&lt; endl;</div>
<div class="line">        getchar();</div>
<div class="line"></div>
<div class="line">        <span class="keywordflow">return</span> -1;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="comment">//</span></div>
<div class="line">    <span class="comment">// Create shared pointer to camera</span></div>
<div class="line">    <span class="comment">//</span></div>
<div class="line">    <span class="comment">// *** NOTES ***</span></div>
<div class="line">    <span class="comment">// The CameraPtr object is a shared pointer, and will generally clean itself</span></div>
<div class="line">    <span class="comment">// up upon exiting its scope. However, if a shared pointer is created in the</span></div>
<div class="line">    <span class="comment">// same scope that a system object is explicitly released (i.e. this scope),</span></div>
<div class="line">    <span class="comment">// the reference to the shared point must be broken manually.</span></div>
<div class="line">    <span class="comment">//</span></div>
<div class="line">    <span class="comment">// *** LATER ***</span></div>
<div class="line">    <span class="comment">// Shared pointers can be terminated manually by assigning them to nullptr.</span></div>
<div class="line">    <span class="comment">// This keeps releasing the system from throwing an exception.</span></div>
<div class="line">    <span class="comment">//</span></div>
<div class="line"></div>
<div class="line">    <a class="code" href="class_spinnaker_1_1_camera_ptr.html">CameraPtr</a> pCam = <span class="keyword">nullptr</span>;</div>
<div class="line">    <span class="comment">// Run example on each camera</span></div>
<div class="line">    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i = 0; i &lt; numCameras; i++)</div>
<div class="line">    {</div>
<div class="line">        <span class="comment">// Select camera</span></div>
<div class="line">        pCam = camList.<a name="a31"></a><a class="code" href="class_spinnaker_1_1_camera_list.html#aa372308b62098bc12ad25ee02dd11a48">GetByIndex</a>(i);</div>
<div class="line"></div>
<div class="line">        cout &lt;&lt; endl &lt;&lt; <span class="stringliteral">&quot;Running example for camera &quot;</span> &lt;&lt; i &lt;&lt; <span class="stringliteral">&quot;...&quot;</span> &lt;&lt; endl;</div>
<div class="line"></div>
<div class="line">        <span class="comment">// Run example</span></div>
<div class="line">        result = result | <a class="code" href="_acquisition_8cpp.html#a86462e15d417b9982cead96d2e8a8616">RunSingleCamera</a>(camList.<a class="code" href="class_spinnaker_1_1_camera_list.html#aa372308b62098bc12ad25ee02dd11a48">GetByIndex</a>(i));</div>
<div class="line"></div>
<div class="line">        cout &lt;&lt; endl &lt;&lt; <span class="stringliteral">&quot;Camera &quot;</span> &lt;&lt; i &lt;&lt; <span class="stringliteral">&quot; example complete...&quot;</span> &lt;&lt; endl &lt;&lt; endl;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="comment">//</span></div>
<div class="line">    <span class="comment">// Release reference to the camera</span></div>
<div class="line">    <span class="comment">//</span></div>
<div class="line">    <span class="comment">// *** NOTES ***</span></div>
<div class="line">    <span class="comment">// Had the CameraPtr object been created within the for-loop, it would not</span></div>
<div class="line">    <span class="comment">// be necessary to manually break the reference because the shared pointer</span></div>
<div class="line">    <span class="comment">// would have automatically cleaned itself up upon exiting the loop.</span></div>
<div class="line">    <span class="comment">//</span></div>
<div class="line">    pCam = <span class="keyword">nullptr</span>;</div>
<div class="line"></div>
<div class="line">    <span class="comment">// Clear camera list before releasing system</span></div>
<div class="line">    camList.<a class="code" href="class_spinnaker_1_1_camera_list.html#aa71d36872f416feaa853788a7a7a7ef8">Clear</a>();</div>
<div class="line"></div>
<div class="line">    <span class="comment">// Release system</span></div>
<div class="line">    system-&gt;ReleaseInstance();</div>
<div class="line"></div>
<div class="line">    cout &lt;&lt; endl &lt;&lt; <span class="stringliteral">&quot;Done! Press Enter to exit...&quot;</span> &lt;&lt; endl;</div>
<div class="line">    getchar();</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">return</span> result;</div>
<div class="line">}</div>
</div><!-- fragment --> </div><!-- contents -->

  <table style="width: 100%;border-spacing: 0px 0px;border-left-style: solid;border-left-width: ;border-left-color: #8c8888;border-right-style: solid;border-right-width: ;border-right-color: #8c8888;border-top-style: solid;border-top-width: ;border-top-color: #8c8888;border-bottom-style: solid;border-bottom-width: ;border-bottom-color: #8c8888;margin-left: 0;margin-right: auto;padding: 0px">
    <col />
    <col />
    <col />
        <tbody>
            <tr>
                <td style="background-color: #8c8888;color: #ffffff;"><a class="footer" href="https://www.flir.com/support-center/rma/iis-support-request">Contact Support </a> </td>
                <td style="background-color: #8c8888;color: #ffffff;text-align: center;font-size: 16px;font-weight: bold">Spinnaker&#174; SDK Programmer's Guide and API Reference</td>
                <td style="background-color: #8c8888;color: #ffffff;text-align: right;"><address class="footer">
Wed Sep 30 2020 &#160; <a class="footer" href="https://www.flir.com/iis/machine-vision">FLIR Integrated Imaging Solutions Inc. All rights reserved.</a></address></td>
            </tr>
        </tbody>
  </table>
</body>
</html>
