<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
  <title>Spinnaker C++: Enumeration.cpp</title>
  <link href="tabs.css" rel="stylesheet" type="text/css"/>
  <script type="text/javascript" src="jquery.js"></script>
  <script type="text/javascript" src="dynsections.js"></script>
  <script type="text/javascript" src="ga.js"></script>
  <link href="stylesheet.css" rel="stylesheet" type="text/css" />
</head>
<body>
  <div id="top"><!-- do not remove this div! -->
  <div id="titlearea">
    <table cellspacing="0" cellpadding="0.9em" width="100%">
      <tbody>
        <tr style="height: 56px;">
          <td id="projectlogo" style="padding-left: 0.9em;text-align: left;background: #ffffff;background: linear-gradient(#002f86, #ffffff);color: #ffffff;" width="30%"><a href="https://www.flir.com/iis/machine-vision"><img alt="Logo" src="FLIR_Logo.png"/></a></td>
          <td style="padding-left: 0.5em;text-align: left;background: #002f86;background: linear-gradient(#002f86, #ffffff);color: #ffffff;" width="30%"><div id="projectname">Spinnaker C++</div></td>
          <td style="padding-right: 0.9em;text-align: right;background: #002f86;background: linear-gradient(#002f86, #ffffff);color: #ffffff;" width="30%"><div id="projectname"><span id="projectnumber">2.0.0.0</span></td>
        </tr>
      </tbody>
    </table>
  </div>
<!-- Generated by Doxygen 1.8.5 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="examples.html"><span>Examples</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">Enumeration.cpp</div>  </div>
</div><!--header-->
<div class="contents">
<p><a class="el" href="_enumeration_8cpp.html">Enumeration.cpp</a> shows how to enumerate interfaces and cameras. Knowing this is mandatory for doing anything with the <a class="el" href="namespace_spinnaker.html">Spinnaker</a> SDK, and is therefore the best place to start learning how to use the SDK.</p>
<p>This example introduces the preparation, use, and cleanup of the system object, interface and camera lists, interfaces, and cameras. It also touches on retrieving both nodes from nodemaps and information from nodes.</p>
<p>Once comfortable with enumeration, we suggest checking out the Acquisition, ExceptionHandling, or NodeMapInfo examples. Acquisition demonstrates using a camera to acquire images, ExceptionHandling explores the use of standard and <a class="el" href="namespace_spinnaker.html">Spinnaker</a> exceptions, and NodeMapInfo demonstrates retrieving information from various node types.</p>
<div class="fragment"><div class="line"><span class="comment">//=============================================================================</span></div>
<div class="line"><span class="comment">// Copyright (c) 2001-2019 FLIR Systems, Inc. All Rights Reserved.</span></div>
<div class="line"><span class="comment">//</span></div>
<div class="line"><span class="comment">// This software is the confidential and proprietary information of FLIR</span></div>
<div class="line"><span class="comment">// Integrated Imaging Solutions, Inc. (&quot;Confidential Information&quot;). You</span></div>
<div class="line"><span class="comment">// shall not disclose such Confidential Information and shall use it only in</span></div>
<div class="line"><span class="comment">// accordance with the terms of the license agreement you entered into</span></div>
<div class="line"><span class="comment">// with FLIR Integrated Imaging Solutions, Inc. (FLIR).</span></div>
<div class="line"><span class="comment">//</span></div>
<div class="line"><span class="comment">// FLIR MAKES NO REPRESENTATIONS OR WARRANTIES ABOUT THE SUITABILITY OF THE</span></div>
<div class="line"><span class="comment">// SOFTWARE, EITHER EXPRESSED OR IMPLIED, INCLUDING, BUT NOT LIMITED TO, THE</span></div>
<div class="line"><span class="comment">// IMPLIED WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR</span></div>
<div class="line"><span class="comment">// PURPOSE, OR NON-INFRINGEMENT. FLIR SHALL NOT BE LIABLE FOR ANY DAMAGES</span></div>
<div class="line"><span class="comment">// SUFFERED BY LICENSEE AS A RESULT OF USING, MODIFYING OR DISTRIBUTING</span></div>
<div class="line"><span class="comment">// THIS SOFTWARE OR ITS DERIVATIVES.</span></div>
<div class="line"><span class="comment">//=============================================================================</span></div>
<div class="line"></div>
<div class="line"><span class="preprocessor">#include &quot;<a class="code" href="_spinnaker_8h.html">Spinnaker.h</a>&quot;</span></div>
<div class="line"><span class="preprocessor">#include &quot;<a class="code" href="_spinnaker_gen_api_8h.html">SpinGenApi/SpinnakerGenApi.h</a>&quot;</span></div>
<div class="line"><span class="preprocessor">#include &lt;iostream&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;sstream&gt;</span></div>
<div class="line"></div>
<div class="line"><span class="keyword">using namespace </span>Spinnaker;</div>
<div class="line"><span class="keyword">using namespace </span>Spinnaker::GenApi;</div>
<div class="line"><span class="keyword">using namespace </span>Spinnaker::GenICam;</div>
<div class="line"><span class="keyword">using namespace </span>std;</div>
<div class="line"></div>
<div class="line"><span class="comment">// This function queries an interface for its cameras and then prints out device</span></div>
<div class="line"><span class="comment">// information.</span></div>
<div class="line"><span class="keywordtype">int</span> <a name="a0"></a><a class="code" href="_enumeration_8cpp.html#ac207d7d20e29c987015fe8206cfd9d2c">QueryInterface</a>(<a name="_a1"></a><a class="code" href="class_spinnaker_1_1_interface_ptr.html">InterfacePtr</a> pInterface)</div>
<div class="line">{</div>
<div class="line">    <span class="keywordtype">int</span> result = 0;</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">try</span></div>
<div class="line">    {</div>
<div class="line">        <span class="comment">//</span></div>
<div class="line">        <span class="comment">// Retrieve TL nodemap from interface</span></div>
<div class="line">        <span class="comment">//</span></div>
<div class="line">        <span class="comment">// *** NOTES ***</span></div>
<div class="line">        <span class="comment">// Each interface has a nodemap that can be retrieved in order to</span></div>
<div class="line">        <span class="comment">// access information about the interface itself, any devices</span></div>
<div class="line">        <span class="comment">// connected, or addressing information if applicable.</span></div>
<div class="line">        <span class="comment">//</span></div>
<div class="line">        <a name="a2"></a><a class="code" href="group___i_node_map__h.html#ga3e4a9df80b7da602af317c71c6541c71">INodeMap</a>&amp; nodeMapInterface = pInterface-&gt;GetTLNodeMap();</div>
<div class="line"></div>
<div class="line">        <span class="comment">//</span></div>
<div class="line">        <span class="comment">// Print interface display name</span></div>
<div class="line">        <span class="comment">//</span></div>
<div class="line">        <span class="comment">// *** NOTES ***</span></div>
<div class="line">        <span class="comment">// Grabbing node information requires first retrieving the node and</span></div>
<div class="line">        <span class="comment">// then retrieving its information. There are two things to keep in</span></div>
<div class="line">        <span class="comment">// mind. First, a node is distinguished by type, which is related</span></div>
<div class="line">        <span class="comment">// to its value&#39;s data type. Second, nodes should be checked for</span></div>
<div class="line">        <span class="comment">// availability and readability/writability prior to making an</span></div>
<div class="line">        <span class="comment">// attempt to read from or write to the node.</span></div>
<div class="line">        <span class="comment">//</span></div>
<div class="line">        <a name="_a3"></a><a class="code" href="class_spinnaker_1_1_gen_api_1_1_c_pointer.html">CStringPtr</a> ptrInterfaceDisplayName = nodeMapInterface.GetNode(<span class="stringliteral">&quot;InterfaceDisplayName&quot;</span>);</div>
<div class="line"></div>
<div class="line">        <span class="keywordflow">if</span> (<a name="a4"></a><a class="code" href="group___i_node__h.html#gaebc2f6f9dea95ce16a4d8f30ccfe0646">IsAvailable</a>(ptrInterfaceDisplayName) &amp;&amp; <a name="a5"></a><a class="code" href="group___i_node__h.html#gacb8a89e72218331cdb53e0a530a6a566">IsReadable</a>(ptrInterfaceDisplayName))</div>
<div class="line">        {</div>
<div class="line">            <a name="_a6"></a><a class="code" href="class_spinnaker_1_1_gen_i_cam_1_1gcstring.html">gcstring</a> interfaceDisplayName = ptrInterfaceDisplayName-&gt;GetValue();</div>
<div class="line"></div>
<div class="line">            cout &lt;&lt; interfaceDisplayName &lt;&lt; endl;</div>
<div class="line">        }</div>
<div class="line">        <span class="keywordflow">else</span></div>
<div class="line">        {</div>
<div class="line">            cout &lt;&lt; <span class="stringliteral">&quot;Interface display name not readable&quot;</span> &lt;&lt; endl;</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        <span class="comment">//</span></div>
<div class="line">        <span class="comment">// Update list of cameras on the interface</span></div>
<div class="line">        <span class="comment">//</span></div>
<div class="line">        <span class="comment">// *** NOTES ***</span></div>
<div class="line">        <span class="comment">// Updating the cameras on each interface is especially important if</span></div>
<div class="line">        <span class="comment">// there has been any device arrivals or removals since the last time</span></div>
<div class="line">        <span class="comment">// that UpdateCameras() was called.</span></div>
<div class="line">        <span class="comment">//</span></div>
<div class="line">        pInterface-&gt;UpdateCameras();</div>
<div class="line"></div>
<div class="line">        <span class="comment">//</span></div>
<div class="line">        <span class="comment">// Retrieve list of cameras from the interface</span></div>
<div class="line">        <span class="comment">//</span></div>
<div class="line">        <span class="comment">// *** NOTES ***</span></div>
<div class="line">        <span class="comment">// Camera lists can be retrieved from an interface or the system object.</span></div>
<div class="line">        <span class="comment">// Camera lists retrieved from an interface, such as this one, only</span></div>
<div class="line">        <span class="comment">// return cameras attached on that specific interface whereas camera</span></div>
<div class="line">        <span class="comment">// lists retrieved from the system will return all cameras on all</span></div>
<div class="line">        <span class="comment">// interfaces.</span></div>
<div class="line">        <span class="comment">//</span></div>
<div class="line">        <span class="comment">// *** LATER ***</span></div>
<div class="line">        <span class="comment">// Camera lists must be cleared manually. This must be done prior to</span></div>
<div class="line">        <span class="comment">// releasing the system and while the camera list is still in scope.</span></div>
<div class="line">        <span class="comment">//</span></div>
<div class="line">        <a name="_a7"></a><a class="code" href="class_spinnaker_1_1_camera_list.html">CameraList</a> camList = pInterface-&gt;GetCameras();</div>
<div class="line"></div>
<div class="line">        <span class="comment">// Retrieve number of cameras</span></div>
<div class="line">        <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> numCameras = camList.<a name="a8"></a><a class="code" href="class_spinnaker_1_1_camera_list.html#a7d1646dc12416daf821f666c233d2be2">GetSize</a>();</div>
<div class="line"></div>
<div class="line">        <span class="comment">// Return if no cameras detected</span></div>
<div class="line">        <span class="keywordflow">if</span> (numCameras == 0)</div>
<div class="line">        {</div>
<div class="line">            cout &lt;&lt; <span class="stringliteral">&quot;\tNo devices detected.&quot;</span> &lt;&lt; endl &lt;&lt; endl;</div>
<div class="line">            <span class="keywordflow">return</span> result;</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        <span class="comment">// Print device vendor and model name for each camera on the interface</span></div>
<div class="line">        <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i = 0; i &lt; numCameras; i++)</div>
<div class="line">        {</div>
<div class="line">            <span class="comment">//</span></div>
<div class="line">            <span class="comment">// Select camera</span></div>
<div class="line">            <span class="comment">//</span></div>
<div class="line">            <span class="comment">// *** NOTES ***</span></div>
<div class="line">            <span class="comment">// Each camera is retrieved from a camera list with an index. If</span></div>
<div class="line">            <span class="comment">// the index is out of range, an exception is thrown.</span></div>
<div class="line">            <span class="comment">//</span></div>
<div class="line">            <a name="_a9"></a><a class="code" href="class_spinnaker_1_1_camera_ptr.html">CameraPtr</a> pCam = camList.<a name="a10"></a><a class="code" href="class_spinnaker_1_1_camera_list.html#aa372308b62098bc12ad25ee02dd11a48">GetByIndex</a>(i);</div>
<div class="line"></div>
<div class="line">            <span class="comment">// Retrieve TL device nodemap; please see NodeMapInfo example for</span></div>
<div class="line">            <span class="comment">// additional comments on transport layer nodemaps</span></div>
<div class="line">            <a class="code" href="group___i_node_map__h.html#ga3e4a9df80b7da602af317c71c6541c71">INodeMap</a>&amp; nodeMapTLDevice = pCam-&gt;GetTLDeviceNodeMap();</div>
<div class="line"></div>
<div class="line">            cout &lt;&lt; <span class="stringliteral">&quot;\tDevice &quot;</span> &lt;&lt; i &lt;&lt; <span class="stringliteral">&quot; &quot;</span>;</div>
<div class="line"></div>
<div class="line">            <span class="comment">// Print device vendor name and device model name</span></div>
<div class="line">            <span class="comment">//</span></div>
<div class="line">            <span class="comment">// *** NOTES ***</span></div>
<div class="line">            <span class="comment">// Grabbing node information requires first retrieving the node and</span></div>
<div class="line">            <span class="comment">// then retrieving its information. There are two things to keep in</span></div>
<div class="line">            <span class="comment">// mind. First, a node is distinguished by type, which is related</span></div>
<div class="line">            <span class="comment">// to its value&#39;s data type. Second, nodes should be checked for</span></div>
<div class="line">            <span class="comment">// availability and readability/writability prior to making an</span></div>
<div class="line">            <span class="comment">// attempt to read from or write to the node.</span></div>
<div class="line">            <span class="comment">//</span></div>
<div class="line">            <a class="code" href="class_spinnaker_1_1_gen_api_1_1_c_pointer.html">CStringPtr</a> ptrDeviceVendorName = nodeMapTLDevice.GetNode(<span class="stringliteral">&quot;DeviceVendorName&quot;</span>);</div>
<div class="line"></div>
<div class="line">            <span class="keywordflow">if</span> (<a class="code" href="group___i_node__h.html#gaebc2f6f9dea95ce16a4d8f30ccfe0646">IsAvailable</a>(ptrDeviceVendorName) &amp;&amp; <a class="code" href="group___i_node__h.html#gacb8a89e72218331cdb53e0a530a6a566">IsReadable</a>(ptrDeviceVendorName))</div>
<div class="line">            {</div>
<div class="line">                <a class="code" href="class_spinnaker_1_1_gen_i_cam_1_1gcstring.html">gcstring</a> deviceVendorName = ptrDeviceVendorName-&gt;ToString();</div>
<div class="line"></div>
<div class="line">                cout &lt;&lt; deviceVendorName &lt;&lt; <span class="stringliteral">&quot; &quot;</span>;</div>
<div class="line">            }</div>
<div class="line"></div>
<div class="line">            <a class="code" href="class_spinnaker_1_1_gen_api_1_1_c_pointer.html">CStringPtr</a> ptrDeviceModelName = nodeMapTLDevice.GetNode(<span class="stringliteral">&quot;DeviceModelName&quot;</span>);</div>
<div class="line"></div>
<div class="line">            <span class="keywordflow">if</span> (<a class="code" href="group___i_node__h.html#gaebc2f6f9dea95ce16a4d8f30ccfe0646">IsAvailable</a>(ptrDeviceModelName) &amp;&amp; <a class="code" href="group___i_node__h.html#gacb8a89e72218331cdb53e0a530a6a566">IsReadable</a>(ptrDeviceModelName))</div>
<div class="line">            {</div>
<div class="line">                <a class="code" href="class_spinnaker_1_1_gen_i_cam_1_1gcstring.html">gcstring</a> deviceModelName = ptrDeviceModelName-&gt;ToString();</div>
<div class="line"></div>
<div class="line">                cout &lt;&lt; deviceModelName &lt;&lt; endl &lt;&lt; endl;</div>
<div class="line">            }</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        <span class="comment">//</span></div>
<div class="line">        <span class="comment">// Clear camera list before losing scope</span></div>
<div class="line">        <span class="comment">//</span></div>
<div class="line">        <span class="comment">// *** NOTES ***</span></div>
<div class="line">        <span class="comment">// Camera lists (and interface lists) must be cleared manually while in</span></div>
<div class="line">        <span class="comment">// the same scope that the system is released. However, in cases like this</span></div>
<div class="line">        <span class="comment">// where scope is lost, camera lists (and interface lists) will be cleared</span></div>
<div class="line">        <span class="comment">// automatically.</span></div>
<div class="line">        <span class="comment">//</span></div>
<div class="line">        camList.<a name="a11"></a><a class="code" href="class_spinnaker_1_1_camera_list.html#aa71d36872f416feaa853788a7a7a7ef8">Clear</a>();</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">catch</span> (<a name="_a12"></a><a class="code" href="class_spinnaker_1_1_exception.html">Spinnaker::Exception</a>&amp; e)</div>
<div class="line">    {</div>
<div class="line">        cout &lt;&lt; <span class="stringliteral">&quot;Error: &quot;</span> &lt;&lt; e.<a name="a13"></a><a class="code" href="class_spinnaker_1_1_exception.html#aff06f49065b54a8a86e02e9a2441a8ba">what</a>() &lt;&lt; endl;</div>
<div class="line">        result = -1;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">return</span> result;</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="comment">// Example entry point</span></div>
<div class="line"><span class="keywordtype">int</span> <a name="a14"></a><a class="code" href="_acquisition_8cpp.html#a2c3f6775325c30275d11c6abee2db6a0">main</a>(<span class="keywordtype">int</span> <span class="comment">/*argc*/</span>, <span class="keywordtype">char</span>** <span class="comment">/*argv*/</span>)</div>
<div class="line">{</div>
<div class="line">    <span class="keywordtype">int</span> result = 0;</div>
<div class="line"></div>
<div class="line">    <span class="comment">// Print application build information</span></div>
<div class="line">    cout &lt;&lt; <span class="stringliteral">&quot;Application build date: &quot;</span> &lt;&lt; __DATE__ &lt;&lt; <span class="stringliteral">&quot; &quot;</span> &lt;&lt; __TIME__ &lt;&lt; endl &lt;&lt; endl;</div>
<div class="line"></div>
<div class="line">    <span class="comment">//</span></div>
<div class="line">    <span class="comment">// Retrieve singleton reference to system object</span></div>
<div class="line">    <span class="comment">//</span></div>
<div class="line">    <span class="comment">// *** NOTES ***</span></div>
<div class="line">    <span class="comment">// Everything originates with the system object. It is important to notice</span></div>
<div class="line">    <span class="comment">// that it has a singleton implementation, so it is impossible to have</span></div>
<div class="line">    <span class="comment">// multiple system objects at the same time. Users can only get a smart</span></div>
<div class="line">    <span class="comment">// pointer (SystemPtr) to the system instance.</span></div>
<div class="line">    <span class="comment">//</span></div>
<div class="line">    <span class="comment">// *** LATER ***</span></div>
<div class="line">    <span class="comment">// The system object should be cleared prior to program completion. If not</span></div>
<div class="line">    <span class="comment">// released explicitly, it will be released automatically when all SystemPtr</span></div>
<div class="line">    <span class="comment">// objects that point to the system go out of scope.</span></div>
<div class="line">    <span class="comment">//</span></div>
<div class="line">    <a name="_a15"></a><a class="code" href="class_spinnaker_1_1_system_ptr.html">SystemPtr</a> system = <a name="a16"></a><a class="code" href="class_spinnaker_1_1_system.html#a45b5dbcde6e9fdfb05e0016af82969d0">System::GetInstance</a>();</div>
<div class="line"></div>
<div class="line">    <span class="comment">// Print out current library version</span></div>
<div class="line">    <span class="keyword">const</span> <a name="_a17"></a><a class="code" href="struct_spinnaker_1_1_library_version.html">LibraryVersion</a> spinnakerLibraryVersion = system-&gt;GetLibraryVersion();</div>
<div class="line">    cout &lt;&lt; <span class="stringliteral">&quot;Spinnaker library version: &quot;</span> &lt;&lt; spinnakerLibraryVersion.<a name="a18"></a><a class="code" href="struct_spinnaker_1_1_library_version.html#a435ca80707c851bea186e73a1be5d3b9">major</a> &lt;&lt; <span class="stringliteral">&quot;.&quot;</span> &lt;&lt; spinnakerLibraryVersion.<a name="a19"></a><a class="code" href="struct_spinnaker_1_1_library_version.html#a41c0e171b65e16617977006e58fbbbc5">minor</a></div>
<div class="line">         &lt;&lt; <span class="stringliteral">&quot;.&quot;</span> &lt;&lt; spinnakerLibraryVersion.<a name="a20"></a><a class="code" href="struct_spinnaker_1_1_library_version.html#a4bfea42429249a1f65204f0c0f34704a">type</a> &lt;&lt; <span class="stringliteral">&quot;.&quot;</span> &lt;&lt; spinnakerLibraryVersion.<a name="a21"></a><a class="code" href="struct_spinnaker_1_1_library_version.html#ad263db2963cb8e231c207328372e17bb">build</a> &lt;&lt; endl</div>
<div class="line">         &lt;&lt; endl;</div>
<div class="line"></div>
<div class="line">    <span class="comment">//</span></div>
<div class="line">    <span class="comment">// Retrieve list of interfaces from the system</span></div>
<div class="line">    <span class="comment">//</span></div>
<div class="line">    <span class="comment">// *** NOTES ***</span></div>
<div class="line">    <span class="comment">// Interface lists are retrieved from the system object.</span></div>
<div class="line">    <span class="comment">//</span></div>
<div class="line">    <span class="comment">// *** LATER ***</span></div>
<div class="line">    <span class="comment">// Interface lists must be cleared manually. This must be done prior to</span></div>
<div class="line">    <span class="comment">// releasing the system and while the interface list is still in scope.</span></div>
<div class="line">    <span class="comment">//</span></div>
<div class="line">    <a name="_a22"></a><a class="code" href="class_spinnaker_1_1_interface_list.html">InterfaceList</a> interfaceList = system-&gt;GetInterfaces();</div>
<div class="line"></div>
<div class="line">    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> numInterfaces = interfaceList.<a name="a23"></a><a class="code" href="class_spinnaker_1_1_interface_list.html#a7d1646dc12416daf821f666c233d2be2">GetSize</a>();</div>
<div class="line"></div>
<div class="line">    cout &lt;&lt; <span class="stringliteral">&quot;Number of interfaces detected: &quot;</span> &lt;&lt; numInterfaces &lt;&lt; endl &lt;&lt; endl;</div>
<div class="line"></div>
<div class="line">    <span class="comment">//</span></div>
<div class="line">    <span class="comment">// Retrieve list of cameras from the system</span></div>
<div class="line">    <span class="comment">//</span></div>
<div class="line">    <span class="comment">// *** NOTES ***</span></div>
<div class="line">    <span class="comment">// Camera lists can be retrieved from an interface or the system object.</span></div>
<div class="line">    <span class="comment">// Camera lists retrieved from the system, such as this one, return all</span></div>
<div class="line">    <span class="comment">// cameras available on the system.</span></div>
<div class="line">    <span class="comment">//</span></div>
<div class="line">    <span class="comment">// *** LATER ***</span></div>
<div class="line">    <span class="comment">// Camera lists must be cleared manually. This must be done prior to</span></div>
<div class="line">    <span class="comment">// releasing the system and while the camera list is still in scope.</span></div>
<div class="line">    <span class="comment">//</span></div>
<div class="line">    <a class="code" href="class_spinnaker_1_1_camera_list.html">CameraList</a> camList = system-&gt;GetCameras();</div>
<div class="line"></div>
<div class="line">    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> numCameras = camList.<a class="code" href="class_spinnaker_1_1_camera_list.html#a7d1646dc12416daf821f666c233d2be2">GetSize</a>();</div>
<div class="line"></div>
<div class="line">    cout &lt;&lt; <span class="stringliteral">&quot;Number of cameras detected: &quot;</span> &lt;&lt; numCameras &lt;&lt; endl &lt;&lt; endl;</div>
<div class="line"></div>
<div class="line">    <span class="comment">// Finish if there are no cameras</span></div>
<div class="line">    <span class="keywordflow">if</span> (numCameras == 0 || numInterfaces == 0)</div>
<div class="line">    {</div>
<div class="line">        <span class="comment">// Clear camera list before releasing system</span></div>
<div class="line">        camList.<a class="code" href="class_spinnaker_1_1_camera_list.html#aa71d36872f416feaa853788a7a7a7ef8">Clear</a>();</div>
<div class="line"></div>
<div class="line">        <span class="comment">// Clear interface list before releasing system</span></div>
<div class="line">        interfaceList.<a name="a24"></a><a class="code" href="class_spinnaker_1_1_interface_list.html#aa71d36872f416feaa853788a7a7a7ef8">Clear</a>();</div>
<div class="line"></div>
<div class="line">        <span class="comment">// Release system</span></div>
<div class="line">        system-&gt;ReleaseInstance();</div>
<div class="line"></div>
<div class="line">        cout &lt;&lt; <span class="stringliteral">&quot;Not enough cameras!&quot;</span> &lt;&lt; endl;</div>
<div class="line">        cout &lt;&lt; <span class="stringliteral">&quot;Done! Press Enter to exit...&quot;</span> &lt;&lt; endl;</div>
<div class="line">        getchar();</div>
<div class="line"></div>
<div class="line">        <span class="keywordflow">return</span> -1;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    cout &lt;&lt; endl &lt;&lt; <span class="stringliteral">&quot;*** QUERYING INTERFACES ***&quot;</span> &lt;&lt; endl &lt;&lt; endl;</div>
<div class="line"></div>
<div class="line">    <span class="comment">//</span></div>
<div class="line">    <span class="comment">// Create shared pointer interface</span></div>
<div class="line">    <span class="comment">//</span></div>
<div class="line">    <span class="comment">// *** NOTES ***</span></div>
<div class="line">    <span class="comment">// The InterfacePtr object is a smart pointer, and will generally clean</span></div>
<div class="line">    <span class="comment">// itself up upon exiting its scope.</span></div>
<div class="line">    <span class="comment">//</span></div>
<div class="line">    <span class="comment">// *** LATER ***</span></div>
<div class="line">    <span class="comment">// However, if a smart interface pointer is created in the same scope that</span></div>
<div class="line">    <span class="comment">// a system object is explicitly released (i.e. this scope), the reference to</span></div>
<div class="line">    <span class="comment">// the interface must be broken by manually setting the pointer to nullptr.</span></div>
<div class="line">    <span class="comment">//</span></div>
<div class="line">    <a class="code" href="class_spinnaker_1_1_interface_ptr.html">InterfacePtr</a> interfacePtr = <span class="keyword">nullptr</span>;</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i = 0; i &lt; numInterfaces; i++)</div>
<div class="line">    {</div>
<div class="line">        <span class="comment">// Select interface</span></div>
<div class="line">        interfacePtr = interfaceList.<a name="a25"></a><a class="code" href="class_spinnaker_1_1_interface_list.html#af9cb1b8a688004e783d03287c1d2a300">GetByIndex</a>(i);</div>
<div class="line"></div>
<div class="line">        <span class="comment">// Query interface</span></div>
<div class="line">        result = result | <a class="code" href="_enumeration_8cpp.html#ac207d7d20e29c987015fe8206cfd9d2c">QueryInterface</a>(interfacePtr);</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="comment">//</span></div>
<div class="line">    <span class="comment">// Release reference to the interface</span></div>
<div class="line">    <span class="comment">//</span></div>
<div class="line">    <span class="comment">// *** NOTES ***</span></div>
<div class="line">    <span class="comment">// Had the InterfacePtr object been created within the for-loop, it would</span></div>
<div class="line">    <span class="comment">// not be necessary to manually break the reference because the smart</span></div>
<div class="line">    <span class="comment">// pointer would have automatically cleaned itself up upon exiting the loop.</span></div>
<div class="line">    <span class="comment">//</span></div>
<div class="line">    interfacePtr = <span class="keyword">nullptr</span>;</div>
<div class="line"></div>
<div class="line">    <span class="comment">//</span></div>
<div class="line">    <span class="comment">// Clear camera list before releasing system</span></div>
<div class="line">    <span class="comment">//</span></div>
<div class="line">    <span class="comment">// *** NOTES ***</span></div>
<div class="line">    <span class="comment">// Camera lists must be cleared manually prior to a system release call.</span></div>
<div class="line">    <span class="comment">//</span></div>
<div class="line">    camList.<a class="code" href="class_spinnaker_1_1_camera_list.html#aa71d36872f416feaa853788a7a7a7ef8">Clear</a>();</div>
<div class="line"></div>
<div class="line">    <span class="comment">//</span></div>
<div class="line">    <span class="comment">// Clear interface list before releasing system</span></div>
<div class="line">    <span class="comment">//</span></div>
<div class="line">    <span class="comment">// *** NOTES ***</span></div>
<div class="line">    <span class="comment">// Interface lists must be cleared manually prior to a system release call.</span></div>
<div class="line">    <span class="comment">//</span></div>
<div class="line">    interfaceList.<a class="code" href="class_spinnaker_1_1_interface_list.html#aa71d36872f416feaa853788a7a7a7ef8">Clear</a>();</div>
<div class="line"></div>
<div class="line">    <span class="comment">//</span></div>
<div class="line">    <span class="comment">// Release system</span></div>
<div class="line">    <span class="comment">//</span></div>
<div class="line">    <span class="comment">// *** NOTES ***</span></div>
<div class="line">    <span class="comment">// The system should be released, but if it is not, it will do so itself.</span></div>
<div class="line">    <span class="comment">// It is often at the release of the system (whether manual or automatic)</span></div>
<div class="line">    <span class="comment">// that unreleased resources and still registered events will throw an</span></div>
<div class="line">    <span class="comment">// exception.</span></div>
<div class="line">    <span class="comment">//</span></div>
<div class="line">    system-&gt;ReleaseInstance();</div>
<div class="line"></div>
<div class="line">    cout &lt;&lt; endl &lt;&lt; <span class="stringliteral">&quot;Done! Press Enter to exit...&quot;</span> &lt;&lt; endl;</div>
<div class="line">    getchar();</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">return</span> result;</div>
<div class="line">}</div>
</div><!-- fragment --> </div><!-- contents -->

  <table style="width: 100%;border-spacing: 0px 0px;border-left-style: solid;border-left-width: ;border-left-color: #8c8888;border-right-style: solid;border-right-width: ;border-right-color: #8c8888;border-top-style: solid;border-top-width: ;border-top-color: #8c8888;border-bottom-style: solid;border-bottom-width: ;border-bottom-color: #8c8888;margin-left: 0;margin-right: auto;padding: 0px">
    <col />
    <col />
    <col />
        <tbody>
            <tr>
                <td style="background-color: #8c8888;color: #ffffff;"><a class="footer" href="https://www.flir.com/support-center/rma/iis-support-request">Contact Support </a> </td>
                <td style="background-color: #8c8888;color: #ffffff;text-align: center;font-size: 16px;font-weight: bold">Spinnaker&#174; SDK Programmer's Guide and API Reference</td>
                <td style="background-color: #8c8888;color: #ffffff;text-align: right;"><address class="footer">
Wed Sep 30 2020 &#160;© <a class="footer" href="https://www.flir.com/iis/machine-vision">FLIR Integrated Imaging Solutions Inc. All rights reserved.</a></address></td>
            </tr>
        </tbody>
  </table>
</body>
</html>
