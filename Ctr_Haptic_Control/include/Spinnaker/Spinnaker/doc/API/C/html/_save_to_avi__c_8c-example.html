<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
  <title>Spinnaker C: SaveToAvi_C.c</title>
  <link href="tabs.css" rel="stylesheet" type="text/css"/>
  <script type="text/javascript" src="jquery.js"></script>
  <script type="text/javascript" src="dynsections.js"></script>
  <script type="text/javascript" src="ga.js"></script>
  <link href="stylesheet.css" rel="stylesheet" type="text/css" />
</head>
<body>
  <div id="top"><!-- do not remove this div! -->
  <div id="titlearea">
    <table cellspacing="0" cellpadding="0.9em" width="100%">
      <tbody>
        <tr style="height: 56px;">
          <td id="projectlogo" style="padding-left: 0.9em;text-align: left;background: #ffffff;background: linear-gradient(#002f86, #ffffff);color: #ffffff;" width="30%"><a href="https://www.flir.com/iis/machine-vision"><img alt="Logo" src="FLIR_Logo.png"/></a></td>
          <td style="padding-left: 0.5em;text-align: left;background: #002f86;background: linear-gradient(#002f86, #ffffff);color: #ffffff;" width="30%"><div id="projectname">Spinnaker C</div></td>
          <td style="padding-right: 0.9em;text-align: right;background: #002f86;background: linear-gradient(#002f86, #ffffff);color: #ffffff;" width="30%"><div id="projectname"><span id="projectnumber">2.0.0.0</span></td>
        </tr>
      </tbody>
    </table>
  </div>
<!-- Generated by Doxygen 1.8.5 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="examples.html"><span>Examples</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">SaveToAvi_C.c</div>  </div>
</div><!--header-->
<div class="contents">
<p><a class="el" href="_save_to_avi___c_8c.html">SaveToAvi_C.c</a> shows how to create an video from a vector of images.It relies on information provided in the Enumeration_C , Acquisition_C, and NodeMapInfo_C examples.</p>
<p>This example introduces the SpinVideo class, which is used to quickly and easily create various types of video files. It demonstrates the creation of three types: uncompressed, MJPG, and H264.</p>
<p>*** NOTE *** When using Visual Studio 2010, our solution will use the /TP flag to compile this example as C++ code instead of C code. This is because our C examples adhere to post-C89 standard which is not supported in Visual Studio 2010. You can still use our 2010 libraries to write your own C application as long as it follows the Visual Studio 2010 C compiler standard.</p>
<div class="fragment"><div class="line"><span class="comment">//=============================================================================</span></div>
<div class="line"><span class="comment">// Copyright (c) 2001-2019 FLIR Systems, Inc. All Rights Reserved.</span></div>
<div class="line"><span class="comment">//</span></div>
<div class="line"><span class="comment">// This software is the confidential and proprietary information of FLIR</span></div>
<div class="line"><span class="comment">// Integrated Imaging Solutions, Inc. (&quot;Confidential Information&quot;). You</span></div>
<div class="line"><span class="comment">// shall not disclose such Confidential Information and shall use it only in</span></div>
<div class="line"><span class="comment">// accordance with the terms of the license agreement you entered into</span></div>
<div class="line"><span class="comment">// with FLIR Integrated Imaging Solutions, Inc. (FLIR).</span></div>
<div class="line"><span class="comment">//</span></div>
<div class="line"><span class="comment">// FLIR MAKES NO REPRESENTATIONS OR WARRANTIES ABOUT THE SUITABILITY OF THE</span></div>
<div class="line"><span class="comment">// SOFTWARE, EITHER EXPRESSED OR IMPLIED, INCLUDING, BUT NOT LIMITED TO, THE</span></div>
<div class="line"><span class="comment">// IMPLIED WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR</span></div>
<div class="line"><span class="comment">// PURPOSE, OR NON-INFRINGEMENT. FLIR SHALL NOT BE LIABLE FOR ANY DAMAGES</span></div>
<div class="line"><span class="comment">// SUFFERED BY LICENSEE AS A RESULT OF USING, MODIFYING OR DISTRIBUTING</span></div>
<div class="line"><span class="comment">// THIS SOFTWARE OR ITS DERIVATIVES.</span></div>
<div class="line"><span class="comment">//=============================================================================</span></div>
<div class="line"></div>
<div class="line"><span class="preprocessor">#include &quot;<a class="code" href="_spinnaker_c_8h.html">SpinnakerC.h</a>&quot;</span></div>
<div class="line"><span class="preprocessor">#include &quot;<a class="code" href="_spin_video_c_8h.html">SpinVideoC.h</a>&quot;</span></div>
<div class="line"><span class="preprocessor">#include &quot;stdio.h&quot;</span></div>
<div class="line"><span class="preprocessor">#include &quot;string.h&quot;</span></div>
<div class="line"></div>
<div class="line"><span class="comment">// This function helps to check if a node is available and readable</span></div>
<div class="line"><a class="code" href="group___spinnaker_defs_c.html#ga8c9639362749e58644859f5161671f57">bool8_t</a> <a name="a0"></a><a class="code" href="_acquisition___c_8c.html#ae81919503c55ec925fabac0b4d9bd34b">IsAvailableAndReadable</a>(<a class="code" href="group___spinnaker_gen_api_handles_c.html#ga0eaf058976140d1ea6e09bef696b484b">spinNodeHandle</a> hNode, <span class="keywordtype">char</span> nodeName[])</div>
<div class="line">{</div>
<div class="line">    <a class="code" href="group___spinnaker_defs_c.html#ga8c9639362749e58644859f5161671f57">bool8_t</a> pbAvailable = <a name="a1"></a><a class="code" href="group___spinnaker_defs_c.html#gae8001ec5567fd7b5f7a2c3b0858dda3d">False</a>;</div>
<div class="line">    <a class="code" href="group___spinnaker_enums_c.html#ga7a654d05a5874764fbe51f90f2913601">spinError</a> err = <a name="a2"></a><a class="code" href="group___spinnaker_enums_c.html#gga7a654d05a5874764fbe51f90f2913601ac9354a00188c96e865dd75134aaf12e2">SPINNAKER_ERR_SUCCESS</a>;</div>
<div class="line">    err = <a name="a3"></a><a class="code" href="group___c_node_access.html#gabb097e83de60923f0abf075709340164">spinNodeIsAvailable</a>(hNode, &amp;pbAvailable);</div>
<div class="line">    <span class="keywordflow">if</span> (err != <a class="code" href="group___spinnaker_enums_c.html#gga7a654d05a5874764fbe51f90f2913601ac9354a00188c96e865dd75134aaf12e2">SPINNAKER_ERR_SUCCESS</a>)</div>
<div class="line">    {</div>
<div class="line">        printf(<span class="stringliteral">&quot;Unable to retrieve node availability (%s node), with error %d...\n\n&quot;</span>, nodeName, err);</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <a class="code" href="group___spinnaker_defs_c.html#ga8c9639362749e58644859f5161671f57">bool8_t</a> pbReadable = <a class="code" href="group___spinnaker_defs_c.html#gae8001ec5567fd7b5f7a2c3b0858dda3d">False</a>;</div>
<div class="line">    err = <a name="a4"></a><a class="code" href="group___c_node_access.html#gac71676dc3d0918874dab9a401eaa7de2">spinNodeIsReadable</a>(hNode, &amp;pbReadable);</div>
<div class="line">    <span class="keywordflow">if</span> (err != <a class="code" href="group___spinnaker_enums_c.html#gga7a654d05a5874764fbe51f90f2913601ac9354a00188c96e865dd75134aaf12e2">SPINNAKER_ERR_SUCCESS</a>)</div>
<div class="line">    {</div>
<div class="line">        printf(<span class="stringliteral">&quot;Unable to retrieve node readability (%s node), with error %d...\n\n&quot;</span>, nodeName, err);</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">return</span> pbReadable &amp;&amp; pbAvailable;</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="comment">// This function helps to check if a node is available and writable</span></div>
<div class="line"><a class="code" href="group___spinnaker_defs_c.html#ga8c9639362749e58644859f5161671f57">bool8_t</a> <a name="a5"></a><a class="code" href="_acquisition___c_8c.html#a6b63c4b147e3a9b83e88b6c0ebdaea55">IsAvailableAndWritable</a>(<a class="code" href="group___spinnaker_gen_api_handles_c.html#ga0eaf058976140d1ea6e09bef696b484b">spinNodeHandle</a> hNode, <span class="keywordtype">char</span> nodeName[])</div>
<div class="line">{</div>
<div class="line">    <a class="code" href="group___spinnaker_defs_c.html#ga8c9639362749e58644859f5161671f57">bool8_t</a> pbAvailable = <a class="code" href="group___spinnaker_defs_c.html#gae8001ec5567fd7b5f7a2c3b0858dda3d">False</a>;</div>
<div class="line">    <a class="code" href="group___spinnaker_enums_c.html#ga7a654d05a5874764fbe51f90f2913601">spinError</a> err = <a class="code" href="group___spinnaker_enums_c.html#gga7a654d05a5874764fbe51f90f2913601ac9354a00188c96e865dd75134aaf12e2">SPINNAKER_ERR_SUCCESS</a>;</div>
<div class="line">    err = <a class="code" href="group___c_node_access.html#gabb097e83de60923f0abf075709340164">spinNodeIsAvailable</a>(hNode, &amp;pbAvailable);</div>
<div class="line">    <span class="keywordflow">if</span> (err != <a class="code" href="group___spinnaker_enums_c.html#gga7a654d05a5874764fbe51f90f2913601ac9354a00188c96e865dd75134aaf12e2">SPINNAKER_ERR_SUCCESS</a>)</div>
<div class="line">    {</div>
<div class="line">        printf(<span class="stringliteral">&quot;Unable to retrieve node availability (%s node), with error %d...\n\n&quot;</span>, nodeName, err);</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <a class="code" href="group___spinnaker_defs_c.html#ga8c9639362749e58644859f5161671f57">bool8_t</a> pbWritable = <a class="code" href="group___spinnaker_defs_c.html#gae8001ec5567fd7b5f7a2c3b0858dda3d">False</a>;</div>
<div class="line">    err = <a name="a6"></a><a class="code" href="group___c_node_access.html#gab78480c1bdadb8de0e51a7b517f31518">spinNodeIsWritable</a>(hNode, &amp;pbWritable);</div>
<div class="line">    <span class="keywordflow">if</span> (err != <a class="code" href="group___spinnaker_enums_c.html#gga7a654d05a5874764fbe51f90f2913601ac9354a00188c96e865dd75134aaf12e2">SPINNAKER_ERR_SUCCESS</a>)</div>
<div class="line">    {</div>
<div class="line">        printf(<span class="stringliteral">&quot;Unable to retrieve node writability (%s node), with error %d...\n\n&quot;</span>, nodeName, err);</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">return</span> pbWritable &amp;&amp; pbAvailable;</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="comment">// These macros helps with C-strings and number of frames in a video.</span></div>
<div class="line"><span class="preprocessor">#define MAX_BUFF_LEN 256</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">#define NUM_IMAGES   10</span></div>
<div class="line"><span class="preprocessor"></span></div>
<div class="line"><span class="comment">// Use the following enum and global constant to select the type of video</span></div>
<div class="line"><span class="comment">// file to be created and saved.</span></div>
<div class="line"><span class="keyword">typedef</span> <span class="keyword">enum</span> _fileType</div>
<div class="line">{</div>
<div class="line">    <a name="a7"></a><a class="code" href="_save_to_avi___c_8c.html#ab7a20842fb4918fc04269c5107ee3a17a268875f90c27aa5b5b3b0b89798f35e8">UNCOMPRESSED</a>,</div>
<div class="line">    <a name="a8"></a><a class="code" href="_save_to_avi___c_8c.html#ab7a20842fb4918fc04269c5107ee3a17aa40bf3124ac9b493bd9ff7115bd19e8b">MJPG</a>,</div>
<div class="line">    <a name="a9"></a><a class="code" href="_save_to_avi___c_8c.html#ab7a20842fb4918fc04269c5107ee3a17ac3f3371ea9f44c4076fec8f0d8f818cf">H264</a></div>
<div class="line">} <a name="a10"></a><a class="code" href="_save_to_avi___c_8c.html#ab7a20842fb4918fc04269c5107ee3a17">fileType</a>;</div>
<div class="line"></div>
<div class="line"><span class="keyword">const</span> <a class="code" href="_save_to_avi___c_8c.html#ab7a20842fb4918fc04269c5107ee3a17">fileType</a> <a name="a11"></a><a class="code" href="_save_to_avi___c_8c.html#a57fa8386a23fa60ef7390cb3298204ab">chosenFileType</a> = <a class="code" href="_save_to_avi___c_8c.html#ab7a20842fb4918fc04269c5107ee3a17a268875f90c27aa5b5b3b0b89798f35e8">UNCOMPRESSED</a>;</div>
<div class="line"></div>
<div class="line"><span class="comment">// This function prepares, saves, and cleans up an video from a vector of images.</span></div>
<div class="line"><a class="code" href="group___spinnaker_enums_c.html#ga7a654d05a5874764fbe51f90f2913601">spinError</a> <a name="a12"></a><a class="code" href="_save_to_avi___c_8c.html#ab156a145c8dd23c3b0f423ae7469b3ba">SaveArrayToVideo</a>(<a class="code" href="group___spinnaker_gen_api_handles_c.html#ga8d381431c084d06bfdd2a9cf8576ee36">spinNodeMapHandle</a> hNodeMap, <a class="code" href="group___spinnaker_gen_api_handles_c.html#ga8d381431c084d06bfdd2a9cf8576ee36">spinNodeMapHandle</a> hNodeMapTLDevice, <a class="code" href="group___spinnaker_handles_c.html#ga1fcc8afa5368295361586143b70f4d19">spinImage</a> hImages[])</div>
<div class="line">{</div>
<div class="line">    <a class="code" href="group___spinnaker_enums_c.html#ga7a654d05a5874764fbe51f90f2913601">spinError</a> err = <a class="code" href="group___spinnaker_enums_c.html#gga7a654d05a5874764fbe51f90f2913601ac9354a00188c96e865dd75134aaf12e2">SPINNAKER_ERR_SUCCESS</a>;</div>
<div class="line"></div>
<div class="line">    printf(<span class="stringliteral">&quot;\n\n*** CREATING VIDEO ***\n\n&quot;</span>);</div>
<div class="line"></div>
<div class="line">    <span class="comment">//</span></div>
<div class="line">    <span class="comment">// Get the current frame rate; acquisition frame rate recorded in hertz</span></div>
<div class="line">    <span class="comment">//</span></div>
<div class="line">    <span class="comment">// *** NOTES ***</span></div>
<div class="line">    <span class="comment">// The video frame rate can be set to anything; however, in order to</span></div>
<div class="line">    <span class="comment">// have videos play in real-time, the acquisition frame rate can be</span></div>
<div class="line">    <span class="comment">// retrieved from the camera.</span></div>
<div class="line">    <span class="comment">//</span></div>
<div class="line">    <a class="code" href="group___spinnaker_gen_api_handles_c.html#ga0eaf058976140d1ea6e09bef696b484b">spinNodeHandle</a> hAcquisitionFrameRate = NULL;</div>
<div class="line">    <span class="keywordtype">double</span> acquisitionFrameRate = 0.0;</div>
<div class="line">    <span class="keywordtype">float</span> frameRateToSet = 0.0;</div>
<div class="line"></div>
<div class="line">    err = <a name="a13"></a><a class="code" href="group___c_node_map_access.html#ga585769e31b69c98e9f687d2420d3b8a8">spinNodeMapGetNode</a>(hNodeMap, <span class="stringliteral">&quot;AcquisitionFrameRate&quot;</span>, &amp;hAcquisitionFrameRate);</div>
<div class="line">    <span class="keywordflow">if</span> (err != <a class="code" href="group___spinnaker_enums_c.html#gga7a654d05a5874764fbe51f90f2913601ac9354a00188c96e865dd75134aaf12e2">SPINNAKER_ERR_SUCCESS</a>)</div>
<div class="line">    {</div>
<div class="line">        printf(<span class="stringliteral">&quot;Unable to retrieve frame rate (node retrieval). Aborting with error %d...\n\n&quot;</span>, err);</div>
<div class="line">        <span class="keywordflow">return</span> err;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">if</span> (<a class="code" href="_acquisition___c_8c.html#ae81919503c55ec925fabac0b4d9bd34b">IsAvailableAndReadable</a>(hAcquisitionFrameRate, <span class="stringliteral">&quot;AcquisitionFrameRate&quot;</span>))</div>
<div class="line">    {</div>
<div class="line">        err = <a name="a14"></a><a class="code" href="group___c_i_float.html#ga920ab6e09f2a4a60a8f08d569b519e26">spinFloatGetValue</a>(hAcquisitionFrameRate, &amp;acquisitionFrameRate);</div>
<div class="line">        <span class="keywordflow">if</span> (err != <a class="code" href="group___spinnaker_enums_c.html#gga7a654d05a5874764fbe51f90f2913601ac9354a00188c96e865dd75134aaf12e2">SPINNAKER_ERR_SUCCESS</a>)</div>
<div class="line">        {</div>
<div class="line">            printf(<span class="stringliteral">&quot;Unable to retrieve frame rate (value retrieval). Aborting with error %d...\n\n&quot;</span>, err);</div>
<div class="line">            <span class="keywordflow">return</span> err;</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">else</span></div>
<div class="line">    {</div>
<div class="line">        err = <a name="a15"></a><a class="code" href="group___spinnaker_enums_c.html#gga7a654d05a5874764fbe51f90f2913601a9effbcb233ec688fee8bbaa4712243e3">SPINNAKER_ERR_ACCESS_DENIED</a>;</div>
<div class="line">        printf(<span class="stringliteral">&quot;Unable to read frame rate. Aborting with error %d...\n\n&quot;</span>, err);</div>
<div class="line">        <span class="keywordflow">return</span> err;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    frameRateToSet = (float)acquisitionFrameRate;</div>
<div class="line"></div>
<div class="line">    printf(<span class="stringliteral">&quot;Frame rate to be set to %f\n&quot;</span>, frameRateToSet);</div>
<div class="line"></div>
<div class="line">    <span class="comment">// Retrieve device serial number for filename</span></div>
<div class="line">    <a class="code" href="group___spinnaker_gen_api_handles_c.html#ga0eaf058976140d1ea6e09bef696b484b">spinNodeHandle</a> hDeviceSerialNumber = NULL;</div>
<div class="line">    <span class="keywordtype">char</span> deviceSerialNumber[<a name="a16"></a><a class="code" href="_acquisition___c_8c.html#ad2c95c6a210a15a8404a202d2d0c2ab0">MAX_BUFF_LEN</a>];</div>
<div class="line">    <span class="keywordtype">size_t</span> lenDeviceSerialNumber = <a class="code" href="_acquisition___c_8c.html#ad2c95c6a210a15a8404a202d2d0c2ab0">MAX_BUFF_LEN</a>;</div>
<div class="line"></div>
<div class="line">    err = <a class="code" href="group___c_node_map_access.html#ga585769e31b69c98e9f687d2420d3b8a8">spinNodeMapGetNode</a>(hNodeMapTLDevice, <span class="stringliteral">&quot;DeviceSerialNumber&quot;</span>, &amp;hDeviceSerialNumber);</div>
<div class="line">    <span class="keywordflow">if</span> (err != <a class="code" href="group___spinnaker_enums_c.html#gga7a654d05a5874764fbe51f90f2913601ac9354a00188c96e865dd75134aaf12e2">SPINNAKER_ERR_SUCCESS</a>)</div>
<div class="line">    {</div>
<div class="line">        strcpy(deviceSerialNumber, <span class="stringliteral">&quot;&quot;</span>);</div>
<div class="line">        lenDeviceSerialNumber = 0;</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">else</span></div>
<div class="line">    {</div>
<div class="line">        <span class="keywordflow">if</span> (<a class="code" href="_acquisition___c_8c.html#ae81919503c55ec925fabac0b4d9bd34b">IsAvailableAndReadable</a>(hDeviceSerialNumber, <span class="stringliteral">&quot;DeviceSerialNumber&quot;</span>))</div>
<div class="line">        {</div>
<div class="line">            err = <a name="a17"></a><a class="code" href="group___string_access.html#ga76aa66ed762ccf0a803ca642876b3a65">spinStringGetValue</a>(hDeviceSerialNumber, deviceSerialNumber, &amp;lenDeviceSerialNumber);</div>
<div class="line">            <span class="keywordflow">if</span> (err != <a class="code" href="group___spinnaker_enums_c.html#gga7a654d05a5874764fbe51f90f2913601ac9354a00188c96e865dd75134aaf12e2">SPINNAKER_ERR_SUCCESS</a>)</div>
<div class="line">            {</div>
<div class="line">                printf(<span class="stringliteral">&quot;Unable to get device serial number. Non-fatal error %d...\n\n&quot;</span>, err);</div>
<div class="line">                strcpy(deviceSerialNumber, <span class="stringliteral">&quot;&quot;</span>);</div>
<div class="line">                lenDeviceSerialNumber = 0;</div>
<div class="line">            }</div>
<div class="line">        }</div>
<div class="line">        <span class="keywordflow">else</span></div>
<div class="line">        {</div>
<div class="line">            err = <a class="code" href="group___spinnaker_enums_c.html#gga7a654d05a5874764fbe51f90f2913601a9effbcb233ec688fee8bbaa4712243e3">SPINNAKER_ERR_ACCESS_DENIED</a>;</div>
<div class="line">            printf(<span class="stringliteral">&quot;Unable to get device serial number. Aborting with error %d...\n\n&quot;</span>, err);</div>
<div class="line">            strcpy(deviceSerialNumber, <span class="stringliteral">&quot;&quot;</span>);</div>
<div class="line">            lenDeviceSerialNumber = 0;</div>
<div class="line">            <span class="keywordflow">return</span> err;</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        printf(<span class="stringliteral">&quot;Device serial number retrieved as %s...\n&quot;</span>, deviceSerialNumber);</div>
<div class="line">    }</div>
<div class="line">    printf(<span class="stringliteral">&quot;\n&quot;</span>);</div>
<div class="line"></div>
<div class="line">    <span class="comment">//</span></div>
<div class="line">    <span class="comment">// Create a unique filename</span></div>
<div class="line">    <span class="comment">//</span></div>
<div class="line">    <span class="comment">// *** NOTES ***</span></div>
<div class="line">    <span class="comment">// This example creates filenames according to the type of video</span></div>
<div class="line">    <span class="comment">// being created. Notice that &#39;.avi&#39; does not need to be appended to the</span></div>
<div class="line">    <span class="comment">// name of the file. This is because the SpinVideo object takes care</span></div>
<div class="line">    <span class="comment">// of the file extension automatically.</span></div>
<div class="line">    <span class="comment">//</span></div>
<div class="line">    <span class="keywordtype">char</span> filename[<a class="code" href="_acquisition___c_8c.html#ad2c95c6a210a15a8404a202d2d0c2ab0">MAX_BUFF_LEN</a>];</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">if</span> (chosenFileType == <a class="code" href="_save_to_avi___c_8c.html#ab7a20842fb4918fc04269c5107ee3a17a268875f90c27aa5b5b3b0b89798f35e8">UNCOMPRESSED</a>)</div>
<div class="line">    {</div>
<div class="line">        <span class="keywordflow">if</span> (lenDeviceSerialNumber == 0)</div>
<div class="line">        {</div>
<div class="line">            sprintf(filename, <span class="stringliteral">&quot;SaveToAvi-C-Uncompressed&quot;</span>);</div>
<div class="line">        }</div>
<div class="line">        <span class="keywordflow">else</span></div>
<div class="line">        {</div>
<div class="line">            sprintf(filename, <span class="stringliteral">&quot;SaveToAvi-C-%s-Uncompressed&quot;</span>, deviceSerialNumber);</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (chosenFileType == <a class="code" href="_save_to_avi___c_8c.html#ab7a20842fb4918fc04269c5107ee3a17aa40bf3124ac9b493bd9ff7115bd19e8b">MJPG</a>)</div>
<div class="line">    {</div>
<div class="line">        <span class="keywordflow">if</span> (lenDeviceSerialNumber == 0)</div>
<div class="line">        {</div>
<div class="line">            sprintf(filename, <span class="stringliteral">&quot;SaveToAvi-C-MJPG&quot;</span>);</div>
<div class="line">        }</div>
<div class="line">        <span class="keywordflow">else</span></div>
<div class="line">        {</div>
<div class="line">            sprintf(filename, <span class="stringliteral">&quot;SaveToAvi-C-%s-MJPG&quot;</span>, deviceSerialNumber);</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (chosenFileType == <a class="code" href="_save_to_avi___c_8c.html#ab7a20842fb4918fc04269c5107ee3a17ac3f3371ea9f44c4076fec8f0d8f818cf">H264</a>)</div>
<div class="line">    {</div>
<div class="line">        <span class="keywordflow">if</span> (lenDeviceSerialNumber == 0)</div>
<div class="line">        {</div>
<div class="line">            sprintf(filename, <span class="stringliteral">&quot;SaveToAvi-C-H264&quot;</span>);</div>
<div class="line">        }</div>
<div class="line">        <span class="keywordflow">else</span></div>
<div class="line">        {</div>
<div class="line">            sprintf(filename, <span class="stringliteral">&quot;SaveToAvi-C-%s-H264&quot;</span>, deviceSerialNumber);</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="comment">//</span></div>
<div class="line">    <span class="comment">// Select option and open video file type</span></div>
<div class="line">    <span class="comment">//</span></div>
<div class="line">    <span class="comment">// *** NOTES ***</span></div>
<div class="line">    <span class="comment">// Depending on the file type, a number of settings need to be set in</span></div>
<div class="line">    <span class="comment">// an object called an option. An uncompressed option only needs to</span></div>
<div class="line">    <span class="comment">// have the video frame rate set whereas videos with MJPG or H264</span></div>
<div class="line">    <span class="comment">// compressions need to have more values set.</span></div>
<div class="line">    <span class="comment">//</span></div>
<div class="line">    <span class="comment">// Once the desired option object is configured, open the video file</span></div>
<div class="line">    <span class="comment">// with the option in order to create the video file.</span></div>
<div class="line">    <span class="comment">//</span></div>
<div class="line">    <span class="comment">// *** LATER ***</span></div>
<div class="line">    <span class="comment">// Once all images have been added, it is important to close the file -</span></div>
<div class="line">    <span class="comment">// this is similar to many other standard file streams.</span></div>
<div class="line">    <span class="comment">//</span></div>
<div class="line">    <a class="code" href="group___spinnaker_handles_c.html#gacf03ef96a4d1af1ebdad3a91b01f788d">spinVideo</a> video = NULL;</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">if</span> (chosenFileType == <a class="code" href="_save_to_avi___c_8c.html#ab7a20842fb4918fc04269c5107ee3a17a268875f90c27aa5b5b3b0b89798f35e8">UNCOMPRESSED</a>)</div>
<div class="line">    {</div>
<div class="line">        <a name="_a18"></a><a class="code" href="structspin_a_v_i_option.html">spinAVIOption</a> option;</div>
<div class="line"></div>
<div class="line">        option.<a name="a19"></a><a class="code" href="structspin_a_v_i_option.html#a398ccb086e2e7150576bec8a5853b8e3">frameRate</a> = frameRateToSet;</div>
<div class="line"></div>
<div class="line">        err = <a name="a20"></a><a class="code" href="group___c_spin_video.html#ga160c8daa8906b45543f975b22065a12a">spinVideoOpenUncompressed</a>(&amp;video, filename, option);</div>
<div class="line">        <span class="keywordflow">if</span> (err != <a class="code" href="group___spinnaker_enums_c.html#gga7a654d05a5874764fbe51f90f2913601ac9354a00188c96e865dd75134aaf12e2">SPINNAKER_ERR_SUCCESS</a>)</div>
<div class="line">        {</div>
<div class="line">            printf(<span class="stringliteral">&quot;Unable to open uncompressed video file. Aborting with error %d...\n\n&quot;</span>, err);</div>
<div class="line">            <span class="keywordflow">return</span> err;</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (chosenFileType == <a class="code" href="_save_to_avi___c_8c.html#ab7a20842fb4918fc04269c5107ee3a17aa40bf3124ac9b493bd9ff7115bd19e8b">MJPG</a>)</div>
<div class="line">    {</div>
<div class="line">        <a name="_a21"></a><a class="code" href="structspin_m_j_p_g_option.html">spinMJPGOption</a> option;</div>
<div class="line"></div>
<div class="line">        option.<a name="a22"></a><a class="code" href="structspin_m_j_p_g_option.html#a398ccb086e2e7150576bec8a5853b8e3">frameRate</a> = frameRateToSet;</div>
<div class="line">        option.<a name="a23"></a><a class="code" href="structspin_m_j_p_g_option.html#a6b9888afa18cb95420dd38f456a2f926">quality</a> = 75;</div>
<div class="line"></div>
<div class="line">        err = <a name="a24"></a><a class="code" href="group___c_spin_video.html#gaf36d7ad74d0f187eff6182849116f130">spinVideoOpenMJPG</a>(&amp;video, filename, option);</div>
<div class="line">        <span class="keywordflow">if</span> (err != <a class="code" href="group___spinnaker_enums_c.html#gga7a654d05a5874764fbe51f90f2913601ac9354a00188c96e865dd75134aaf12e2">SPINNAKER_ERR_SUCCESS</a>)</div>
<div class="line">        {</div>
<div class="line">            printf(<span class="stringliteral">&quot;Unable to open MJPG video file. Aborting with error %d...\n\n&quot;</span>, err);</div>
<div class="line">            <span class="keywordflow">return</span> err;</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (chosenFileType == <a class="code" href="_save_to_avi___c_8c.html#ab7a20842fb4918fc04269c5107ee3a17ac3f3371ea9f44c4076fec8f0d8f818cf">H264</a>)</div>
<div class="line">    {</div>
<div class="line">        <a name="_a25"></a><a class="code" href="structspin_h264_option.html">spinH264Option</a> option;</div>
<div class="line"></div>
<div class="line">        option.<a name="a26"></a><a class="code" href="structspin_h264_option.html#a398ccb086e2e7150576bec8a5853b8e3">frameRate</a> = frameRateToSet;</div>
<div class="line">        option.<a name="a27"></a><a class="code" href="structspin_h264_option.html#a873ba9440e3e9786eb1476a3bfa536d0">bitrate</a> = 1000000;</div>
<div class="line"></div>
<div class="line">        <a class="code" href="group___spinnaker_gen_api_handles_c.html#ga0eaf058976140d1ea6e09bef696b484b">spinNodeHandle</a> hWidth = NULL;</div>
<div class="line">        int64_t width = 0;</div>
<div class="line"></div>
<div class="line">        err = <a class="code" href="group___c_node_map_access.html#ga585769e31b69c98e9f687d2420d3b8a8">spinNodeMapGetNode</a>(hNodeMap, <span class="stringliteral">&quot;Width&quot;</span>, &amp;hWidth);</div>
<div class="line">        <span class="keywordflow">if</span> (err != <a class="code" href="group___spinnaker_enums_c.html#gga7a654d05a5874764fbe51f90f2913601ac9354a00188c96e865dd75134aaf12e2">SPINNAKER_ERR_SUCCESS</a>)</div>
<div class="line">        {</div>
<div class="line">            printf(<span class="stringliteral">&quot;Unable to retrieve width (node retrieval). Aborting with error %d...\n\n&quot;</span>, err);</div>
<div class="line">            <span class="keywordflow">return</span> err;</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        <span class="keywordflow">if</span> (<a class="code" href="_acquisition___c_8c.html#ae81919503c55ec925fabac0b4d9bd34b">IsAvailableAndReadable</a>(hWidth, <span class="stringliteral">&quot;Width&quot;</span>))</div>
<div class="line">        {</div>
<div class="line">            err = <a name="a28"></a><a class="code" href="group___c_i_integer_access.html#ga4c5a6f65212e927cb5a5d422d7259fff">spinIntegerGetValue</a>(hWidth, &amp;width);</div>
<div class="line">            <span class="keywordflow">if</span> (err != <a class="code" href="group___spinnaker_enums_c.html#gga7a654d05a5874764fbe51f90f2913601ac9354a00188c96e865dd75134aaf12e2">SPINNAKER_ERR_SUCCESS</a>)</div>
<div class="line">            {</div>
<div class="line">                printf(<span class="stringliteral">&quot;Unable to retrieve width (value retrieval). Aborting with error %d...\n\n&quot;</span>, err);</div>
<div class="line">                <span class="keywordflow">return</span> err;</div>
<div class="line">            }</div>
<div class="line">        }</div>
<div class="line">        <span class="keywordflow">else</span></div>
<div class="line">        {</div>
<div class="line">            err = <a class="code" href="group___spinnaker_enums_c.html#gga7a654d05a5874764fbe51f90f2913601a9effbcb233ec688fee8bbaa4712243e3">SPINNAKER_ERR_ACCESS_DENIED</a>;</div>
<div class="line">            printf(<span class="stringliteral">&quot;Unable to read width. Aborting with error %d...\n\n&quot;</span>, err);</div>
<div class="line">            <span class="keywordflow">return</span> err;</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        option.<a name="a29"></a><a class="code" href="structspin_h264_option.html#aca34d28e3d8bcbcadb8edb4e3af24f8c">width</a> = (<span class="keywordtype">unsigned</span> int)width;</div>
<div class="line"></div>
<div class="line">        <a class="code" href="group___spinnaker_gen_api_handles_c.html#ga0eaf058976140d1ea6e09bef696b484b">spinNodeHandle</a> hHeight = NULL;</div>
<div class="line">        int64_t height = 0;</div>
<div class="line"></div>
<div class="line">        err = <a class="code" href="group___c_node_map_access.html#ga585769e31b69c98e9f687d2420d3b8a8">spinNodeMapGetNode</a>(hNodeMap, <span class="stringliteral">&quot;Height&quot;</span>, &amp;hHeight);</div>
<div class="line">        <span class="keywordflow">if</span> (err != <a class="code" href="group___spinnaker_enums_c.html#gga7a654d05a5874764fbe51f90f2913601ac9354a00188c96e865dd75134aaf12e2">SPINNAKER_ERR_SUCCESS</a>)</div>
<div class="line">        {</div>
<div class="line">            printf(<span class="stringliteral">&quot;Unable to retrieve height (node retrieval). Aborting with error %d...\n\n&quot;</span>, err);</div>
<div class="line">            <span class="keywordflow">return</span> err;</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        <span class="keywordflow">if</span> (<a class="code" href="_acquisition___c_8c.html#ae81919503c55ec925fabac0b4d9bd34b">IsAvailableAndReadable</a>(hHeight, <span class="stringliteral">&quot;Height&quot;</span>))</div>
<div class="line">        {</div>
<div class="line">            err = <a class="code" href="group___c_i_integer_access.html#ga4c5a6f65212e927cb5a5d422d7259fff">spinIntegerGetValue</a>(hHeight, &amp;height);</div>
<div class="line">            <span class="keywordflow">if</span> (err != <a class="code" href="group___spinnaker_enums_c.html#gga7a654d05a5874764fbe51f90f2913601ac9354a00188c96e865dd75134aaf12e2">SPINNAKER_ERR_SUCCESS</a>)</div>
<div class="line">            {</div>
<div class="line">                printf(<span class="stringliteral">&quot;Unable to retrieve height (value retrieval). Aborting with error %d...\n\n&quot;</span>, err);</div>
<div class="line">                <span class="keywordflow">return</span> err;</div>
<div class="line">            }</div>
<div class="line">        }</div>
<div class="line">        <span class="keywordflow">else</span></div>
<div class="line">        {</div>
<div class="line">            err = <a class="code" href="group___spinnaker_enums_c.html#gga7a654d05a5874764fbe51f90f2913601a9effbcb233ec688fee8bbaa4712243e3">SPINNAKER_ERR_ACCESS_DENIED</a>;</div>
<div class="line">            printf(<span class="stringliteral">&quot;Unable to read height. Aborting with error %d...\n\n&quot;</span>, err);</div>
<div class="line">            <span class="keywordflow">return</span> err;</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        option.<a name="a30"></a><a class="code" href="structspin_h264_option.html#ab2e78c61905b4419fcc7b4cfc500fe85">height</a> = (<span class="keywordtype">unsigned</span> int)height;</div>
<div class="line"></div>
<div class="line">        err = <a name="a31"></a><a class="code" href="group___c_spin_video.html#ga486dd46dffb4525dddcd0fac30eb932c">spinVideoOpenH264</a>(&amp;video, filename, option);</div>
<div class="line">        <span class="keywordflow">if</span> (err != <a class="code" href="group___spinnaker_enums_c.html#gga7a654d05a5874764fbe51f90f2913601ac9354a00188c96e865dd75134aaf12e2">SPINNAKER_ERR_SUCCESS</a>)</div>
<div class="line">        {</div>
<div class="line">            printf(<span class="stringliteral">&quot;Unable to open H264 video file. Aborting with error %d...\n\n&quot;</span>, err);</div>
<div class="line">            <span class="keywordflow">return</span> err;</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="comment">// Set maximum video file size to 2GB. A new video file is generated when 2GB</span></div>
<div class="line">    <span class="comment">// limit is reached. Setting maximum file size to 0 indicates no limit.</span></div>
<div class="line">    <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> k_videoFileSize = 2048;</div>
<div class="line"></div>
<div class="line">    err = <a name="a32"></a><a class="code" href="group___c_spin_video.html#gaf5dee36e79bf9ee9e40054996abb75a6">spinVideoSetMaximumFileSize</a>(video, k_videoFileSize);</div>
<div class="line">    <span class="keywordflow">if</span> (err != <a class="code" href="group___spinnaker_enums_c.html#gga7a654d05a5874764fbe51f90f2913601ac9354a00188c96e865dd75134aaf12e2">SPINNAKER_ERR_SUCCESS</a>)</div>
<div class="line">    {</div>
<div class="line">        printf(<span class="stringliteral">&quot;Unable to set maximum file size. Aborting with error %d...\n\n&quot;</span>, err);</div>
<div class="line">        <span class="keywordflow">return</span> err;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="comment">//</span></div>
<div class="line">    <span class="comment">// Construct and save video</span></div>
<div class="line">    <span class="comment">//</span></div>
<div class="line">    <span class="comment">// *** NOTES ***</span></div>
<div class="line">    <span class="comment">// Although the video file has been opened, images must be individually</span></div>
<div class="line">    <span class="comment">// appended in order to construct the video.</span></div>
<div class="line">    <span class="comment">//</span></div>
<div class="line">    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> imageCnt = 0;</div>
<div class="line"></div>
<div class="line">    printf(<span class="stringliteral">&quot;Appending %d images to video file: %s.avi...\n\n&quot;</span>, <a name="a33"></a><a class="code" href="_save_to_avi___c_8c.html#a9cb64526659b4bebea0d36565debb187">NUM_IMAGES</a>, filename);</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">for</span> (imageCnt = 0; imageCnt &lt; <a class="code" href="_save_to_avi___c_8c.html#a9cb64526659b4bebea0d36565debb187">NUM_IMAGES</a>; imageCnt++)</div>
<div class="line">    {</div>
<div class="line">        err = <a name="a34"></a><a class="code" href="group___c_spin_video.html#ga02dd9289f5aaecd9d0ce0f1128069ec7">spinVideoAppend</a>(video, hImages[imageCnt]);</div>
<div class="line">        <span class="keywordflow">if</span> (err != <a class="code" href="group___spinnaker_enums_c.html#gga7a654d05a5874764fbe51f90f2913601ac9354a00188c96e865dd75134aaf12e2">SPINNAKER_ERR_SUCCESS</a>)</div>
<div class="line">        {</div>
<div class="line">            printf(<span class="stringliteral">&quot;Unable to append image. Aborting with error %d...\n\n&quot;</span>, err);</div>
<div class="line">            <span class="keywordflow">return</span> err;</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        printf(<span class="stringliteral">&quot;\tAppended image %d...\n&quot;</span>, imageCnt);</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    printf(<span class="stringliteral">&quot;\nVideo saved at %s.avi\n\n&quot;</span>, filename);</div>
<div class="line"></div>
<div class="line">    <span class="comment">//</span></div>
<div class="line">    <span class="comment">// Close video file</span></div>
<div class="line">    <span class="comment">//</span></div>
<div class="line">    <span class="comment">// *** NOTES ***</span></div>
<div class="line">    <span class="comment">// Once all images have been appended, it is important to close the</span></div>
<div class="line">    <span class="comment">// video file. Notice that once an video file has been closed, no more</span></div>
<div class="line">    <span class="comment">// images can be added.</span></div>
<div class="line">    <span class="comment">//</span></div>
<div class="line">    err = <a name="a35"></a><a class="code" href="group___c_spin_video.html#ga5edb8ff0eaa39be9ce93254b4b233999">spinVideoClose</a>(video);</div>
<div class="line">    <span class="keywordflow">if</span> (err != <a class="code" href="group___spinnaker_enums_c.html#gga7a654d05a5874764fbe51f90f2913601ac9354a00188c96e865dd75134aaf12e2">SPINNAKER_ERR_SUCCESS</a>)</div>
<div class="line">    {</div>
<div class="line">        printf(<span class="stringliteral">&quot;Unable to close video file. Aborting with error %d...\n\n&quot;</span>, err);</div>
<div class="line">        <span class="keywordflow">return</span> err;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="comment">// Destroy images</span></div>
<div class="line">    <span class="keywordflow">for</span> (imageCnt = 0; imageCnt &lt; <a class="code" href="_save_to_avi___c_8c.html#a9cb64526659b4bebea0d36565debb187">NUM_IMAGES</a>; imageCnt++)</div>
<div class="line">    {</div>
<div class="line">        err = <a name="a36"></a><a class="code" href="group___c_image.html#ga77644d5eae788f80880d05578f669e0c">spinImageDestroy</a>(hImages[imageCnt]);</div>
<div class="line">        <span class="keywordflow">if</span> (err != <a class="code" href="group___spinnaker_enums_c.html#gga7a654d05a5874764fbe51f90f2913601ac9354a00188c96e865dd75134aaf12e2">SPINNAKER_ERR_SUCCESS</a>)</div>
<div class="line">        {</div>
<div class="line">            printf(<span class="stringliteral">&quot;Unable to destroy image %d. Non-fatal error %d...\n\n&quot;</span>, imageCnt, err);</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">return</span> err;</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="comment">// This function prints the device information of the camera from the transport</span></div>
<div class="line"><span class="comment">// layer; please see NodeMapInfo_C example for more in-depth comments on</span></div>
<div class="line"><span class="comment">// printing device information from the nodemap.</span></div>
<div class="line"><a class="code" href="group___spinnaker_enums_c.html#ga7a654d05a5874764fbe51f90f2913601">spinError</a> <a name="a37"></a><a class="code" href="_acquisition___c_8c.html#ae2ab184c6a59e1f5d56fc6a8d66cc242">PrintDeviceInfo</a>(<a class="code" href="group___spinnaker_gen_api_handles_c.html#ga8d381431c084d06bfdd2a9cf8576ee36">spinNodeMapHandle</a> hNodeMap)</div>
<div class="line">{</div>
<div class="line">    <a class="code" href="group___spinnaker_enums_c.html#ga7a654d05a5874764fbe51f90f2913601">spinError</a> err = <a class="code" href="group___spinnaker_enums_c.html#gga7a654d05a5874764fbe51f90f2913601ac9354a00188c96e865dd75134aaf12e2">SPINNAKER_ERR_SUCCESS</a>;</div>
<div class="line">    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i = 0;</div>
<div class="line"></div>
<div class="line">    printf(<span class="stringliteral">&quot;\n*** DEVICE INFORMATION ***\n\n&quot;</span>);</div>
<div class="line"></div>
<div class="line">    <span class="comment">// Retrieve device information category node</span></div>
<div class="line">    <a class="code" href="group___spinnaker_gen_api_handles_c.html#ga0eaf058976140d1ea6e09bef696b484b">spinNodeHandle</a> hDeviceInformation = NULL;</div>
<div class="line"></div>
<div class="line">    err = <a class="code" href="group___c_node_map_access.html#ga585769e31b69c98e9f687d2420d3b8a8">spinNodeMapGetNode</a>(hNodeMap, <span class="stringliteral">&quot;DeviceInformation&quot;</span>, &amp;hDeviceInformation);</div>
<div class="line">    <span class="keywordflow">if</span> (err != <a class="code" href="group___spinnaker_enums_c.html#gga7a654d05a5874764fbe51f90f2913601ac9354a00188c96e865dd75134aaf12e2">SPINNAKER_ERR_SUCCESS</a>)</div>
<div class="line">    {</div>
<div class="line">        printf(<span class="stringliteral">&quot;Unable to retrieve node. Non-fatal error %d...\n\n&quot;</span>, err);</div>
<div class="line">        <span class="keywordflow">return</span> err;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="comment">// Retrieve number of nodes within device information node</span></div>
<div class="line">    <span class="keywordtype">size_t</span> numFeatures = 0;</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">if</span> (<a class="code" href="_acquisition___c_8c.html#ae81919503c55ec925fabac0b4d9bd34b">IsAvailableAndReadable</a>(hDeviceInformation, <span class="stringliteral">&quot;DeviceInformation&quot;</span>))</div>
<div class="line">    {</div>
<div class="line">        err = <a name="a38"></a><a class="code" href="group___c_i_category.html#ga624ba875d4077e162fa9457f7089d0ed">spinCategoryGetNumFeatures</a>(hDeviceInformation, &amp;numFeatures);</div>
<div class="line">        <span class="keywordflow">if</span> (err != <a class="code" href="group___spinnaker_enums_c.html#gga7a654d05a5874764fbe51f90f2913601ac9354a00188c96e865dd75134aaf12e2">SPINNAKER_ERR_SUCCESS</a>)</div>
<div class="line">        {</div>
<div class="line">            printf(<span class="stringliteral">&quot;Unable to retrieve number of nodes. Non-fatal error %d...\n\n&quot;</span>, err);</div>
<div class="line">            <span class="keywordflow">return</span> err;</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">else</span></div>
<div class="line">    {</div>
<div class="line">        err = <a class="code" href="group___spinnaker_enums_c.html#gga7a654d05a5874764fbe51f90f2913601a9effbcb233ec688fee8bbaa4712243e3">SPINNAKER_ERR_ACCESS_DENIED</a>;</div>
<div class="line">        printf(<span class="stringliteral">&quot;Unable to read device information. Non-fatal error %d...\n\n&quot;</span>, err);</div>
<div class="line">        <span class="keywordflow">return</span> err;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="comment">// Iterate through nodes and print information</span></div>
<div class="line">    <span class="keywordflow">for</span> (i = 0; i &lt; numFeatures; i++)</div>
<div class="line">    {</div>
<div class="line">        <a class="code" href="group___spinnaker_gen_api_handles_c.html#ga0eaf058976140d1ea6e09bef696b484b">spinNodeHandle</a> hFeatureNode = NULL;</div>
<div class="line"></div>
<div class="line">        err = <a name="a39"></a><a class="code" href="group___c_i_category.html#gab9932f4c565d3207fb7f3154f28182bb">spinCategoryGetFeatureByIndex</a>(hDeviceInformation, i, &amp;hFeatureNode);</div>
<div class="line">        <span class="keywordflow">if</span> (err != <a class="code" href="group___spinnaker_enums_c.html#gga7a654d05a5874764fbe51f90f2913601ac9354a00188c96e865dd75134aaf12e2">SPINNAKER_ERR_SUCCESS</a>)</div>
<div class="line">        {</div>
<div class="line">            printf(<span class="stringliteral">&quot;Unable to retrieve node. Non-fatal error %d...\n\n&quot;</span>, err);</div>
<div class="line">            <span class="keywordflow">continue</span>;</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        <a class="code" href="group___spinnaker_gen_api_enums_c.html#gad6f62f59b4339690774381c8e804fbe7">spinNodeType</a> featureType = <a name="a40"></a><a class="code" href="group___spinnaker_gen_api_enums_c.html#ggad6f62f59b4339690774381c8e804fbe7aac058c8a2f2e6f156162e7002b13b9e7">UnknownNode</a>;</div>
<div class="line"></div>
<div class="line">        <span class="comment">// Get feature node name</span></div>
<div class="line">        <span class="keywordtype">char</span> featureName[<a class="code" href="_acquisition___c_8c.html#ad2c95c6a210a15a8404a202d2d0c2ab0">MAX_BUFF_LEN</a>];</div>
<div class="line">        <span class="keywordtype">size_t</span> lenFeatureName = <a class="code" href="_acquisition___c_8c.html#ad2c95c6a210a15a8404a202d2d0c2ab0">MAX_BUFF_LEN</a>;</div>
<div class="line">        err = <a name="a41"></a><a class="code" href="group___c_node_access.html#gab4ad0d3e2b95961c27ac332d84815095">spinNodeGetName</a>(hFeatureNode, featureName, &amp;lenFeatureName);</div>
<div class="line">        <span class="keywordflow">if</span> (err != <a class="code" href="group___spinnaker_enums_c.html#gga7a654d05a5874764fbe51f90f2913601ac9354a00188c96e865dd75134aaf12e2">SPINNAKER_ERR_SUCCESS</a>)</div>
<div class="line">        {</div>
<div class="line">            strcpy(featureName, <span class="stringliteral">&quot;Unknown name&quot;</span>);</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        <span class="keywordflow">if</span> (<a class="code" href="_acquisition___c_8c.html#ae81919503c55ec925fabac0b4d9bd34b">IsAvailableAndReadable</a>(hFeatureNode, featureName))</div>
<div class="line">        {</div>
<div class="line">            err = <a name="a42"></a><a class="code" href="group___c_node_access.html#ga84c48cb4dfcf624e60adaf5cffe0b939">spinNodeGetType</a>(hFeatureNode, &amp;featureType);</div>
<div class="line">            <span class="keywordflow">if</span> (err != <a class="code" href="group___spinnaker_enums_c.html#gga7a654d05a5874764fbe51f90f2913601ac9354a00188c96e865dd75134aaf12e2">SPINNAKER_ERR_SUCCESS</a>)</div>
<div class="line">            {</div>
<div class="line">                printf(<span class="stringliteral">&quot;Unable to retrieve node type. Non-fatal error %d...\n\n&quot;</span>, err);</div>
<div class="line">                <span class="keywordflow">continue</span>;</div>
<div class="line">            }</div>
<div class="line">        }</div>
<div class="line">        <span class="keywordflow">else</span></div>
<div class="line">        {</div>
<div class="line">            printf(<span class="stringliteral">&quot;%s: Node not readable\n&quot;</span>, featureName);</div>
<div class="line">            <span class="keywordflow">continue</span>;</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        <span class="keywordtype">char</span> featureValue[<a class="code" href="_acquisition___c_8c.html#ad2c95c6a210a15a8404a202d2d0c2ab0">MAX_BUFF_LEN</a>];</div>
<div class="line">        <span class="keywordtype">size_t</span> lenFeatureValue = <a class="code" href="_acquisition___c_8c.html#ad2c95c6a210a15a8404a202d2d0c2ab0">MAX_BUFF_LEN</a>;</div>
<div class="line"></div>
<div class="line">        err = <a name="a43"></a><a class="code" href="group___c_i_value_access.html#gacf576b958f185c52d570309a33f1cbab">spinNodeToString</a>(hFeatureNode, featureValue, &amp;lenFeatureValue);</div>
<div class="line">        <span class="keywordflow">if</span> (err != <a class="code" href="group___spinnaker_enums_c.html#gga7a654d05a5874764fbe51f90f2913601ac9354a00188c96e865dd75134aaf12e2">SPINNAKER_ERR_SUCCESS</a>)</div>
<div class="line">        {</div>
<div class="line">            strcpy(featureValue, <span class="stringliteral">&quot;Unknown value&quot;</span>);</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        printf(<span class="stringliteral">&quot;%s: %s\n&quot;</span>, featureName, featureValue);</div>
<div class="line">    }</div>
<div class="line">    printf(<span class="stringliteral">&quot;\n&quot;</span>);</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">return</span> err;</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="comment">// This function acquires and saves 10 images from a device; please see</span></div>
<div class="line"><span class="comment">// Acquisition_C example for more in-depth comments on the acquisition of</span></div>
<div class="line"><span class="comment">// images.</span></div>
<div class="line"><a class="code" href="group___spinnaker_enums_c.html#ga7a654d05a5874764fbe51f90f2913601">spinError</a> <a name="a44"></a><a class="code" href="_acquisition___c_8c.html#abf9d3665cfb8665d1e7aed6bc9a450c3">AcquireImages</a>(</div>
<div class="line">    <a class="code" href="group___spinnaker_handles_c.html#ga514bd0116b4239badaffb7227bc2c3f3">spinCamera</a> hCam,</div>
<div class="line">    <a class="code" href="group___spinnaker_gen_api_handles_c.html#ga8d381431c084d06bfdd2a9cf8576ee36">spinNodeMapHandle</a> hNodeMap,</div>
<div class="line">    <a class="code" href="group___spinnaker_gen_api_handles_c.html#ga8d381431c084d06bfdd2a9cf8576ee36">spinNodeMapHandle</a> hNodeMapTLDevice,</div>
<div class="line">    <a class="code" href="group___spinnaker_handles_c.html#ga1fcc8afa5368295361586143b70f4d19">spinImage</a> hImages[])</div>
<div class="line">{</div>
<div class="line">    <a class="code" href="group___spinnaker_enums_c.html#ga7a654d05a5874764fbe51f90f2913601">spinError</a> err = <a class="code" href="group___spinnaker_enums_c.html#gga7a654d05a5874764fbe51f90f2913601ac9354a00188c96e865dd75134aaf12e2">SPINNAKER_ERR_SUCCESS</a>;</div>
<div class="line"></div>
<div class="line">    printf(<span class="stringliteral">&quot;\n*** IMAGE ACQUISITION ***\n\n&quot;</span>);</div>
<div class="line"></div>
<div class="line">    <span class="comment">// Set acquisition mode to continuous</span></div>
<div class="line">    <a class="code" href="group___spinnaker_gen_api_handles_c.html#ga0eaf058976140d1ea6e09bef696b484b">spinNodeHandle</a> hAcquisitionMode = NULL;</div>
<div class="line">    <a class="code" href="group___spinnaker_gen_api_handles_c.html#ga0eaf058976140d1ea6e09bef696b484b">spinNodeHandle</a> hAcquisitionModeContinuous = NULL;</div>
<div class="line">    int64_t acquisitionModeContinuous = 0;</div>
<div class="line"></div>
<div class="line">    err = <a class="code" href="group___c_node_map_access.html#ga585769e31b69c98e9f687d2420d3b8a8">spinNodeMapGetNode</a>(hNodeMap, <span class="stringliteral">&quot;AcquisitionMode&quot;</span>, &amp;hAcquisitionMode);</div>
<div class="line">    <span class="keywordflow">if</span> (err != <a class="code" href="group___spinnaker_enums_c.html#gga7a654d05a5874764fbe51f90f2913601ac9354a00188c96e865dd75134aaf12e2">SPINNAKER_ERR_SUCCESS</a>)</div>
<div class="line">    {</div>
<div class="line">        printf(<span class="stringliteral">&quot;Unable to set acquisition mode to continuous (node retrieval). Aborting with error %d...\n\n&quot;</span>, err);</div>
<div class="line">        <span class="keywordflow">return</span> err;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">if</span> (<a class="code" href="_acquisition___c_8c.html#ae81919503c55ec925fabac0b4d9bd34b">IsAvailableAndReadable</a>(hAcquisitionMode, <span class="stringliteral">&quot;AcquisitionMode&quot;</span>))</div>
<div class="line">    {</div>
<div class="line">        err = <a name="a45"></a><a class="code" href="group___c_i_enumeration.html#ga686ad08237a2549b6f852141321fe728">spinEnumerationGetEntryByName</a>(hAcquisitionMode, <span class="stringliteral">&quot;Continuous&quot;</span>, &amp;hAcquisitionModeContinuous);</div>
<div class="line">        <span class="keywordflow">if</span> (err != <a class="code" href="group___spinnaker_enums_c.html#gga7a654d05a5874764fbe51f90f2913601ac9354a00188c96e865dd75134aaf12e2">SPINNAKER_ERR_SUCCESS</a>)</div>
<div class="line">        {</div>
<div class="line">            printf(</div>
<div class="line">                <span class="stringliteral">&quot;Unable to set acquisition mode to continuous (entry &#39;continuous&#39; retrieval). Aborting with error &quot;</span></div>
<div class="line">                <span class="stringliteral">&quot;%d...\n\n&quot;</span>,</div>
<div class="line">                err);</div>
<div class="line">            <span class="keywordflow">return</span> err;</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">else</span></div>
<div class="line">    {</div>
<div class="line">        err = <a class="code" href="group___spinnaker_enums_c.html#gga7a654d05a5874764fbe51f90f2913601a9effbcb233ec688fee8bbaa4712243e3">SPINNAKER_ERR_ACCESS_DENIED</a>;</div>
<div class="line">        printf(<span class="stringliteral">&quot;Unable to read acquisition mode. Aborting with error %d...\n\n&quot;</span>, err);</div>
<div class="line">        <span class="keywordflow">return</span> err;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">if</span> (<a class="code" href="_acquisition___c_8c.html#ae81919503c55ec925fabac0b4d9bd34b">IsAvailableAndReadable</a>(hAcquisitionModeContinuous, <span class="stringliteral">&quot;AcquisitionModeContinuous&quot;</span>))</div>
<div class="line">    {</div>
<div class="line">        err = <a name="a46"></a><a class="code" href="group___c_i_enum_entry.html#ga8cacc5f2f3103b40c43651ba0d295791">spinEnumerationEntryGetIntValue</a>(hAcquisitionModeContinuous, &amp;acquisitionModeContinuous);</div>
<div class="line">        <span class="keywordflow">if</span> (err != <a class="code" href="group___spinnaker_enums_c.html#gga7a654d05a5874764fbe51f90f2913601ac9354a00188c96e865dd75134aaf12e2">SPINNAKER_ERR_SUCCESS</a>)</div>
<div class="line">        {</div>
<div class="line">            printf(</div>
<div class="line">                <span class="stringliteral">&quot;Unable to set acquisition mode to continuous (entry int value retrieval). Aborting with error &quot;</span></div>
<div class="line">                <span class="stringliteral">&quot;%d...\n\n&quot;</span>,</div>
<div class="line">                err);</div>
<div class="line">            <span class="keywordflow">return</span> err;</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">else</span></div>
<div class="line">    {</div>
<div class="line">        err = <a class="code" href="group___spinnaker_enums_c.html#gga7a654d05a5874764fbe51f90f2913601a9effbcb233ec688fee8bbaa4712243e3">SPINNAKER_ERR_ACCESS_DENIED</a>;</div>
<div class="line">        printf(<span class="stringliteral">&quot;Unable to read acquisition mode continuous. Aborting with error %d...\n\n&quot;</span>, err);</div>
<div class="line">        <span class="keywordflow">return</span> err;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="comment">// set acquisition mode to continuous</span></div>
<div class="line">    <span class="keywordflow">if</span> (<a class="code" href="_acquisition___c_8c.html#a6b63c4b147e3a9b83e88b6c0ebdaea55">IsAvailableAndWritable</a>(hAcquisitionMode, <span class="stringliteral">&quot;AcquisitionMode&quot;</span>))</div>
<div class="line">    {</div>
<div class="line">        err = <a name="a47"></a><a class="code" href="group___c_i_enumeration.html#ga0c066bc520ee709fdd099be27badba4c">spinEnumerationSetIntValue</a>(hAcquisitionMode, acquisitionModeContinuous);</div>
<div class="line">        <span class="keywordflow">if</span> (err != <a class="code" href="group___spinnaker_enums_c.html#gga7a654d05a5874764fbe51f90f2913601ac9354a00188c96e865dd75134aaf12e2">SPINNAKER_ERR_SUCCESS</a>)</div>
<div class="line">        {</div>
<div class="line">            printf(</div>
<div class="line">                <span class="stringliteral">&quot;Unable to set acquisition mode to continuous (entry int value setting). Aborting with error %d...\n\n&quot;</span>,</div>
<div class="line">                err);</div>
<div class="line">            <span class="keywordflow">return</span> err;</div>
<div class="line">        }</div>
<div class="line">        printf(<span class="stringliteral">&quot;Acquisition mode set to continuous...\n&quot;</span>);</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">else</span></div>
<div class="line">    {</div>
<div class="line">        err = <a class="code" href="group___spinnaker_enums_c.html#gga7a654d05a5874764fbe51f90f2913601a9effbcb233ec688fee8bbaa4712243e3">SPINNAKER_ERR_ACCESS_DENIED</a>;</div>
<div class="line">        printf(<span class="stringliteral">&quot;Unable to write to acquisition mode. Aborting with error %d...\n\n&quot;</span>, err);</div>
<div class="line">        <span class="keywordflow">return</span> err;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="comment">// Begin acquiring images</span></div>
<div class="line">    err = <a name="a48"></a><a class="code" href="group___c_camera.html#ga3882e2442d62102e4f1b2b1d5e436e29">spinCameraBeginAcquisition</a>(hCam);</div>
<div class="line">    <span class="keywordflow">if</span> (err != <a class="code" href="group___spinnaker_enums_c.html#gga7a654d05a5874764fbe51f90f2913601ac9354a00188c96e865dd75134aaf12e2">SPINNAKER_ERR_SUCCESS</a>)</div>
<div class="line">    {</div>
<div class="line">        printf(<span class="stringliteral">&quot;Unable to begin image acquisition. Aborting with error %d...\n\n&quot;</span>, err);</div>
<div class="line">        <span class="keywordflow">return</span> err;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    printf(<span class="stringliteral">&quot;Acquiring images...\n&quot;</span>);</div>
<div class="line"></div>
<div class="line">    <span class="comment">// Retrieve device serial number for filename</span></div>
<div class="line">    <a class="code" href="group___spinnaker_gen_api_handles_c.html#ga0eaf058976140d1ea6e09bef696b484b">spinNodeHandle</a> hDeviceSerialNumber = NULL;</div>
<div class="line">    <span class="keywordtype">char</span> deviceSerialNumber[<a class="code" href="_acquisition___c_8c.html#ad2c95c6a210a15a8404a202d2d0c2ab0">MAX_BUFF_LEN</a>];</div>
<div class="line">    <span class="keywordtype">size_t</span> lenDeviceSerialNumber = <a class="code" href="_acquisition___c_8c.html#ad2c95c6a210a15a8404a202d2d0c2ab0">MAX_BUFF_LEN</a>;</div>
<div class="line"></div>
<div class="line">    err = <a class="code" href="group___c_node_map_access.html#ga585769e31b69c98e9f687d2420d3b8a8">spinNodeMapGetNode</a>(hNodeMapTLDevice, <span class="stringliteral">&quot;DeviceSerialNumber&quot;</span>, &amp;hDeviceSerialNumber);</div>
<div class="line">    <span class="keywordflow">if</span> (err != <a class="code" href="group___spinnaker_enums_c.html#gga7a654d05a5874764fbe51f90f2913601ac9354a00188c96e865dd75134aaf12e2">SPINNAKER_ERR_SUCCESS</a>)</div>
<div class="line">    {</div>
<div class="line">        strcpy(deviceSerialNumber, <span class="stringliteral">&quot;&quot;</span>);</div>
<div class="line">        lenDeviceSerialNumber = 0;</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">else</span></div>
<div class="line">    {</div>
<div class="line">        <span class="keywordflow">if</span> (<a class="code" href="_acquisition___c_8c.html#ae81919503c55ec925fabac0b4d9bd34b">IsAvailableAndReadable</a>(hDeviceSerialNumber, <span class="stringliteral">&quot;DeviceSerialNumber&quot;</span>))</div>
<div class="line">        {</div>
<div class="line">            err = <a class="code" href="group___string_access.html#ga76aa66ed762ccf0a803ca642876b3a65">spinStringGetValue</a>(hDeviceSerialNumber, deviceSerialNumber, &amp;lenDeviceSerialNumber);</div>
<div class="line">            <span class="keywordflow">if</span> (err != <a class="code" href="group___spinnaker_enums_c.html#gga7a654d05a5874764fbe51f90f2913601ac9354a00188c96e865dd75134aaf12e2">SPINNAKER_ERR_SUCCESS</a>)</div>
<div class="line">            {</div>
<div class="line">                printf(<span class="stringliteral">&quot;Unable to get device serial number. Non-fatal error %d...\n\n&quot;</span>, err);</div>
<div class="line">                strcpy(deviceSerialNumber, <span class="stringliteral">&quot;&quot;</span>);</div>
<div class="line">                lenDeviceSerialNumber = 0;</div>
<div class="line">            }</div>
<div class="line"></div>
<div class="line">            printf(<span class="stringliteral">&quot;Device serial number retrieved as %s...\n&quot;</span>, deviceSerialNumber);</div>
<div class="line">        }</div>
<div class="line">        <span class="keywordflow">else</span></div>
<div class="line">        {</div>
<div class="line">            err = <a class="code" href="group___spinnaker_enums_c.html#gga7a654d05a5874764fbe51f90f2913601a9effbcb233ec688fee8bbaa4712243e3">SPINNAKER_ERR_ACCESS_DENIED</a>;</div>
<div class="line">            printf(<span class="stringliteral">&quot;Unable to get device serial number. Non-fatal error %d...\n\n&quot;</span>, err);</div>
<div class="line">            strcpy(deviceSerialNumber, <span class="stringliteral">&quot;&quot;</span>);</div>
<div class="line">            lenDeviceSerialNumber = 0;</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line">    printf(<span class="stringliteral">&quot;\n&quot;</span>);</div>
<div class="line"></div>
<div class="line">    <span class="comment">// Retrieve, convert, and save images</span></div>
<div class="line">    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> imageCnt = 0;</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">for</span> (imageCnt = 0; imageCnt &lt; <a class="code" href="_save_to_avi___c_8c.html#a9cb64526659b4bebea0d36565debb187">NUM_IMAGES</a>; imageCnt++)</div>
<div class="line">    {</div>
<div class="line">        <span class="comment">// Retrieve next received image</span></div>
<div class="line">        <a class="code" href="group___spinnaker_handles_c.html#ga1fcc8afa5368295361586143b70f4d19">spinImage</a> hResultImage = NULL;</div>
<div class="line"></div>
<div class="line">        err = <a name="a49"></a><a class="code" href="group___c_camera.html#gabd5185f598e95659c9b3ad882fb75010">spinCameraGetNextImageEx</a>(hCam, 1000, &amp;hResultImage);</div>
<div class="line">        <span class="keywordflow">if</span> (err != <a class="code" href="group___spinnaker_enums_c.html#gga7a654d05a5874764fbe51f90f2913601ac9354a00188c96e865dd75134aaf12e2">SPINNAKER_ERR_SUCCESS</a>)</div>
<div class="line">        {</div>
<div class="line">            printf(<span class="stringliteral">&quot;Unable to get next image. Non-fatal error %d...\n\n&quot;</span>, err);</div>
<div class="line">            <span class="keywordflow">continue</span>;</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        <span class="comment">// Ensure image completion</span></div>
<div class="line">        <a class="code" href="group___spinnaker_defs_c.html#ga8c9639362749e58644859f5161671f57">bool8_t</a> isIncomplete = <a class="code" href="group___spinnaker_defs_c.html#gae8001ec5567fd7b5f7a2c3b0858dda3d">False</a>;</div>
<div class="line">        <a class="code" href="group___spinnaker_defs_c.html#ga8c9639362749e58644859f5161671f57">bool8_t</a> hasFailed = <a class="code" href="group___spinnaker_defs_c.html#gae8001ec5567fd7b5f7a2c3b0858dda3d">False</a>;</div>
<div class="line"></div>
<div class="line">        err = <a name="a50"></a><a class="code" href="group___c_image.html#gac9c046e216e29e96d559a7902a7315ad">spinImageIsIncomplete</a>(hResultImage, &amp;isIncomplete);</div>
<div class="line">        <span class="keywordflow">if</span> (err != <a class="code" href="group___spinnaker_enums_c.html#gga7a654d05a5874764fbe51f90f2913601ac9354a00188c96e865dd75134aaf12e2">SPINNAKER_ERR_SUCCESS</a>)</div>
<div class="line">        {</div>
<div class="line">            printf(<span class="stringliteral">&quot;Unable to determine image completion. Non-fatal error %d...\n\n&quot;</span>, err);</div>
<div class="line">            hasFailed = <a name="a51"></a><a class="code" href="group___spinnaker_defs_c.html#gae8a828260fa09a998086e9cc56128984">True</a>;</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        <span class="keywordflow">if</span> (isIncomplete)</div>
<div class="line">        {</div>
<div class="line">            <a class="code" href="group___spinnaker_enums_c.html#ga133394ad2772981d981a227354c22932">spinImageStatus</a> imageStatus = <a name="a52"></a><a class="code" href="group___spinnaker_enums_c.html#gga133394ad2772981d981a227354c22932ada54bbccf380da624f418fc218fea919">IMAGE_NO_ERROR</a>;</div>
<div class="line"></div>
<div class="line">            err = <a name="a53"></a><a class="code" href="group___c_image.html#gad39c2a4d6cdbe48ac083fecaf8521c62">spinImageGetStatus</a>(hResultImage, &amp;imageStatus);</div>
<div class="line">            <span class="keywordflow">if</span> (err != <a class="code" href="group___spinnaker_enums_c.html#gga7a654d05a5874764fbe51f90f2913601ac9354a00188c96e865dd75134aaf12e2">SPINNAKER_ERR_SUCCESS</a>)</div>
<div class="line">            {</div>
<div class="line">                printf(<span class="stringliteral">&quot;Unable to retrieve image status. Non-fatal error %d...\n\n&quot;</span>, err);</div>
<div class="line">            }</div>
<div class="line">            <span class="keywordflow">else</span></div>
<div class="line">            {</div>
<div class="line">                printf(<span class="stringliteral">&quot;Image incomplete with image status %d...\n&quot;</span>, imageStatus);</div>
<div class="line">            }</div>
<div class="line"></div>
<div class="line">            hasFailed = <a class="code" href="group___spinnaker_defs_c.html#gae8a828260fa09a998086e9cc56128984">True</a>;</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        <span class="comment">// Release incomplete or failed image</span></div>
<div class="line">        <span class="keywordflow">if</span> (hasFailed)</div>
<div class="line">        {</div>
<div class="line">            err = <a name="a54"></a><a class="code" href="group___c_image.html#gab7ce0885f429cc0edaec89d5c870d593">spinImageRelease</a>(hResultImage);</div>
<div class="line">            <span class="keywordflow">if</span> (err != <a class="code" href="group___spinnaker_enums_c.html#gga7a654d05a5874764fbe51f90f2913601ac9354a00188c96e865dd75134aaf12e2">SPINNAKER_ERR_SUCCESS</a>)</div>
<div class="line">            {</div>
<div class="line">                printf(<span class="stringliteral">&quot;Unable to release image. Non-fatal error %d...\n\n&quot;</span>, err);</div>
<div class="line">            }</div>
<div class="line"></div>
<div class="line">            <span class="keywordflow">continue</span>;</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        <span class="comment">// Print image information</span></div>
<div class="line">        <span class="keywordtype">size_t</span> width = 0;</div>
<div class="line">        <span class="keywordtype">size_t</span> height = 0;</div>
<div class="line"></div>
<div class="line">        printf(<span class="stringliteral">&quot;Grabbed image %d, &quot;</span>, imageCnt);</div>
<div class="line"></div>
<div class="line">        err = <a name="a55"></a><a class="code" href="group___c_image.html#ga3cbf1e3f93e0350cb1a842aec0611732">spinImageGetWidth</a>(hResultImage, &amp;width);</div>
<div class="line">        <span class="keywordflow">if</span> (err != <a class="code" href="group___spinnaker_enums_c.html#gga7a654d05a5874764fbe51f90f2913601ac9354a00188c96e865dd75134aaf12e2">SPINNAKER_ERR_SUCCESS</a>)</div>
<div class="line">        {</div>
<div class="line">            printf(<span class="stringliteral">&quot;width = unknown, &quot;</span>);</div>
<div class="line">        }</div>
<div class="line">        <span class="keywordflow">else</span></div>
<div class="line">        {</div>
<div class="line">            printf(<span class="stringliteral">&quot;width = %u, &quot;</span>, (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>)width);</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        err = <a name="a56"></a><a class="code" href="group___c_image.html#gac184e254c917135bf152e1dae906f9ec">spinImageGetHeight</a>(hResultImage, &amp;height);</div>
<div class="line">        <span class="keywordflow">if</span> (err != <a class="code" href="group___spinnaker_enums_c.html#gga7a654d05a5874764fbe51f90f2913601ac9354a00188c96e865dd75134aaf12e2">SPINNAKER_ERR_SUCCESS</a>)</div>
<div class="line">        {</div>
<div class="line">            printf(<span class="stringliteral">&quot;height = unknown\n&quot;</span>);</div>
<div class="line">        }</div>
<div class="line">        <span class="keywordflow">else</span></div>
<div class="line">        {</div>
<div class="line">            printf(<span class="stringliteral">&quot;height = %u\n&quot;</span>, (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>)height);</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        <span class="comment">// Convert image to mono 8</span></div>
<div class="line">        hImages[imageCnt] = NULL;</div>
<div class="line"></div>
<div class="line">        err = <a name="a57"></a><a class="code" href="group___c_image.html#ga04681ad1eace10529fafef3f6655113d">spinImageCreateEmpty</a>(&amp;hImages[imageCnt]);</div>
<div class="line">        <span class="keywordflow">if</span> (err != <a class="code" href="group___spinnaker_enums_c.html#gga7a654d05a5874764fbe51f90f2913601ac9354a00188c96e865dd75134aaf12e2">SPINNAKER_ERR_SUCCESS</a>)</div>
<div class="line">        {</div>
<div class="line">            printf(<span class="stringliteral">&quot;Unable to create image. Non-fatal error %d...\n\n&quot;</span>, err);</div>
<div class="line">            hasFailed = <a class="code" href="group___spinnaker_defs_c.html#gae8a828260fa09a998086e9cc56128984">True</a>;</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        err = <a name="a58"></a><a class="code" href="group___c_image.html#ga72e9db6b5eacf6638154c474b7a295e6">spinImageConvert</a>(hResultImage, <a name="a59"></a><a class="code" href="group___camera_defs_c__h.html#ggab8de057c16c91648e520ab80263cb24daab73a79118b4db06f577b5e2563d7246">PixelFormat_Mono8</a>, hImages[imageCnt]);</div>
<div class="line">        <span class="keywordflow">if</span> (err != <a class="code" href="group___spinnaker_enums_c.html#gga7a654d05a5874764fbe51f90f2913601ac9354a00188c96e865dd75134aaf12e2">SPINNAKER_ERR_SUCCESS</a>)</div>
<div class="line">        {</div>
<div class="line">            printf(<span class="stringliteral">&quot;Unable to convert image. Non-fatal error %d...\n\n&quot;</span>, err);</div>
<div class="line">            hasFailed = <a class="code" href="group___spinnaker_defs_c.html#gae8a828260fa09a998086e9cc56128984">True</a>;</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        <span class="comment">// Release image</span></div>
<div class="line">        err = <a class="code" href="group___c_image.html#gab7ce0885f429cc0edaec89d5c870d593">spinImageRelease</a>(hResultImage);</div>
<div class="line">        <span class="keywordflow">if</span> (err != <a class="code" href="group___spinnaker_enums_c.html#gga7a654d05a5874764fbe51f90f2913601ac9354a00188c96e865dd75134aaf12e2">SPINNAKER_ERR_SUCCESS</a>)</div>
<div class="line">        {</div>
<div class="line">            printf(<span class="stringliteral">&quot;Unable to release image. Non-fatal error %d...\n\n&quot;</span>, err);</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="comment">// End Acquisition</span></div>
<div class="line">    err = <a name="a60"></a><a class="code" href="group___c_camera.html#ga267058c68109219981e6884979765eba">spinCameraEndAcquisition</a>(hCam);</div>
<div class="line">    <span class="keywordflow">if</span> (err != <a class="code" href="group___spinnaker_enums_c.html#gga7a654d05a5874764fbe51f90f2913601ac9354a00188c96e865dd75134aaf12e2">SPINNAKER_ERR_SUCCESS</a>)</div>
<div class="line">    {</div>
<div class="line">        printf(<span class="stringliteral">&quot;Unable to end acquisition. Non-fatal error %d...\n\n&quot;</span>, err);</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">return</span> err;</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="comment">// This function acts as the body of the example; please see NodeMapInfo_C</span></div>
<div class="line"><span class="comment">// example for more in-depth comments on setting up cameras.</span></div>
<div class="line"><a class="code" href="group___spinnaker_enums_c.html#ga7a654d05a5874764fbe51f90f2913601">spinError</a> <a name="a61"></a><a class="code" href="_acquisition___c_8c.html#afc5fa7551164862a51d5a84ef170f68c">RunSingleCamera</a>(<a class="code" href="group___spinnaker_handles_c.html#ga514bd0116b4239badaffb7227bc2c3f3">spinCamera</a> hCam)</div>
<div class="line">{</div>
<div class="line">    <a class="code" href="group___spinnaker_enums_c.html#ga7a654d05a5874764fbe51f90f2913601">spinError</a> err = <a class="code" href="group___spinnaker_enums_c.html#gga7a654d05a5874764fbe51f90f2913601ac9354a00188c96e865dd75134aaf12e2">SPINNAKER_ERR_SUCCESS</a>;</div>
<div class="line"></div>
<div class="line">    <span class="comment">// Retrieve TL device nodemap and print device information</span></div>
<div class="line">    <a class="code" href="group___spinnaker_gen_api_handles_c.html#ga8d381431c084d06bfdd2a9cf8576ee36">spinNodeMapHandle</a> hNodeMapTLDevice = NULL;</div>
<div class="line"></div>
<div class="line">    err = <a name="a62"></a><a class="code" href="group___c_camera.html#gad1686bfb542518012d8a63ee57dee2e9">spinCameraGetTLDeviceNodeMap</a>(hCam, &amp;hNodeMapTLDevice);</div>
<div class="line">    <span class="keywordflow">if</span> (err != <a class="code" href="group___spinnaker_enums_c.html#gga7a654d05a5874764fbe51f90f2913601ac9354a00188c96e865dd75134aaf12e2">SPINNAKER_ERR_SUCCESS</a>)</div>
<div class="line">    {</div>
<div class="line">        printf(<span class="stringliteral">&quot;Unable to retrieve TL device nodemap. Non-fatal error %d...\n\n&quot;</span>, err);</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">else</span></div>
<div class="line">    {</div>
<div class="line">        err = <a class="code" href="_acquisition___c_8c.html#ae2ab184c6a59e1f5d56fc6a8d66cc242">PrintDeviceInfo</a>(hNodeMapTLDevice);</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="comment">// Initialize camera</span></div>
<div class="line">    err = <a name="a63"></a><a class="code" href="group___c_camera.html#ga001c3f87a5450b99bbaedfccc26dd78e">spinCameraInit</a>(hCam);</div>
<div class="line">    <span class="keywordflow">if</span> (err != <a class="code" href="group___spinnaker_enums_c.html#gga7a654d05a5874764fbe51f90f2913601ac9354a00188c96e865dd75134aaf12e2">SPINNAKER_ERR_SUCCESS</a>)</div>
<div class="line">    {</div>
<div class="line">        printf(<span class="stringliteral">&quot;Unable to initialize camera. Aborting with error %d...\n\n&quot;</span>, err);</div>
<div class="line">        <span class="keywordflow">return</span> err;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="comment">// Retrieve GenICam nodemap</span></div>
<div class="line">    <a class="code" href="group___spinnaker_gen_api_handles_c.html#ga8d381431c084d06bfdd2a9cf8576ee36">spinNodeMapHandle</a> hNodeMap = NULL;</div>
<div class="line"></div>
<div class="line">    err = <a name="a64"></a><a class="code" href="group___c_camera.html#ga2b562ee0db799540437a4e7eea39d985">spinCameraGetNodeMap</a>(hCam, &amp;hNodeMap);</div>
<div class="line">    <span class="keywordflow">if</span> (err != <a class="code" href="group___spinnaker_enums_c.html#gga7a654d05a5874764fbe51f90f2913601ac9354a00188c96e865dd75134aaf12e2">SPINNAKER_ERR_SUCCESS</a>)</div>
<div class="line">    {</div>
<div class="line">        printf(<span class="stringliteral">&quot;Unable to retrieve GenICam nodemap. Aborting with error %d...\n\n&quot;</span>, err);</div>
<div class="line">        <span class="keywordflow">return</span> err;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="comment">// Acquire images</span></div>
<div class="line">    <a class="code" href="group___spinnaker_handles_c.html#ga1fcc8afa5368295361586143b70f4d19">spinImage</a> hImages[<a class="code" href="_save_to_avi___c_8c.html#a9cb64526659b4bebea0d36565debb187">NUM_IMAGES</a>];</div>
<div class="line"></div>
<div class="line">    err = <a class="code" href="_acquisition___c_8c.html#abf9d3665cfb8665d1e7aed6bc9a450c3">AcquireImages</a>(hCam, hNodeMap, hNodeMapTLDevice, hImages);</div>
<div class="line">    <span class="keywordflow">if</span> (err != <a class="code" href="group___spinnaker_enums_c.html#gga7a654d05a5874764fbe51f90f2913601ac9354a00188c96e865dd75134aaf12e2">SPINNAKER_ERR_SUCCESS</a>)</div>
<div class="line">    {</div>
<div class="line">        <span class="keywordflow">return</span> err;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    err = <a class="code" href="_save_to_avi___c_8c.html#ab156a145c8dd23c3b0f423ae7469b3ba">SaveArrayToVideo</a>(hNodeMap, hNodeMapTLDevice, hImages);</div>
<div class="line">    <span class="keywordflow">if</span> (err != <a class="code" href="group___spinnaker_enums_c.html#gga7a654d05a5874764fbe51f90f2913601ac9354a00188c96e865dd75134aaf12e2">SPINNAKER_ERR_SUCCESS</a>)</div>
<div class="line">    {</div>
<div class="line">        <span class="keywordflow">return</span> err;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="comment">// Deinitialize camera</span></div>
<div class="line">    err = <a name="a65"></a><a class="code" href="group___c_camera.html#ga428a5165b0de7913dab39320f06be674">spinCameraDeInit</a>(hCam);</div>
<div class="line">    <span class="keywordflow">if</span> (err != <a class="code" href="group___spinnaker_enums_c.html#gga7a654d05a5874764fbe51f90f2913601ac9354a00188c96e865dd75134aaf12e2">SPINNAKER_ERR_SUCCESS</a>)</div>
<div class="line">    {</div>
<div class="line">        printf(<span class="stringliteral">&quot;Unable to deinitialize camera. Aborting with error %d...\n\n&quot;</span>, err);</div>
<div class="line">        <span class="keywordflow">return</span> err;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">return</span> err;</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="comment">// Example entry point; please see Enumeration_C example for more in-depth</span></div>
<div class="line"><span class="comment">// comments on preparing and cleaning up the system.</span></div>
<div class="line"><span class="keywordtype">int</span> <a name="a66"></a><a class="code" href="_acquisition___c_8c.html#ae66f6b31b5ad750f1fe042a706a4e3d4">main</a>(<span class="comment">/*int argc, char** argv*/</span>)</div>
<div class="line">{</div>
<div class="line">    <a class="code" href="group___spinnaker_enums_c.html#ga7a654d05a5874764fbe51f90f2913601">spinError</a> errReturn = <a class="code" href="group___spinnaker_enums_c.html#gga7a654d05a5874764fbe51f90f2913601ac9354a00188c96e865dd75134aaf12e2">SPINNAKER_ERR_SUCCESS</a>;</div>
<div class="line">    <a class="code" href="group___spinnaker_enums_c.html#ga7a654d05a5874764fbe51f90f2913601">spinError</a> err = <a class="code" href="group___spinnaker_enums_c.html#gga7a654d05a5874764fbe51f90f2913601ac9354a00188c96e865dd75134aaf12e2">SPINNAKER_ERR_SUCCESS</a>;</div>
<div class="line">    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i = 0;</div>
<div class="line"></div>
<div class="line">    <span class="comment">// Print application build information</span></div>
<div class="line">    printf(<span class="stringliteral">&quot;Application build date: %s %s \n\n&quot;</span>, __DATE__, __TIME__);</div>
<div class="line"></div>
<div class="line">    <span class="comment">// Retrieve singleton reference to system object</span></div>
<div class="line">    <a class="code" href="group___spinnaker_handles_c.html#gaf86b4c78d4599f3394c501227b75b06c">spinSystem</a> hSystem = NULL;</div>
<div class="line"></div>
<div class="line">    err = <a name="a67"></a><a class="code" href="group___c_system.html#gae99b1840faddfefa4bfdfd55c43e7e89">spinSystemGetInstance</a>(&amp;hSystem);</div>
<div class="line">    <span class="keywordflow">if</span> (err != <a class="code" href="group___spinnaker_enums_c.html#gga7a654d05a5874764fbe51f90f2913601ac9354a00188c96e865dd75134aaf12e2">SPINNAKER_ERR_SUCCESS</a>)</div>
<div class="line">    {</div>
<div class="line">        printf(<span class="stringliteral">&quot;Unable to retrieve system instance. Aborting with error %d...\n\n&quot;</span>, err);</div>
<div class="line">        <span class="keywordflow">return</span> err;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="comment">// Print out current library version</span></div>
<div class="line">    <a name="_a68"></a><a class="code" href="structspin_library_version.html">spinLibraryVersion</a> hLibraryVersion;</div>
<div class="line"></div>
<div class="line">    <a name="a69"></a><a class="code" href="group___c_system.html#ga7248ecbdebbbef5937de92bb29018a3d">spinSystemGetLibraryVersion</a>(hSystem, &amp;hLibraryVersion);</div>
<div class="line">    printf(</div>
<div class="line">        <span class="stringliteral">&quot;Spinnaker library version: %d.%d.%d.%d\n\n&quot;</span>,</div>
<div class="line">        hLibraryVersion.<a name="a70"></a><a class="code" href="structspin_library_version.html#a435ca80707c851bea186e73a1be5d3b9">major</a>,</div>
<div class="line">        hLibraryVersion.<a name="a71"></a><a class="code" href="structspin_library_version.html#a41c0e171b65e16617977006e58fbbbc5">minor</a>,</div>
<div class="line">        hLibraryVersion.<a name="a72"></a><a class="code" href="structspin_library_version.html#a4bfea42429249a1f65204f0c0f34704a">type</a>,</div>
<div class="line">        hLibraryVersion.<a name="a73"></a><a class="code" href="structspin_library_version.html#ad263db2963cb8e231c207328372e17bb">build</a>);</div>
<div class="line"></div>
<div class="line">    <span class="comment">// Retrieve list of cameras from the system</span></div>
<div class="line">    <a class="code" href="group___spinnaker_handles_c.html#ga0cf44290829b155c46a06a2e2d455a33">spinCameraList</a> hCameraList = NULL;</div>
<div class="line"></div>
<div class="line">    err = <a name="a74"></a><a class="code" href="group___c_camera_list.html#gae1450dd29efb55e5fab342cbf1e70e7c">spinCameraListCreateEmpty</a>(&amp;hCameraList);</div>
<div class="line">    <span class="keywordflow">if</span> (err != <a class="code" href="group___spinnaker_enums_c.html#gga7a654d05a5874764fbe51f90f2913601ac9354a00188c96e865dd75134aaf12e2">SPINNAKER_ERR_SUCCESS</a>)</div>
<div class="line">    {</div>
<div class="line">        printf(<span class="stringliteral">&quot;Unable to create camera list. Aborting with error %d...\n\n&quot;</span>, err);</div>
<div class="line">        <span class="keywordflow">return</span> err;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    err = <a name="a75"></a><a class="code" href="group___c_system.html#gaa02ace2f887ab483c8fb0c956f80fdc5">spinSystemGetCameras</a>(hSystem, hCameraList);</div>
<div class="line">    <span class="keywordflow">if</span> (err != <a class="code" href="group___spinnaker_enums_c.html#gga7a654d05a5874764fbe51f90f2913601ac9354a00188c96e865dd75134aaf12e2">SPINNAKER_ERR_SUCCESS</a>)</div>
<div class="line">    {</div>
<div class="line">        printf(<span class="stringliteral">&quot;Unable to retrieve camera list. Aborting with error %d...\n\n&quot;</span>, err);</div>
<div class="line">        <span class="keywordflow">return</span> err;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="comment">// Retrieve number of cameras</span></div>
<div class="line">    <span class="keywordtype">size_t</span> numCameras = 0;</div>
<div class="line"></div>
<div class="line">    err = <a name="a76"></a><a class="code" href="group___c_camera_list.html#ga3e882578749e2f3b5021c1aaa504d597">spinCameraListGetSize</a>(hCameraList, &amp;numCameras);</div>
<div class="line">    <span class="keywordflow">if</span> (err != <a class="code" href="group___spinnaker_enums_c.html#gga7a654d05a5874764fbe51f90f2913601ac9354a00188c96e865dd75134aaf12e2">SPINNAKER_ERR_SUCCESS</a>)</div>
<div class="line">    {</div>
<div class="line">        printf(<span class="stringliteral">&quot;Unable to retrieve number of cameras. Aborting with error %d...\n\n&quot;</span>, err);</div>
<div class="line">        <span class="keywordflow">return</span> err;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    printf(<span class="stringliteral">&quot;Number of cameras detected: %u\n\n&quot;</span>, (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>)numCameras);</div>
<div class="line"></div>
<div class="line">    <span class="comment">// Finish if there are no cameras</span></div>
<div class="line">    <span class="keywordflow">if</span> (numCameras == 0)</div>
<div class="line">    {</div>
<div class="line">        <span class="comment">// Clear and destroy camera list before releasing system</span></div>
<div class="line">        err = <a name="a77"></a><a class="code" href="group___c_camera_list.html#ga02e13c208a49234c639611fac23d129b">spinCameraListClear</a>(hCameraList);</div>
<div class="line">        <span class="keywordflow">if</span> (err != <a class="code" href="group___spinnaker_enums_c.html#gga7a654d05a5874764fbe51f90f2913601ac9354a00188c96e865dd75134aaf12e2">SPINNAKER_ERR_SUCCESS</a>)</div>
<div class="line">        {</div>
<div class="line">            printf(<span class="stringliteral">&quot;Unable to clear camera list. Aborting with error %d...\n\n&quot;</span>, err);</div>
<div class="line">            <span class="keywordflow">return</span> err;</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        err = <a name="a78"></a><a class="code" href="group___c_camera_list.html#ga74ba2e784a51ae95c90dd1cbb14fb5d7">spinCameraListDestroy</a>(hCameraList);</div>
<div class="line">        <span class="keywordflow">if</span> (err != <a class="code" href="group___spinnaker_enums_c.html#gga7a654d05a5874764fbe51f90f2913601ac9354a00188c96e865dd75134aaf12e2">SPINNAKER_ERR_SUCCESS</a>)</div>
<div class="line">        {</div>
<div class="line">            printf(<span class="stringliteral">&quot;Unable to destroy camera list. Aborting with error %d...\n\n&quot;</span>, err);</div>
<div class="line">            <span class="keywordflow">return</span> err;</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        <span class="comment">// Release system</span></div>
<div class="line">        err = <a name="a79"></a><a class="code" href="group___c_system.html#gab7fee02328eab0851be82e7b3663cb4f">spinSystemReleaseInstance</a>(hSystem);</div>
<div class="line">        <span class="keywordflow">if</span> (err != <a class="code" href="group___spinnaker_enums_c.html#gga7a654d05a5874764fbe51f90f2913601ac9354a00188c96e865dd75134aaf12e2">SPINNAKER_ERR_SUCCESS</a>)</div>
<div class="line">        {</div>
<div class="line">            printf(<span class="stringliteral">&quot;Unable to release system instance. Aborting with error %d...\n\n&quot;</span>, err);</div>
<div class="line">            <span class="keywordflow">return</span> err;</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        printf(<span class="stringliteral">&quot;Not enough cameras!\n&quot;</span>);</div>
<div class="line">        printf(<span class="stringliteral">&quot;Done! Press Enter to exit...\n&quot;</span>);</div>
<div class="line">        getchar();</div>
<div class="line"></div>
<div class="line">        <span class="keywordflow">return</span> -1;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="comment">// Run example on each camera</span></div>
<div class="line">    <span class="keywordflow">for</span> (i = 0; i &lt; numCameras; i++)</div>
<div class="line">    {</div>
<div class="line">        printf(<span class="stringliteral">&quot;\nRunning example for camera %d...\n&quot;</span>, i);</div>
<div class="line"></div>
<div class="line">        <span class="comment">// Select camera</span></div>
<div class="line">        <a class="code" href="group___spinnaker_handles_c.html#ga514bd0116b4239badaffb7227bc2c3f3">spinCamera</a> hCamera = NULL;</div>
<div class="line"></div>
<div class="line">        err = <a name="a80"></a><a class="code" href="group___c_camera_list.html#gae93d855c1640c27769c4e66de913ac91">spinCameraListGet</a>(hCameraList, i, &amp;hCamera);</div>
<div class="line">        <span class="keywordflow">if</span> (err != <a class="code" href="group___spinnaker_enums_c.html#gga7a654d05a5874764fbe51f90f2913601ac9354a00188c96e865dd75134aaf12e2">SPINNAKER_ERR_SUCCESS</a>)</div>
<div class="line">        {</div>
<div class="line">            printf(<span class="stringliteral">&quot;Unable to retrieve camera from list. Aborting with error %d...\n\n&quot;</span>, err);</div>
<div class="line">            errReturn = err;</div>
<div class="line">        }</div>
<div class="line">        <span class="keywordflow">else</span></div>
<div class="line">        {</div>
<div class="line">            <span class="comment">// Run example</span></div>
<div class="line">            err = <a class="code" href="_acquisition___c_8c.html#afc5fa7551164862a51d5a84ef170f68c">RunSingleCamera</a>(hCamera);</div>
<div class="line">            <span class="keywordflow">if</span> (err != <a class="code" href="group___spinnaker_enums_c.html#gga7a654d05a5874764fbe51f90f2913601ac9354a00188c96e865dd75134aaf12e2">SPINNAKER_ERR_SUCCESS</a>)</div>
<div class="line">            {</div>
<div class="line">                errReturn = err;</div>
<div class="line">            }</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        <span class="comment">// Release camera</span></div>
<div class="line">        err = <a name="a81"></a><a class="code" href="group___c_camera.html#ga822a6cd0e2c9ca982216266a011b89cc">spinCameraRelease</a>(hCamera);</div>
<div class="line">        <span class="keywordflow">if</span> (err != <a class="code" href="group___spinnaker_enums_c.html#gga7a654d05a5874764fbe51f90f2913601ac9354a00188c96e865dd75134aaf12e2">SPINNAKER_ERR_SUCCESS</a>)</div>
<div class="line">        {</div>
<div class="line">            errReturn = err;</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        printf(<span class="stringliteral">&quot;Camera %d example complete...\n\n&quot;</span>, i);</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="comment">// Clear and destroy camera list before releasing system</span></div>
<div class="line">    err = <a class="code" href="group___c_camera_list.html#ga02e13c208a49234c639611fac23d129b">spinCameraListClear</a>(hCameraList);</div>
<div class="line">    <span class="keywordflow">if</span> (err != <a class="code" href="group___spinnaker_enums_c.html#gga7a654d05a5874764fbe51f90f2913601ac9354a00188c96e865dd75134aaf12e2">SPINNAKER_ERR_SUCCESS</a>)</div>
<div class="line">    {</div>
<div class="line">        printf(<span class="stringliteral">&quot;Unable to clear camera list. Aborting with error %d...\n\n&quot;</span>, err);</div>
<div class="line">        <span class="keywordflow">return</span> err;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    err = <a class="code" href="group___c_camera_list.html#ga74ba2e784a51ae95c90dd1cbb14fb5d7">spinCameraListDestroy</a>(hCameraList);</div>
<div class="line">    <span class="keywordflow">if</span> (err != <a class="code" href="group___spinnaker_enums_c.html#gga7a654d05a5874764fbe51f90f2913601ac9354a00188c96e865dd75134aaf12e2">SPINNAKER_ERR_SUCCESS</a>)</div>
<div class="line">    {</div>
<div class="line">        printf(<span class="stringliteral">&quot;Unable to destroy camera list. Aborting with error %d...\n\n&quot;</span>, err);</div>
<div class="line">        <span class="keywordflow">return</span> err;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="comment">// Release system</span></div>
<div class="line">    err = <a class="code" href="group___c_system.html#gab7fee02328eab0851be82e7b3663cb4f">spinSystemReleaseInstance</a>(hSystem);</div>
<div class="line">    <span class="keywordflow">if</span> (err != <a class="code" href="group___spinnaker_enums_c.html#gga7a654d05a5874764fbe51f90f2913601ac9354a00188c96e865dd75134aaf12e2">SPINNAKER_ERR_SUCCESS</a>)</div>
<div class="line">    {</div>
<div class="line">        printf(<span class="stringliteral">&quot;Unable to release system instance. Aborting with error %d...\n\n&quot;</span>, err);</div>
<div class="line">        <span class="keywordflow">return</span> err;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    printf(<span class="stringliteral">&quot;\nDone! Press Enter to exit...\n&quot;</span>);</div>
<div class="line">    getchar();</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">return</span> errReturn;</div>
<div class="line">}</div>
</div><!-- fragment --> </div><!-- contents -->

  <table style="width: 100%;border-spacing: 0px 0px;border-left-style: solid;border-left-width: ;border-left-color: #8c8888;border-right-style: solid;border-right-width: ;border-right-color: #8c8888;border-top-style: solid;border-top-width: ;border-top-color: #8c8888;border-bottom-style: solid;border-bottom-width: ;border-bottom-color: #8c8888;margin-left: 0;margin-right: auto;padding: 0px">
    <col />
    <col />
    <col />
        <tbody>
            <tr>
                <td style="background-color: #8c8888;color: #ffffff;"><a class="footer" href="https://www.flir.com/support-center/rma/iis-support-request">Contact Support </a> </td>
                <td style="background-color: #8c8888;color: #ffffff;text-align: center;font-size: 16px;font-weight: bold">Spinnaker&#174; SDK Programmer's Guide and API Reference</td>
                <td style="background-color: #8c8888;color: #ffffff;text-align: right;"><address class="footer">
Wed Sep 30 2020 &#160;© <a class="footer" href="https://www.flir.com/iis/machine-vision">FLIR Integrated Imaging Solutions Inc. All rights reserved.</a></address></td>
            </tr>
        </tbody>
  </table>
</body>
</html>
