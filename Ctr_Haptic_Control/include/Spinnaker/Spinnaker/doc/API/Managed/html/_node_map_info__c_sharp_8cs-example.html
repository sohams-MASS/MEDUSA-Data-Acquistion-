<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
  <title>Spinnaker Managed: NodeMapInfo_CSharp.cs</title>
  <link href="tabs.css" rel="stylesheet" type="text/css"/>
  <script type="text/javascript" src="jquery.js"></script>
  <script type="text/javascript" src="dynsections.js"></script>
  <script type="text/javascript" src="ga.js"></script>
  <link href="stylesheet.css" rel="stylesheet" type="text/css" />
</head>
<body>
  <div id="top"><!-- do not remove this div! -->
  <div id="titlearea">
    <table cellspacing="0" cellpadding="0.9em" width="100%">
      <tbody>
        <tr style="height: 56px;">
          <td id="projectlogo" style="padding-left: 0.9em;text-align: left;background: #ffffff;background: linear-gradient(#002f86, #ffffff);color: #ffffff;" width="30%"><a href="https://www.flir.com/iis/machine-vision"><img alt="Logo" src="FLIR_Logo.png"/></a></td>
          <td style="padding-left: 0.5em;text-align: left;background: #002f86;background: linear-gradient(#002f86, #ffffff);color: #ffffff;" width="30%"><div id="projectname">Spinnaker Managed</div></td>
          <td style="padding-right: 0.9em;text-align: right;background: #002f86;background: linear-gradient(#002f86, #ffffff);color: #ffffff;" width="30%"><div id="projectname"><span id="projectnumber">2.0.0.0</span></td>
        </tr>
      </tbody>
    </table>
  </div>
<!-- Generated by Doxygen 1.8.5 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="examples.html"><span>Examples</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">NodeMapInfo_CSharp.cs</div>  </div>
</div><!--header-->
<div class="contents">
<p>NodeMapInfo_CSharp.cs shows how to retrieve node map information.It relies on information provided in the <a class="el" href="namespace_enumeration___c_sharp.html">Enumeration_CSharp</a> example. Following this, check out the <a class="el" href="namespace_acquisition___c_sharp.html">Acquisition_CSharp</a> and ExceptionHandling_CSharp example if you haven't already. It explores acquiring images. </p>
<pre class="fragment">This example explores retrieving information from all major node types on
</pre><p> the camera. This includes string, integer, float, boolean, command, enumeration, category, and value types. Looping through multiple child nodes is also covered. A few node types are not covered here - base, port, and register - as they are not representations of a fundamental data types. Enumeration entry node type is explored only in terms of its enumeration type parent. </p>
<pre class="fragment">Once comfortable with Acquisition_CSharp and NodeMapInfo_CSharp, we suggest
</pre><p> checking out <a class="el" href="namespace_image_format_control___c_sharp.html">ImageFormatControl_CSharp</a> and <a class="el" href="namespace_exposure___c_sharp.html">Exposure_CSharp</a>. <a class="el" href="namespace_image_format_control___c_sharp.html">ImageFormatControl_CSharp</a> explores customizing image settings on a camera while <a class="el" href="namespace_exposure___c_sharp.html">Exposure_CSharp</a> introduces the standard structure of configuring a device, acquiring some images, and then returning the device to a default state.</p>
<div class="fragment"><div class="line"><span class="comment">//=============================================================================</span></div>
<div class="line"><span class="comment">// Copyright (c) 2001-2019 FLIR Systems, Inc. All Rights Reserved.</span></div>
<div class="line"><span class="comment">//</span></div>
<div class="line"><span class="comment">// This software is the confidential and proprietary information of FLIR</span></div>
<div class="line"><span class="comment">// Integrated Imaging Solutions, Inc. (&quot;Confidential Information&quot;). You</span></div>
<div class="line"><span class="comment">// shall not disclose such Confidential Information and shall use it only in</span></div>
<div class="line"><span class="comment">// accordance with the terms of the license agreement you entered into</span></div>
<div class="line"><span class="comment">// with FLIR Integrated Imaging Solutions, Inc. (FLIR).</span></div>
<div class="line"><span class="comment">//</span></div>
<div class="line"><span class="comment">// FLIR MAKES NO REPRESENTATIONS OR WARRANTIES ABOUT THE SUITABILITY OF THE</span></div>
<div class="line"><span class="comment">// SOFTWARE, EITHER EXPRESSED OR IMPLIED, INCLUDING, BUT NOT LIMITED TO, THE</span></div>
<div class="line"><span class="comment">// IMPLIED WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR</span></div>
<div class="line"><span class="comment">// PURPOSE, OR NON-INFRINGEMENT. FLIR SHALL NOT BE LIABLE FOR ANY DAMAGES</span></div>
<div class="line"><span class="comment">// SUFFERED BY LICENSEE AS A RESULT OF USING, MODIFYING OR DISTRIBUTING</span></div>
<div class="line"><span class="comment">// THIS SOFTWARE OR ITS DERIVATIVES.</span></div>
<div class="line"><span class="comment">//=============================================================================</span></div>
<div class="line"></div>
<div class="line"><span class="keyword">using</span> System;</div>
<div class="line"><span class="keyword">using</span> System.Collections.Generic;</div>
<div class="line"><span class="keyword">using</span> SpinnakerNET;</div>
<div class="line"><span class="keyword">using</span> SpinnakerNET.GenApi;</div>
<div class="line"></div>
<div class="line"><span class="keyword">namespace </span>NodeMapInfo_CSharp</div>
<div class="line">{</div>
<div class="line">    <span class="keyword">class </span>Program</div>
<div class="line">    {</div>
<div class="line">        <span class="comment">// This constant defines the maximum number of characters that will be</span></div>
<div class="line">        <span class="comment">// printed out for any information retrieved from a node.</span></div>
<div class="line">        <span class="keyword">const</span> <span class="keywordtype">int</span> MaxChars = 35;</div>
<div class="line"></div>
<div class="line">        <span class="comment">// Use the following enum and global static variable to select whether</span></div>
<div class="line">        <span class="comment">// nodes are read as &#39;value&#39; nodes or their individual types.</span></div>
<div class="line">        <span class="keyword">enum</span> readType</div>
<div class="line">        {</div>
<div class="line">            <a name="a0"></a><a class="code" href="class_node_map_info___c_sharp_1_1_program.html#a91535a01f5228a92c8867b7e32bc5be1a689202409e48743b914713f96d93947c">Value</a>,</div>
<div class="line">            <a name="a1"></a><a class="code" href="class_node_map_info___c_sharp_1_1_program.html#a91535a01f5228a92c8867b7e32bc5be1a2dd4472245a696bc0b4b944db2a8b519">Individual</a></div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        <span class="keyword">static</span> readType chosenRead = readType.Value;</div>
<div class="line"></div>
<div class="line">        <span class="comment">// This helper function deals with output indentation, of which there</span></div>
<div class="line">        <span class="comment">// is a lot.</span></div>
<div class="line">        <span class="keywordtype">void</span> indent(<span class="keywordtype">int</span> level)</div>
<div class="line">        {</div>
<div class="line">            <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; level; i++)</div>
<div class="line">            {</div>
<div class="line">                Console.Write(<span class="stringliteral">&quot;   &quot;</span>);</div>
<div class="line">            }</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        <span class="comment">// This function retrieves and prints the display name and value of all</span></div>
<div class="line">        <span class="comment">// node types as value nodes. A value node is a general node type that</span></div>
<div class="line">        <span class="comment">// allows for the reading and writing of any node type as a string.</span></div>
<div class="line">        <span class="keywordtype">int</span> printValueNode(INode node, <span class="keywordtype">int</span> level)</div>
<div class="line">        {</div>
<div class="line">            <span class="keywordtype">int</span> result = 0;</div>
<div class="line"></div>
<div class="line">            <span class="keywordflow">try</span></div>
<div class="line">            {</div>
<div class="line">                <span class="comment">// Cast as value node</span></div>
<div class="line">                IValue iValueNode = (IValue) node;</div>
<div class="line"></div>
<div class="line">                <span class="comment">//</span></div>
<div class="line">                <span class="comment">// Retrieve display name</span></div>
<div class="line">                <span class="comment">//</span></div>
<div class="line">                <span class="comment">// *** NOTES ***</span></div>
<div class="line">                <span class="comment">// A node&#39;s &#39;display name&#39; is generally more appropriate for</span></div>
<div class="line">                <span class="comment">// output and user interaction whereas its &#39;name&#39; is what the</span></div>
<div class="line">                <span class="comment">// camera understands. Generally, its name is the same as its</span></div>
<div class="line">                <span class="comment">// display name but without spaces - for instance, the name of</span></div>
<div class="line">                <span class="comment">// the node that houses a camera&#39;s serial number is</span></div>
<div class="line">                <span class="comment">// &#39;DeviceSerialNumber&#39; while its display name is &#39;Device</span></div>
<div class="line">                <span class="comment">// Serial Number&#39;.</span></div>
<div class="line">                <span class="comment">//</span></div>
<div class="line">                <span class="keywordtype">string</span> displayName = iValueNode.DisplayName;</div>
<div class="line"></div>
<div class="line">                <span class="comment">//</span></div>
<div class="line">                <span class="comment">// Retrieve value of any node type as string</span></div>
<div class="line">                <span class="comment">//</span></div>
<div class="line">                <span class="comment">// *** NOTES ***</span></div>
<div class="line">                <span class="comment">// Because value nodes return any node type as a string, it can be much</span></div>
<div class="line">                <span class="comment">// easier to deal with nodes as value nodes rather than their actural</span></div>
<div class="line">                <span class="comment">// individual types. However, certain type-based functionality</span></div>
<div class="line">                <span class="comment">// - e.g. getMin(), which is only available on integer and float nodes</span></div>
<div class="line">                <span class="comment">// - is unavailable if cast as a value node.</span></div>
<div class="line">                <span class="keywordtype">string</span> value = iValueNode.ToString();</div>
<div class="line"></div>
<div class="line">                <span class="comment">// Ensure that the value length is not excessive for printing</span></div>
<div class="line">                <span class="keywordflow">if</span> (value.Length &gt; MaxChars)</div>
<div class="line">                {</div>
<div class="line">                    value = value.Substring(0, MaxChars) + <span class="stringliteral">&quot;...&quot;</span>;</div>
<div class="line">                }</div>
<div class="line"></div>
<div class="line">                <span class="comment">// Print value</span></div>
<div class="line">                indent(level);</div>
<div class="line">                Console.WriteLine(<span class="stringliteral">&quot;{0}: {1}&quot;</span>, displayName, value);</div>
<div class="line">            }</div>
<div class="line">            <span class="keywordflow">catch</span> (SpinnakerException ex)</div>
<div class="line">            {</div>
<div class="line">                Console.WriteLine(<span class="stringliteral">&quot;Error: {0}&quot;</span>, ex.Message);</div>
<div class="line">                result = -1;</div>
<div class="line">            }</div>
<div class="line"></div>
<div class="line">            <span class="keywordflow">return</span> result;</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        <span class="comment">// This function retrieves and prints the display name and value of a</span></div>
<div class="line">        <span class="comment">// string node, limiting the number of printed characters to a maximum</span></div>
<div class="line">        <span class="comment">// defined by MaxChars constant. Level parameter determines the</span></div>
<div class="line">        <span class="comment">// indentation level for the output.</span></div>
<div class="line">        <span class="keywordtype">int</span> printStringNode(INode node, <span class="keywordtype">int</span> level)</div>
<div class="line">        {</div>
<div class="line">            <span class="keywordtype">int</span> result = 0;</div>
<div class="line"></div>
<div class="line">            <span class="keywordflow">try</span></div>
<div class="line">            {</div>
<div class="line">                <span class="comment">// Cast as string node</span></div>
<div class="line">                IString iStringNode = (IString) node;</div>
<div class="line"></div>
<div class="line">                <span class="comment">// Retrieve display name</span></div>
<div class="line">                <span class="keywordtype">string</span> displayName = iStringNode.DisplayName;</div>
<div class="line"></div>
<div class="line">                <span class="comment">//</span></div>
<div class="line">                <span class="comment">// Retrieve string node value</span></div>
<div class="line">                <span class="comment">//</span></div>
<div class="line">                <span class="comment">// *** NOTES ***</span></div>
<div class="line">                <span class="comment">// String node values in C# return string literals.</span></div>
<div class="line">                <span class="comment">//</span></div>
<div class="line">                <span class="keywordtype">string</span> value = iStringNode.Value;</div>
<div class="line"></div>
<div class="line">                <span class="comment">// Ensure that the value length is not excessive for printing</span></div>
<div class="line">                <span class="keywordflow">if</span> (value.Length &gt; MaxChars)</div>
<div class="line">                {</div>
<div class="line">                    value = value.Substring(0, MaxChars) + <span class="stringliteral">&quot;...&quot;</span>;</div>
<div class="line">                }</div>
<div class="line"></div>
<div class="line">                <span class="comment">// Print value</span></div>
<div class="line">                indent(level);</div>
<div class="line">                Console.WriteLine(<span class="stringliteral">&quot;{0}: {1}&quot;</span>, displayName, value);</div>
<div class="line">            }</div>
<div class="line">            <span class="keywordflow">catch</span> (SpinnakerException ex)</div>
<div class="line">            {</div>
<div class="line">                Console.WriteLine(<span class="stringliteral">&quot;Error: {0}&quot;</span>, ex.Message);</div>
<div class="line">                result = -1;</div>
<div class="line">            }</div>
<div class="line"></div>
<div class="line">            <span class="keywordflow">return</span> result;</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        <span class="comment">// This function retrieves and prints the display name and value of an</span></div>
<div class="line">        <span class="comment">// integer node.</span></div>
<div class="line">        <span class="keywordtype">int</span> printIntegerNode(INode node, <span class="keywordtype">int</span> level)</div>
<div class="line">        {</div>
<div class="line">            <span class="keywordtype">int</span> result = 0;</div>
<div class="line"></div>
<div class="line">            <span class="keywordflow">try</span></div>
<div class="line">            {</div>
<div class="line">                <span class="comment">// Cast node as integer node</span></div>
<div class="line">                IInteger iIntegerNode = (IInteger) node;</div>
<div class="line"></div>
<div class="line">                <span class="comment">// Retrieve display name</span></div>
<div class="line">                <span class="keywordtype">string</span> displayName = iIntegerNode.DisplayName;</div>
<div class="line"></div>
<div class="line">                <span class="comment">//</span></div>
<div class="line">                <span class="comment">// Retrieve integer node value</span></div>
<div class="line">                <span class="comment">//</span></div>
<div class="line">                <span class="comment">// *** NOTES ***</span></div>
<div class="line">                <span class="comment">// Keep in mind that the data type of an integer node value is</span></div>
<div class="line">                <span class="comment">// a long as opposed to a standard int. While it is true that</span></div>
<div class="line">                <span class="comment">// the two are often interchangeable, it is recommended to use</span></div>
<div class="line">                <span class="comment">// long to avoid the introduction of bugs.</span></div>
<div class="line">                <span class="comment">//</span></div>
<div class="line">                <span class="comment">// All node types except for base and port nodes include a handy</span></div>
<div class="line">                <span class="comment">// ToString() method which returns a value as a string literal.</span></div>
<div class="line">                <span class="comment">//</span></div>
<div class="line">                <span class="keywordtype">long</span> value = iIntegerNode.Value;</div>
<div class="line"></div>
<div class="line">                <span class="comment">// Print value</span></div>
<div class="line">                indent(level);</div>
<div class="line">                Console.WriteLine(<span class="stringliteral">&quot;{0}: {1}&quot;</span>, displayName, value);</div>
<div class="line">            }</div>
<div class="line">            <span class="keywordflow">catch</span> (SpinnakerException ex)</div>
<div class="line">            {</div>
<div class="line">                Console.WriteLine(<span class="stringliteral">&quot;Error: {0}&quot;</span>, ex.Message);</div>
<div class="line">                result = -1;</div>
<div class="line">            }</div>
<div class="line"></div>
<div class="line">            <span class="keywordflow">return</span> result;</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        <span class="comment">// This function retrieves and prints the display name and value of a</span></div>
<div class="line">        <span class="comment">// float node.</span></div>
<div class="line">        <span class="keywordtype">int</span> printFloatNode(INode node, <span class="keywordtype">int</span> level)</div>
<div class="line">        {</div>
<div class="line">            <span class="keywordtype">int</span> result = 0;</div>
<div class="line"></div>
<div class="line">            <span class="keywordflow">try</span></div>
<div class="line">            {</div>
<div class="line">                <span class="comment">// Cast as float node</span></div>
<div class="line">                IFloat iFloatNode = (IFloat) node;</div>
<div class="line"></div>
<div class="line">                <span class="comment">// Retrieve display name</span></div>
<div class="line">                <span class="keywordtype">string</span> displayName = iFloatNode.DisplayName;</div>
<div class="line"></div>
<div class="line">                <span class="comment">//</span></div>
<div class="line">                <span class="comment">// Retrieve float node value</span></div>
<div class="line">                <span class="comment">//</span></div>
<div class="line">                <span class="comment">// *** NOTES ***</span></div>
<div class="line">                <span class="comment">// Please take note that floating point numbers in the Spinnaker</span></div>
<div class="line">                <span class="comment">// SDK are almost always represented by the larger data type</span></div>
<div class="line">                <span class="comment">// double rather than float.</span></div>
<div class="line">                <span class="comment">//</span></div>
<div class="line">                <span class="keywordtype">double</span> value = iFloatNode.Value;</div>
<div class="line"></div>
<div class="line">                <span class="comment">// Print value</span></div>
<div class="line">                indent(level);</div>
<div class="line">                Console.WriteLine(<span class="stringliteral">&quot;{0}: {1}&quot;</span>, displayName, value);</div>
<div class="line">            }</div>
<div class="line">            <span class="keywordflow">catch</span> (SpinnakerException ex)</div>
<div class="line">            {</div>
<div class="line">                Console.WriteLine(<span class="stringliteral">&quot;Error: {0}&quot;</span>, ex.Message);</div>
<div class="line">                result = -1;</div>
<div class="line">            }</div>
<div class="line"></div>
<div class="line">            <span class="keywordflow">return</span> result;</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        <span class="comment">// This function retrieves and prints the display name and value of a</span></div>
<div class="line">        <span class="comment">// boolean, printing &quot;true&quot; for true and &quot;false&quot; for false rather than</span></div>
<div class="line">        <span class="comment">// the corresponding integer value (&#39;1&#39; and &#39;0&#39;, respectively).</span></div>
<div class="line">        <span class="keywordtype">int</span> printBooleanNode(INode node, <span class="keywordtype">int</span> level)</div>
<div class="line">        {</div>
<div class="line">            <span class="keywordtype">int</span> result = 0;</div>
<div class="line"></div>
<div class="line">            <span class="keywordflow">try</span></div>
<div class="line">            {</div>
<div class="line">                <span class="comment">// Cast as boolean node</span></div>
<div class="line">                IBool iBooleanNode = (IBool) node;</div>
<div class="line"></div>
<div class="line">                <span class="comment">// Retrieve display name</span></div>
<div class="line">                <span class="keywordtype">string</span> displayName = iBooleanNode.DisplayName;</div>
<div class="line"></div>
<div class="line">                <span class="comment">//</span></div>
<div class="line">                <span class="comment">// Retrieve value as a string representation</span></div>
<div class="line">                <span class="comment">//</span></div>
<div class="line">                <span class="comment">// *** NOTES ***</span></div>
<div class="line">                <span class="comment">// Boolean node type values are represented by the standard</span></div>
<div class="line">                <span class="comment">// bool data type. The boolean ToString() method returns either</span></div>
<div class="line">                <span class="comment">// a &#39;1&#39; or &#39;0&#39; as a string rather than a more descriptive word</span></div>
<div class="line">                <span class="comment">// like &#39;true&#39; or &#39;false&#39;.</span></div>
<div class="line">                <span class="comment">//</span></div>
<div class="line">                <span class="keywordtype">string</span> value = (iBooleanNode.Value ? <span class="stringliteral">&quot;true&quot;</span> : <span class="stringliteral">&quot;false&quot;</span>);</div>
<div class="line"></div>
<div class="line">                <span class="comment">// Print value</span></div>
<div class="line">                indent(level);</div>
<div class="line">                Console.WriteLine(<span class="stringliteral">&quot;{0}: {1}&quot;</span>, displayName, value);</div>
<div class="line">            }</div>
<div class="line">            <span class="keywordflow">catch</span> (SpinnakerException ex)</div>
<div class="line">            {</div>
<div class="line">                Console.WriteLine(<span class="stringliteral">&quot;Error: {0}&quot;</span>, ex.Message);</div>
<div class="line">                result = -1;</div>
<div class="line">            }</div>
<div class="line"></div>
<div class="line">            <span class="keywordflow">return</span> result;</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        <span class="comment">// This function retrieves and prints the display name and tooltip of a</span></div>
<div class="line">        <span class="comment">// command node, limiting the number of printed characters to a</span></div>
<div class="line">        <span class="comment">// constant-defined maximum. The tooltip is printed because command</span></div>
<div class="line">        <span class="comment">// nodes do not have an intelligible value.</span></div>
<div class="line">        <span class="keywordtype">int</span> printCommandNode(INode node, <span class="keywordtype">int</span> level)</div>
<div class="line">        {</div>
<div class="line">            <span class="keywordtype">int</span> result = 0;</div>
<div class="line"></div>
<div class="line">            <span class="keywordflow">try</span></div>
<div class="line">            {</div>
<div class="line">                <span class="comment">// Cast as command node</span></div>
<div class="line">                ICommand iCommandNode = (ICommand) node;</div>
<div class="line"></div>
<div class="line">                <span class="comment">// Retrieve display name</span></div>
<div class="line">                <span class="keywordtype">string</span> displayName = iCommandNode.DisplayName;</div>
<div class="line"></div>
<div class="line">                <span class="comment">//</span></div>
<div class="line">                <span class="comment">// Retrieve tooltip</span></div>
<div class="line">                <span class="comment">//</span></div>
<div class="line">                <span class="comment">// *** NOTES ***</span></div>
<div class="line">                <span class="comment">// All node types have a tooltip available. Tooltips provide</span></div>
<div class="line">                <span class="comment">// useful information about nodes. Command nodes do not have a</span></div>
<div class="line">                <span class="comment">// method to retrieve values as their is no intelligible value</span></div>
<div class="line">                <span class="comment">// to retrieve.</span></div>
<div class="line">                <span class="comment">//</span></div>
<div class="line">                <span class="keywordtype">string</span> tooltip = iCommandNode.ToolTip;</div>
<div class="line"></div>
<div class="line">                <span class="comment">// Ensure that the value length is not excessive for printing</span></div>
<div class="line">                <span class="keywordflow">if</span> (tooltip.Length &gt; MaxChars)</div>
<div class="line">                {</div>
<div class="line">                    tooltip = tooltip.Substring(0, MaxChars) + <span class="stringliteral">&quot;...&quot;</span>;</div>
<div class="line">                }</div>
<div class="line"></div>
<div class="line">                <span class="comment">// Print tooltip</span></div>
<div class="line">                indent(level);</div>
<div class="line">                Console.WriteLine(<span class="stringliteral">&quot;{0}: {1}&quot;</span>, displayName, tooltip);</div>
<div class="line">            }</div>
<div class="line">            <span class="keywordflow">catch</span> (SpinnakerException ex)</div>
<div class="line">            {</div>
<div class="line">                Console.WriteLine(<span class="stringliteral">&quot;Error: {0}&quot;</span>, ex.Message);</div>
<div class="line">                result = -1;</div>
<div class="line">            }</div>
<div class="line"></div>
<div class="line">            <span class="keywordflow">return</span> result;</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        <span class="comment">// This function retrieves and prints the display names of an enumeration</span></div>
<div class="line">        <span class="comment">// node and its current entry (which is actually housed in another node</span></div>
<div class="line">        <span class="comment">// unto itself).</span></div>
<div class="line">        <span class="keywordtype">int</span> printEnumerationNodeAndCurrentEntry(INode node, <span class="keywordtype">int</span> level)</div>
<div class="line">        {</div>
<div class="line">            <span class="keywordtype">int</span> result = 0;</div>
<div class="line"></div>
<div class="line">            <span class="keywordflow">try</span></div>
<div class="line">            {</div>
<div class="line">                <span class="comment">// Cast as enumeration node</span></div>
<div class="line">                IEnum iEnumerationNode = (IEnum) node;</div>
<div class="line"></div>
<div class="line">                <span class="comment">//</span></div>
<div class="line">                <span class="comment">// Retrieve current entry as enumeration node</span></div>
<div class="line">                <span class="comment">//</span></div>
<div class="line">                <span class="comment">// *** NOTES ***</span></div>
<div class="line">                <span class="comment">// Enumeration nodes have three methods to differentiate between:</span></div>
<div class="line">                <span class="comment">// first, GetIntValue() returns the integer value of the current</span></div>
<div class="line">                <span class="comment">// entry node; second, GetCurrentEntry() returns the entry node</span></div>
<div class="line">                <span class="comment">// itself; and third, ToString() returns the symbolic of the</span></div>
<div class="line">                <span class="comment">// current entry.</span></div>
<div class="line">                <span class="comment">//</span></div>
<div class="line">                EnumValue iEnumEntryValue = iEnumerationNode.Value;</div>
<div class="line"></div>
<div class="line">                <span class="comment">// Retrieve display name</span></div>
<div class="line">                <span class="keywordtype">string</span> displayName = iEnumerationNode.DisplayName;</div>
<div class="line"></div>
<div class="line">                <span class="comment">//</span></div>
<div class="line">                <span class="comment">// Retrieve current symbolic</span></div>
<div class="line">                <span class="comment">//</span></div>
<div class="line">                <span class="comment">// *** NOTES ***</span></div>
<div class="line">                <span class="comment">// Rather than retrieving the current entry node and then</span></div>
<div class="line">                <span class="comment">// retrieving its symbolic, ToString() accomplishes both</span></div>
<div class="line">                <span class="comment">// in a single step.</span></div>
<div class="line">                <span class="comment">//</span></div>
<div class="line">                <span class="keywordtype">string</span> currentEntrySymbolic = iEnumEntryValue.String;</div>
<div class="line"></div>
<div class="line">                <span class="comment">// Print current entry symbolic</span></div>
<div class="line">                indent(level);</div>
<div class="line">                Console.WriteLine(<span class="stringliteral">&quot;{0}: {1}&quot;</span>, displayName, currentEntrySymbolic);</div>
<div class="line">            }</div>
<div class="line">            <span class="keywordflow">catch</span> (SpinnakerException ex)</div>
<div class="line">            {</div>
<div class="line">                Console.WriteLine(<span class="stringliteral">&quot;Error: {0}&quot;</span>, ex.Message);</div>
<div class="line">                result = -1;</div>
<div class="line">            }</div>
<div class="line"></div>
<div class="line">            <span class="keywordflow">return</span> result;</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        <span class="comment">// This function retrieves and prints out the display name of a category</span></div>
<div class="line">        <span class="comment">// node before printing all child nodes. Child nodes that are also</span></div>
<div class="line">        <span class="comment">// category nodes are  printed recursively.</span></div>
<div class="line">        <span class="keywordtype">int</span> printCategoryNodeAndAllFeatures(INode node, <span class="keywordtype">int</span> level)</div>
<div class="line">        {</div>
<div class="line">            <span class="keywordtype">int</span> result = 0;</div>
<div class="line"></div>
<div class="line">            <span class="keywordflow">try</span></div>
<div class="line">            {</div>
<div class="line">                <span class="comment">// Cast as category node</span></div>
<div class="line">                ICategory iCategoryNode = (ICategory) node;</div>
<div class="line"></div>
<div class="line">                <span class="comment">// Retrieve display name</span></div>
<div class="line">                <span class="keywordtype">string</span> displayName = iCategoryNode.DisplayName;</div>
<div class="line"></div>
<div class="line">                <span class="comment">// Print display name</span></div>
<div class="line">                indent(level);</div>
<div class="line">                Console.WriteLine(<span class="stringliteral">&quot;{0}&quot;</span>, displayName);</div>
<div class="line"></div>
<div class="line">                <span class="comment">//</span></div>
<div class="line">                <span class="comment">// Retrieve children</span></div>
<div class="line">                <span class="comment">//</span></div>
<div class="line">                <span class="comment">// *** NOTES ***</span></div>
<div class="line">                <span class="comment">// The two nodes that typically have children are category nodes</span></div>
<div class="line">                <span class="comment">// and enumeration nodes. Throughout the examples, the children</span></div>
<div class="line">                <span class="comment">// of category nodes are referred to as features while the</span></div>
<div class="line">                <span class="comment">// children of enumeration nodes are referred to as entries.</span></div>
<div class="line">                <span class="comment">// Keep in mind that enumeration nodes can be cast as category</span></div>
<div class="line">                <span class="comment">// nodes, but category nodes cannot be cast as enumerations.</span></div>
<div class="line">                <span class="comment">//</span></div>
<div class="line">                INode[] features = iCategoryNode.Features;</div>
<div class="line"></div>
<div class="line">                <span class="comment">//</span></div>
<div class="line">                <span class="comment">// Iterate through all children</span></div>
<div class="line">                <span class="comment">//</span></div>
<div class="line">                <span class="comment">// *** NOTES ***</span></div>
<div class="line">                <span class="comment">// If dealing with a variety of node types and their values, it</span></div>
<div class="line">                <span class="comment">// may be simpler to cast them as value nodes rather than as</span></div>
<div class="line">                <span class="comment">// their individual types. However, with this increased</span></div>
<div class="line">                <span class="comment">// ease -of-use, functionality is sacrificed.</span></div>
<div class="line">                <span class="comment">//</span></div>
<div class="line">                <span class="keywordflow">foreach</span>(INode iFeatureNode <span class="keywordflow">in</span> features)</div>
<div class="line">                {</div>
<div class="line">                    <span class="comment">// Ensure node is available and readable</span></div>
<div class="line">                    <span class="keywordflow">if</span> (!iFeatureNode.IsAvailable || !iFeatureNode.IsReadable)</div>
<div class="line">                    {</div>
<div class="line">                        <span class="keywordflow">continue</span>;</div>
<div class="line">                    }</div>
<div class="line"></div>
<div class="line">                    <span class="comment">// Category nodes must be dealt with separately in order to</span></div>
<div class="line">                    <span class="comment">// retrieve subnodes recursively.</span></div>
<div class="line">                    <span class="keywordflow">if</span> (iFeatureNode.GetType() == typeof (Category))</div>
<div class="line">                    {</div>
<div class="line">                        result = result | printCategoryNodeAndAllFeatures(iFeatureNode, level + 1);</div>
<div class="line">                    }</div>
<div class="line">                    <span class="comment">// Cast all non-category nodes as value nodes</span></div>
<div class="line">                    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (chosenRead == readType.Value)</div>
<div class="line">                    {</div>
<div class="line">                        result = result | printValueNode(iFeatureNode, level + 1);</div>
<div class="line">                    }</div>
<div class="line">                    <span class="comment">// Cast all non-category nodes as actual types</span></div>
<div class="line">                    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (chosenRead == readType.Individual)</div>
<div class="line">                    {</div>
<div class="line">                        <span class="keywordflow">if</span> (iFeatureNode.GetType() == typeof (StringNode))</div>
<div class="line">                        {</div>
<div class="line">                            result = result | printStringNode(iFeatureNode, level + 1);</div>
<div class="line">                        }</div>
<div class="line">                        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (iFeatureNode.GetType() == typeof (Integer))</div>
<div class="line">                        {</div>
<div class="line">                            result = result | printIntegerNode(iFeatureNode, level + 1);</div>
<div class="line">                        }</div>
<div class="line">                        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (iFeatureNode.GetType() == typeof (Float))</div>
<div class="line">                        {</div>
<div class="line">                            result = result | printFloatNode(iFeatureNode, level + 1);</div>
<div class="line">                        }</div>
<div class="line">                        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (iFeatureNode.GetType() == typeof (BoolNode))</div>
<div class="line">                        {</div>
<div class="line">                            result = result | printBooleanNode(iFeatureNode, level + 1);</div>
<div class="line">                        }</div>
<div class="line">                        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (iFeatureNode.GetType() == typeof (Command))</div>
<div class="line">                        {</div>
<div class="line">                            result = result | printCommandNode(iFeatureNode, level + 1);</div>
<div class="line">                        }</div>
<div class="line">                        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (iFeatureNode.GetType() == typeof (Enumeration))</div>
<div class="line">                        {</div>
<div class="line">                            result = result | printEnumerationNodeAndCurrentEntry(iFeatureNode, level + 1);</div>
<div class="line">                        }</div>
<div class="line">                    }</div>
<div class="line">                }</div>
<div class="line">                Console.WriteLine();</div>
<div class="line">            }</div>
<div class="line">            <span class="keywordflow">catch</span> (SpinnakerException ex)</div>
<div class="line">            {</div>
<div class="line">                Console.WriteLine(<span class="stringliteral">&quot;Error: {0}&quot;</span>, ex.Message);</div>
<div class="line">                result = -1;</div>
<div class="line">            }</div>
<div class="line"></div>
<div class="line">            <span class="keywordflow">return</span> result;</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        <span class="comment">// This function acts as the body of the example. First, nodes from the</span></div>
<div class="line">        <span class="comment">// transport layer device and stream nodemaps are retrieved and printed.</span></div>
<div class="line">        <span class="comment">// Following this, the camera is initialized and nodes from the</span></div>
<div class="line">        <span class="comment">// GenICam are retrieved and printed.</span></div>
<div class="line">        <span class="keywordtype">int</span> RunSingleCamera(IManagedCamera cam)</div>
<div class="line">        {</div>
<div class="line">            <span class="keywordtype">int</span> result = 0;</div>
<div class="line">            <span class="keywordtype">int</span> level = 0;</div>
<div class="line"></div>
<div class="line">            <span class="keywordflow">try</span></div>
<div class="line">            {</div>
<div class="line">                <span class="comment">//</span></div>
<div class="line">                <span class="comment">// Retrieve TL device nodemap</span></div>
<div class="line">                <span class="comment">//</span></div>
<div class="line">                <span class="comment">// *** NOTES ***</span></div>
<div class="line">                <span class="comment">// The TL device nodemap is available on the transport</span></div>
<div class="line">                <span class="comment">// layer. As such, camera initialization is unnecessary. It</span></div>
<div class="line">                <span class="comment">// provides mostly immutable information fundamental to the</span></div>
<div class="line">                <span class="comment">// camera such as the serial number, vendor, and model.</span></div>
<div class="line">                <span class="comment">//</span></div>
<div class="line">                Console.WriteLine(<span class="stringliteral">&quot;\n*** PRINTING TL DEVICE NODEMAP ***\n&quot;</span>);</div>
<div class="line"></div>
<div class="line">                INodeMap genTLNodeMap = cam.GetTLDeviceNodeMap();</div>
<div class="line"></div>
<div class="line">                result = printCategoryNodeAndAllFeatures(genTLNodeMap.GetNode&lt;ICategory&gt;(<span class="stringliteral">&quot;Root&quot;</span>), level);</div>
<div class="line"></div>
<div class="line">                <span class="comment">//</span></div>
<div class="line">                <span class="comment">// Retrieve TL stream nodemap</span></div>
<div class="line">                <span class="comment">//</span></div>
<div class="line">                <span class="comment">// *** NOTES ***</span></div>
<div class="line">                <span class="comment">// The TL stream nodemap is also available on the transport layer.</span></div>
<div class="line">                <span class="comment">// Camera initialization is again unnecessary. As you can</span></div>
<div class="line">                <span class="comment">// probably guess, it provides information on the camera&#39;s</span></div>
<div class="line">                <span class="comment">// streaming performance at any given moment. Having this</span></div>
<div class="line">                <span class="comment">// information available on the transport layer allows the</span></div>
<div class="line">                <span class="comment">// information to be retrieved without affecting camera</span></div>
<div class="line">                <span class="comment">// performance.</span></div>
<div class="line">                <span class="comment">//</span></div>
<div class="line">                Console.WriteLine(<span class="stringliteral">&quot;*** PRINTING TL STREAM NODEMAP ***\n&quot;</span>);</div>
<div class="line"></div>
<div class="line">                INodeMap nodeMapTLStream = cam.GetTLStreamNodeMap();</div>
<div class="line"></div>
<div class="line">                result = result | printCategoryNodeAndAllFeatures(nodeMapTLStream.GetNode&lt;ICategory&gt;(<span class="stringliteral">&quot;Root&quot;</span>), level);</div>
<div class="line"></div>
<div class="line">                <span class="comment">//</span></div>
<div class="line">                <span class="comment">// Initialize camera</span></div>
<div class="line">                <span class="comment">//</span></div>
<div class="line">                <span class="comment">// *** NOTES ***</span></div>
<div class="line">                <span class="comment">// The camera becomes connected upon initialization. This</span></div>
<div class="line">                <span class="comment">// provides access to configurable options and additional</span></div>
<div class="line">                <span class="comment">// information, accessible through the GenICam nodemap</span></div>
<div class="line">                <span class="comment">// nodemap.</span></div>
<div class="line">                <span class="comment">//</span></div>
<div class="line">                <span class="comment">// *** LATER ***</span></div>
<div class="line">                <span class="comment">// Cameras should be deinitialized when no longer needed.</span></div>
<div class="line">                <span class="comment">//</span></div>
<div class="line">                Console.WriteLine(<span class="stringliteral">&quot;*** PRINTING GENICAM NODEMAP ***\n&quot;</span>);</div>
<div class="line"></div>
<div class="line">                cam.Init();</div>
<div class="line"></div>
<div class="line">                <span class="comment">//</span></div>
<div class="line">                <span class="comment">// Retrieve GenICam nodemap</span></div>
<div class="line">                <span class="comment">//</span></div>
<div class="line">                <span class="comment">// *** NOTES ***</span></div>
<div class="line">                <span class="comment">// The GenICam nodemap is the primary gateway to customizing</span></div>
<div class="line">                <span class="comment">// and configuring the camera to suit your needs. Configuration</span></div>
<div class="line">                <span class="comment">// options such as image height and width, trigger mode enabling</span></div>
<div class="line">                <span class="comment">// and disabling</span></div>
<div class="line">                <span class="comment">//</span></div>
<div class="line">                INodeMap appLayerNodeMap = cam.GetNodeMap();</div>
<div class="line"></div>
<div class="line">                result = result | printCategoryNodeAndAllFeatures(appLayerNodeMap.GetNode&lt;ICategory&gt;(<span class="stringliteral">&quot;Root&quot;</span>), level);</div>
<div class="line"></div>
<div class="line">                <span class="comment">//</span></div>
<div class="line">                <span class="comment">// Deinitialize camera</span></div>
<div class="line">                <span class="comment">//</span></div>
<div class="line">                <span class="comment">// *** NOTES ***</span></div>
<div class="line">                <span class="comment">// Camera deinitialization helps ensure that devices clean up</span></div>
<div class="line">                <span class="comment">// properly and do not need to be power-cycled to maintain</span></div>
<div class="line">                <span class="comment">// integrity.</span></div>
<div class="line">                <span class="comment">//</span></div>
<div class="line">                cam.DeInit();</div>
<div class="line"></div>
<div class="line">                <span class="comment">// Dispose of camera</span></div>
<div class="line">                cam.Dispose();</div>
<div class="line">            }</div>
<div class="line">            <span class="keywordflow">catch</span> (SpinnakerException ex)</div>
<div class="line">            {</div>
<div class="line">                Console.WriteLine(<span class="stringliteral">&quot;Error: {0}&quot;</span>, ex.Message);</div>
<div class="line">                result = -1;</div>
<div class="line">            }</div>
<div class="line"></div>
<div class="line">            <span class="keywordflow">return</span> result;</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        <span class="comment">// Example entry point; please see Enumeration_CSharp example for more</span></div>
<div class="line">        <span class="comment">// in-depth comments on preparing and cleaning up the system.</span></div>
<div class="line">        <span class="keyword">static</span> <span class="keywordtype">int</span> Main(<span class="keywordtype">string</span>[] args)</div>
<div class="line">        {</div>
<div class="line">            <span class="keywordtype">int</span> result = 0;</div>
<div class="line"></div>
<div class="line">            Program program = <span class="keyword">new</span> Program();</div>
<div class="line"></div>
<div class="line">            <span class="comment">// Retrieve singleton reference to system object</span></div>
<div class="line">            ManagedSystem system = <span class="keyword">new</span> ManagedSystem();</div>
<div class="line"></div>
<div class="line">            <span class="comment">// Print out current library version</span></div>
<div class="line">            LibraryVersion spinVersion = system.GetLibraryVersion();</div>
<div class="line">            Console.WriteLine(</div>
<div class="line">                <span class="stringliteral">&quot;Spinnaker library version: {0}.{1}.{2}.{3}\n\n&quot;</span>,</div>
<div class="line">                spinVersion.major,</div>
<div class="line">                spinVersion.minor,</div>
<div class="line">                spinVersion.type,</div>
<div class="line">                spinVersion.build);</div>
<div class="line"></div>
<div class="line">            <span class="comment">// Retrieve list of cameras from the system</span></div>
<div class="line">            ManagedCameraList camList = system.GetCameras();</div>
<div class="line"></div>
<div class="line">            Console.WriteLine(<span class="stringliteral">&quot;Number of cameras detected: {0}\n&quot;</span>, camList.Count);</div>
<div class="line"></div>
<div class="line">            <span class="comment">// Finish if there are no cameras</span></div>
<div class="line">            <span class="keywordflow">if</span> (camList.Count == 0)</div>
<div class="line">            {</div>
<div class="line">                <span class="comment">// Clear camera list before releasing system</span></div>
<div class="line">                camList.Clear();</div>
<div class="line"></div>
<div class="line">                <span class="comment">// Release system</span></div>
<div class="line">                system.Dispose();</div>
<div class="line"></div>
<div class="line">                Console.WriteLine(<span class="stringliteral">&quot;Not enough cameras!&quot;</span>);</div>
<div class="line">                Console.WriteLine(<span class="stringliteral">&quot;Done! Press Enter to exit...&quot;</span>);</div>
<div class="line">                Console.ReadLine();</div>
<div class="line"></div>
<div class="line">                <span class="keywordflow">return</span> -1;</div>
<div class="line">            }</div>
<div class="line"></div>
<div class="line">            <span class="comment">// Run example on each camera</span></div>
<div class="line">            <span class="keywordtype">int</span> index = 0;</div>
<div class="line"></div>
<div class="line">            <span class="keywordflow">foreach</span>(IManagedCamera managedCamera <span class="keywordflow">in</span> camList) <span class="keyword">using</span>(managedCamera)</div>
<div class="line">            {</div>
<div class="line">                Console.WriteLine(<span class="stringliteral">&quot;Running example for camera {0}...&quot;</span>, index);</div>
<div class="line"></div>
<div class="line">                <span class="keywordflow">try</span></div>
<div class="line">                {</div>
<div class="line">                    <span class="comment">// Run example</span></div>
<div class="line">                    result = result | program.RunSingleCamera(managedCamera);</div>
<div class="line">                }</div>
<div class="line">                <span class="keywordflow">catch</span> (SpinnakerException ex)</div>
<div class="line">                {</div>
<div class="line">                    Console.WriteLine(<span class="stringliteral">&quot;Error: {0}&quot;</span>, ex.Message);</div>
<div class="line">                    result = -1;</div>
<div class="line">                }</div>
<div class="line"></div>
<div class="line">                Console.WriteLine(<span class="stringliteral">&quot;Camera {0} example complete...\n&quot;</span>, index++);</div>
<div class="line">            }</div>
<div class="line"></div>
<div class="line">            <span class="comment">// Clear camera list before releasing system</span></div>
<div class="line">            camList.Clear();</div>
<div class="line"></div>
<div class="line">            <span class="comment">// Release system</span></div>
<div class="line">            system.Dispose();</div>
<div class="line"></div>
<div class="line">            Console.WriteLine(<span class="stringliteral">&quot;\nDone! Press Enter to exit...&quot;</span>);</div>
<div class="line">            Console.ReadLine();</div>
<div class="line"></div>
<div class="line">            <span class="keywordflow">return</span> result;</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line">}</div>
</div><!-- fragment --> </div><!-- contents -->

  <table style="width: 100%;border-spacing: 0px 0px;border-left-style: solid;border-left-width: ;border-left-color: #8c8888;border-right-style: solid;border-right-width: ;border-right-color: #8c8888;border-top-style: solid;border-top-width: ;border-top-color: #8c8888;border-bottom-style: solid;border-bottom-width: ;border-bottom-color: #8c8888;margin-left: 0;margin-right: auto;padding: 0px">
    <col />
    <col />
    <col />
        <tbody>
            <tr>
                <td style="background-color: #8c8888;color: #ffffff;"><a class="footer" href="https://www.flir.com/support-center/rma/iis-support-request">Contact Support </a> </td>
                <td style="background-color: #8c8888;color: #ffffff;text-align: center;font-size: 16px;font-weight: bold">Spinnaker&#174; SDK Programmer's Guide and API Reference</td>
                <td style="background-color: #8c8888;color: #ffffff;text-align: right;"><address class="footer">
Wed Sep 30 2020 &#160;© <a class="footer" href="https://www.flir.com/iis/machine-vision">FLIR Integrated Imaging Solutions Inc. All rights reserved.</a></address></td>
            </tr>
        </tbody>
  </table>
</body>
</html>
