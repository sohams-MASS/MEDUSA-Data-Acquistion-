<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
  <title>Spinnaker Managed: Sequencer_CSharp.cs</title>
  <link href="tabs.css" rel="stylesheet" type="text/css"/>
  <script type="text/javascript" src="jquery.js"></script>
  <script type="text/javascript" src="dynsections.js"></script>
  <script type="text/javascript" src="ga.js"></script>
  <link href="stylesheet.css" rel="stylesheet" type="text/css" />
</head>
<body>
  <div id="top"><!-- do not remove this div! -->
  <div id="titlearea">
    <table cellspacing="0" cellpadding="0.9em" width="100%">
      <tbody>
        <tr style="height: 56px;">
          <td id="projectlogo" style="padding-left: 0.9em;text-align: left;background: #ffffff;background: linear-gradient(#002f86, #ffffff);color: #ffffff;" width="30%"><a href="https://www.flir.com/iis/machine-vision"><img alt="Logo" src="FLIR_Logo.png"/></a></td>
          <td style="padding-left: 0.5em;text-align: left;background: #002f86;background: linear-gradient(#002f86, #ffffff);color: #ffffff;" width="30%"><div id="projectname">Spinnaker Managed</div></td>
          <td style="padding-right: 0.9em;text-align: right;background: #002f86;background: linear-gradient(#002f86, #ffffff);color: #ffffff;" width="30%"><div id="projectname"><span id="projectnumber">2.0.0.0</span></td>
        </tr>
      </tbody>
    </table>
  </div>
<!-- Generated by Doxygen 1.8.5 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="examples.html"><span>Examples</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">Sequencer_CSharp.cs</div>  </div>
</div><!--header-->
<div class="contents">
<p>Sequencer_CSharp.cs shows how to use the sequencer to grab images with various settings. It relies on information provided in the <a class="el" href="namespace_enumeration___c_sharp.html">Enumeration_CSharp</a>, <a class="el" href="namespace_acquisition___c_sharp.html">Acquisition_CSharp</a>, and <a class="el" href="namespace_node_map_info___c_sharp.html">NodeMapInfo_CSharp</a> examples.</p>
<p>It can also be helpful to familiarize yourself with the <a class="el" href="namespace_image_format_control___c_sharp.html">ImageFormatControl_CSharp</a> and <a class="el" href="namespace_exposure___c_sharp.html">Exposure_CSharp</a> examples as these examples provide a strong introduction to camera customization.</p>
<p>The sequencer is another very powerful tool that can be used to create and store multiple sets of customized image settings. A very useful application of the sequencer is creating high dynamic range images.</p>
<p>This example is probably the most complex and definitely the longest. As such, the configuration has been split between three functions. The first prepares the camera to set the sequences, the second sets the settings for a single state (it is run five times), and the third configures the camera to use the sequencer when it acquires images.</p>
<div class="fragment"><div class="line"><span class="comment">//=============================================================================</span></div>
<div class="line"><span class="comment">// Copyright (c) 2001-2019 FLIR Systems, Inc. All Rights Reserved.</span></div>
<div class="line"><span class="comment">//</span></div>
<div class="line"><span class="comment">// This software is the confidential and proprietary information of FLIR</span></div>
<div class="line"><span class="comment">// Integrated Imaging Solutions, Inc. (&quot;Confidential Information&quot;). You</span></div>
<div class="line"><span class="comment">// shall not disclose such Confidential Information and shall use it only in</span></div>
<div class="line"><span class="comment">// accordance with the terms of the license agreement you entered into</span></div>
<div class="line"><span class="comment">// with FLIR Integrated Imaging Solutions, Inc. (FLIR).</span></div>
<div class="line"><span class="comment">//</span></div>
<div class="line"><span class="comment">// FLIR MAKES NO REPRESENTATIONS OR WARRANTIES ABOUT THE SUITABILITY OF THE</span></div>
<div class="line"><span class="comment">// SOFTWARE, EITHER EXPRESSED OR IMPLIED, INCLUDING, BUT NOT LIMITED TO, THE</span></div>
<div class="line"><span class="comment">// IMPLIED WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR</span></div>
<div class="line"><span class="comment">// PURPOSE, OR NON-INFRINGEMENT. FLIR SHALL NOT BE LIABLE FOR ANY DAMAGES</span></div>
<div class="line"><span class="comment">// SUFFERED BY LICENSEE AS A RESULT OF USING, MODIFYING OR DISTRIBUTING</span></div>
<div class="line"><span class="comment">// THIS SOFTWARE OR ITS DERIVATIVES.</span></div>
<div class="line"><span class="comment">//=============================================================================</span></div>
<div class="line"></div>
<div class="line"><span class="keyword">using</span> System;</div>
<div class="line"><span class="keyword">using</span> System.IO;</div>
<div class="line"><span class="keyword">using</span> System.Collections.Generic;</div>
<div class="line"><span class="keyword">using</span> SpinnakerNET;</div>
<div class="line"><span class="keyword">using</span> SpinnakerNET.GenApi;</div>
<div class="line"></div>
<div class="line"><span class="keyword">namespace </span>Sequencer_CSharp</div>
<div class="line">{</div>
<div class="line">    <span class="keyword">class </span>Program</div>
<div class="line">    {</div>
<div class="line">        <span class="comment">// This function handles the error prints when a node or entry is unavailable or</span></div>
<div class="line">        <span class="comment">// not readable on the connected camera</span></div>
<div class="line">        <span class="keywordtype">void</span> PrintRetrieveNodeFailure(<span class="keywordtype">string</span> node, <span class="keywordtype">string</span> name)</div>
<div class="line">        {</div>
<div class="line">            Console.WriteLine(<span class="stringliteral">&quot;Unable to get {0} ({1} {0} retrieval failed).\n\n&quot;</span>, node, name);</div>
<div class="line">            Console.WriteLine(<span class="stringliteral">&quot;The {0} may not be available on all camera models...\n&quot;</span>, node);</div>
<div class="line">            Console.WriteLine(<span class="stringliteral">&quot;Please try a Blackfly S camera.\n\n&quot;</span>);</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        <span class="comment">// This function prepares the sequencer to accept custom configurations</span></div>
<div class="line">        <span class="comment">// by ensuring sequencer mode is off (this is a requirement to the</span></div>
<div class="line">        <span class="comment">// enabling of sequencer configuration mode), disabling automatic gain</span></div>
<div class="line">        <span class="comment">// and exposure, and turning sequencer configuration mode on.</span></div>
<div class="line">        <span class="keywordtype">int</span> ConfigureSequencerPartOne(INodeMap nodeMap)</div>
<div class="line">        {</div>
<div class="line">            <span class="keywordtype">int</span> result = 0;</div>
<div class="line"></div>
<div class="line">            Console.WriteLine(<span class="stringliteral">&quot;\n*** CONFIGURING SEQUENCER ***\n&quot;</span>);</div>
<div class="line"></div>
<div class="line">            <span class="keywordflow">try</span></div>
<div class="line">            {</div>
<div class="line">                <span class="comment">//</span></div>
<div class="line">                <span class="comment">// Ensure sequencer is off for configuration</span></div>
<div class="line">                <span class="comment">//</span></div>
<div class="line">                <span class="comment">// *** NOTES ***</span></div>
<div class="line">                <span class="comment">// In order to configure a new sequence, sequencer</span></div>
<div class="line">                <span class="comment">// configuration mode needs to be turned on. To do this,</span></div>
<div class="line">                <span class="comment">// sequencer mode must be disabled. However, simply disabling</span></div>
<div class="line">                <span class="comment">// sequencer mode might throw an exception if the current</span></div>
<div class="line">                <span class="comment">// sequence is an invalid configuration.</span></div>
<div class="line">                <span class="comment">//</span></div>
<div class="line">                <span class="comment">// Thus, in order to ensure that sequencer mode is disabled, we</span></div>
<div class="line">                <span class="comment">// first check whether the current sequence is valid. If it</span></div>
<div class="line">                <span class="comment">// isn&#39;t, then we know that sequencer mode is off and we can</span></div>
<div class="line">                <span class="comment">// move on; if it is, then we can manually disable sequencer</span></div>
<div class="line">                <span class="comment">// mode.</span></div>
<div class="line">                <span class="comment">//</span></div>
<div class="line">                <span class="comment">// Also note that sequencer configuration mode needs to be off</span></div>
<div class="line">                <span class="comment">// in order to manually disable sequencer mode. It should be</span></div>
<div class="line">                <span class="comment">// off by default, so the example skips checking this.</span></div>
<div class="line">                <span class="comment">//</span></div>
<div class="line">                <span class="comment">// Validate sequencer configuration</span></div>
<div class="line">                IEnum iSequencerConfigurationValid = nodeMap.GetNode&lt;IEnum&gt;(<span class="stringliteral">&quot;SequencerConfigurationValid&quot;</span>);</div>
<div class="line">                <span class="keywordflow">if</span> (iSequencerConfigurationValid == null || !iSequencerConfigurationValid.IsReadable)</div>
<div class="line">                {</div>
<div class="line">                    PrintRetrieveNodeFailure(<span class="stringliteral">&quot;node&quot;</span>, <span class="stringliteral">&quot;SequencerConfigurationValid&quot;</span>);</div>
<div class="line">                    <span class="keywordflow">return</span> -1;</div>
<div class="line">                }</div>
<div class="line"></div>
<div class="line">                IEnumEntry iSequencerConfigurationValidYes = iSequencerConfigurationValid.GetEntryByName(<span class="stringliteral">&quot;Yes&quot;</span>);</div>
<div class="line">                <span class="keywordflow">if</span> (iSequencerConfigurationValidYes == null || !iSequencerConfigurationValidYes.IsReadable)</div>
<div class="line">                {</div>
<div class="line">                    PrintRetrieveNodeFailure(<span class="stringliteral">&quot;entry&quot;</span>, <span class="stringliteral">&quot;SequencerConfigurationValid &#39;Yes&#39;&quot;</span>);</div>
<div class="line">                    <span class="keywordflow">return</span> -1;</div>
<div class="line">                }</div>
<div class="line"></div>
<div class="line">                <span class="comment">// If valid, disable sequencer mode; otherwise, do nothing</span></div>
<div class="line">                IEnum iSequencerMode = nodeMap.GetNode&lt;IEnum&gt;(<span class="stringliteral">&quot;SequencerMode&quot;</span>);</div>
<div class="line">                <span class="keywordflow">if</span> (iSequencerConfigurationValid.Value == iSequencerConfigurationValidYes.Value)</div>
<div class="line">                {</div>
<div class="line">                    <span class="keywordflow">if</span> (iSequencerMode == null || !iSequencerMode.IsWritable)</div>
<div class="line">                    {</div>
<div class="line">                        PrintRetrieveNodeFailure(<span class="stringliteral">&quot;node&quot;</span>, <span class="stringliteral">&quot;SequencerMode&quot;</span>);</div>
<div class="line">                        <span class="keywordflow">return</span> -1;</div>
<div class="line">                    }</div>
<div class="line"></div>
<div class="line">                    IEnumEntry iSequencerModeOff = iSequencerMode.GetEntryByName(<span class="stringliteral">&quot;Off&quot;</span>);</div>
<div class="line">                    <span class="keywordflow">if</span> (iSequencerModeOff == null || !iSequencerModeOff.IsReadable)</div>
<div class="line">                    {</div>
<div class="line">                        PrintRetrieveNodeFailure(<span class="stringliteral">&quot;entry&quot;</span>, <span class="stringliteral">&quot;SequencerMode &#39;Off&#39;&quot;</span>);</div>
<div class="line">                        <span class="keywordflow">return</span> -1;</div>
<div class="line">                    }</div>
<div class="line"></div>
<div class="line">                    iSequencerMode.Value = iSequencerModeOff.Value;</div>
<div class="line">                }</div>
<div class="line"></div>
<div class="line">                Console.WriteLine(<span class="stringliteral">&quot;Sequencer mode disabled...&quot;</span>);</div>
<div class="line"></div>
<div class="line">                <span class="comment">//</span></div>
<div class="line">                <span class="comment">// Turn off automatic exposure</span></div>
<div class="line">                <span class="comment">//</span></div>
<div class="line">                <span class="comment">// *** NOTES ***</span></div>
<div class="line">                <span class="comment">// Automatic exposure prevents the manual configuration of</span></div>
<div class="line">                <span class="comment">// exposure times and needs to be turned off for this example.</span></div>
<div class="line">                <span class="comment">//</span></div>
<div class="line">                <span class="comment">// *** LATER ***</span></div>
<div class="line">                <span class="comment">// Automatic exposure is turned back on at the end of the</span></div>
<div class="line">                <span class="comment">// example in order to restore the camera to its default state.</span></div>
<div class="line">                <span class="comment">//</span></div>
<div class="line">                IEnum iExposureAuto = nodeMap.GetNode&lt;IEnum&gt;(<span class="stringliteral">&quot;ExposureAuto&quot;</span>);</div>
<div class="line">                <span class="keywordflow">if</span> (iExposureAuto == null || !iExposureAuto.IsWritable)</div>
<div class="line">                {</div>
<div class="line">                    PrintRetrieveNodeFailure(<span class="stringliteral">&quot;node&quot;</span>, <span class="stringliteral">&quot;ExposureAuto&quot;</span>);</div>
<div class="line">                    <span class="keywordflow">return</span> -1;</div>
<div class="line">                }</div>
<div class="line"></div>
<div class="line">                IEnumEntry iExposureAutoOff = iExposureAuto.GetEntryByName(<span class="stringliteral">&quot;Off&quot;</span>);</div>
<div class="line">                <span class="keywordflow">if</span> (iExposureAutoOff == null || !iExposureAutoOff.IsReadable)</div>
<div class="line">                {</div>
<div class="line">                    PrintRetrieveNodeFailure(<span class="stringliteral">&quot;entry&quot;</span>, <span class="stringliteral">&quot;ExposureAuto &#39;Off&#39;&quot;</span>);</div>
<div class="line">                    <span class="keywordflow">return</span> -1;</div>
<div class="line">                }</div>
<div class="line"></div>
<div class="line">                iExposureAuto.Value = iExposureAutoOff.Value;</div>
<div class="line"></div>
<div class="line">                Console.WriteLine(<span class="stringliteral">&quot;Automatic exposure disabled...&quot;</span>);</div>
<div class="line"></div>
<div class="line">                <span class="comment">//</span></div>
<div class="line">                <span class="comment">// Turn off automatic gain</span></div>
<div class="line">                <span class="comment">//</span></div>
<div class="line">                <span class="comment">// *** NOTES ***</span></div>
<div class="line">                <span class="comment">// Automatic gain prevents the manual configuration of gain and</span></div>
<div class="line">                <span class="comment">// needs to be turned off for this example.</span></div>
<div class="line">                <span class="comment">//</span></div>
<div class="line">                <span class="comment">// *** LATER ***</span></div>
<div class="line">                <span class="comment">// Automatic gain is turned back on at the end of the example</span></div>
<div class="line">                <span class="comment">// in order to restore the camera to its default state.</span></div>
<div class="line">                <span class="comment">//</span></div>
<div class="line">                IEnum iGainAuto = nodeMap.GetNode&lt;IEnum&gt;(<span class="stringliteral">&quot;GainAuto&quot;</span>);</div>
<div class="line">                <span class="keywordflow">if</span> (iGainAuto == null || !iGainAuto.IsWritable)</div>
<div class="line">                {</div>
<div class="line">                    PrintRetrieveNodeFailure(<span class="stringliteral">&quot;node&quot;</span>, <span class="stringliteral">&quot;GainAuto&quot;</span>);</div>
<div class="line">                    <span class="keywordflow">return</span> -1;</div>
<div class="line">                }</div>
<div class="line"></div>
<div class="line">                IEnumEntry iGainAutoOff = iGainAuto.GetEntryByName(<span class="stringliteral">&quot;Off&quot;</span>);</div>
<div class="line">                <span class="keywordflow">if</span> (iGainAutoOff == null || !iGainAutoOff.IsReadable)</div>
<div class="line">                {</div>
<div class="line">                    PrintRetrieveNodeFailure(<span class="stringliteral">&quot;entry&quot;</span>, <span class="stringliteral">&quot;GainAuto &#39;Off&#39;&quot;</span>);</div>
<div class="line">                    <span class="keywordflow">return</span> -1;</div>
<div class="line">                }</div>
<div class="line"></div>
<div class="line">                iGainAuto.Value = iGainAutoOff.Value;</div>
<div class="line"></div>
<div class="line">                Console.WriteLine(<span class="stringliteral">&quot;Autoamtic gain disabled...&quot;</span>);</div>
<div class="line"></div>
<div class="line">                <span class="comment">//</span></div>
<div class="line">                <span class="comment">// Turn configuration mode on</span></div>
<div class="line">                <span class="comment">//</span></div>
<div class="line">                <span class="comment">// *** NOTES ***</span></div>
<div class="line">                <span class="comment">// Once sequencer mode is off, enabling sequencer configuration</span></div>
<div class="line">                <span class="comment">// mode allows for the setting of individual sequences.</span></div>
<div class="line">                <span class="comment">//</span></div>
<div class="line">                <span class="comment">// *** LATER ***</span></div>
<div class="line">                <span class="comment">// Before sequencer mode is turned back on, sequencer</span></div>
<div class="line">                <span class="comment">// configuration mode must be turned off.</span></div>
<div class="line">                <span class="comment">//</span></div>
<div class="line">                IEnum iSequencerConfigurationMode = nodeMap.GetNode&lt;IEnum&gt;(<span class="stringliteral">&quot;SequencerConfigurationMode&quot;</span>);</div>
<div class="line">                <span class="keywordflow">if</span> (iSequencerConfigurationMode == null || !iSequencerConfigurationMode.IsWritable)</div>
<div class="line">                {</div>
<div class="line">                    PrintRetrieveNodeFailure(<span class="stringliteral">&quot;node&quot;</span>, <span class="stringliteral">&quot;SequencerConfigurationMode&quot;</span>);</div>
<div class="line">                    <span class="keywordflow">return</span> -1;</div>
<div class="line">                }</div>
<div class="line"></div>
<div class="line">                IEnumEntry iSequencerConfigurationModeOn = iSequencerConfigurationMode.GetEntryByName(<span class="stringliteral">&quot;On&quot;</span>);</div>
<div class="line">                <span class="keywordflow">if</span> (iSequencerConfigurationModeOn == null || !iSequencerConfigurationModeOn.IsReadable)</div>
<div class="line">                {</div>
<div class="line">                    PrintRetrieveNodeFailure(<span class="stringliteral">&quot;entry&quot;</span>, <span class="stringliteral">&quot;SequencerConfigurationMode &#39;On&#39;&quot;</span>);</div>
<div class="line">                    <span class="keywordflow">return</span> -1;</div>
<div class="line">                }</div>
<div class="line"></div>
<div class="line">                iSequencerConfigurationMode.Value = iSequencerConfigurationModeOn.Value;</div>
<div class="line"></div>
<div class="line">                Console.WriteLine(<span class="stringliteral">&quot;Sequencer configuration mode enabled...\n&quot;</span>);</div>
<div class="line">            }</div>
<div class="line">            <span class="keywordflow">catch</span> (SpinnakerException ex)</div>
<div class="line">            {</div>
<div class="line">                Console.WriteLine(<span class="stringliteral">&quot;Error: {0}&quot;</span>, ex.Message);</div>
<div class="line">                result = -1;</div>
<div class="line">            }</div>
<div class="line"></div>
<div class="line">            <span class="keywordflow">return</span> result;</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        <span class="comment">// This function sets a single state. It sets the sequence number,</span></div>
<div class="line">        <span class="comment">// applies custom settings, selects the trigger type and next state</span></div>
<div class="line">        <span class="comment">// number, and saves the state. The custom values that are applied are</span></div>
<div class="line">        <span class="comment">// all calculated in the function that calls this one, RunSingleCamera().</span></div>
<div class="line">        <span class="keywordtype">int</span> SetSingleSequence(</div>
<div class="line">            INodeMap nodeMap,</div>
<div class="line">            <span class="keywordtype">int</span> sequenceNumber,</div>
<div class="line">            <span class="keywordtype">long</span> widthToSet,</div>
<div class="line">            <span class="keywordtype">long</span> heightToSet,</div>
<div class="line">            <span class="keywordtype">double</span> exposureTimeToSet,</div>
<div class="line">            <span class="keywordtype">double</span> gainToSet)</div>
<div class="line">        {</div>
<div class="line">            <span class="keywordtype">int</span> result = 0;</div>
<div class="line"></div>
<div class="line">            <span class="keywordflow">try</span></div>
<div class="line">            {</div>
<div class="line">                <span class="comment">//</span></div>
<div class="line">                <span class="comment">// Select the current sequence</span></div>
<div class="line">                <span class="comment">//</span></div>
<div class="line">                <span class="comment">// *** NOTES ***</span></div>
<div class="line">                <span class="comment">// Select the index of the sequence to be set.</span></div>
<div class="line">                <span class="comment">//</span></div>
<div class="line">                <span class="comment">// *** LATER ***</span></div>
<div class="line">                <span class="comment">// The next state - i.e. the state to be linked to -</span></div>
<div class="line">                <span class="comment">// also needs to be set before saving the current state.</span></div>
<div class="line">                <span class="comment">//</span></div>
<div class="line">                IInteger iSequencerSetSelector = nodeMap.GetNode&lt;IInteger&gt;(<span class="stringliteral">&quot;SequencerSetSelector&quot;</span>);</div>
<div class="line">                <span class="keywordflow">if</span> (iSequencerSetSelector == null || !iSequencerSetSelector.IsWritable)</div>
<div class="line">                {</div>
<div class="line">                    Console.WriteLine(<span class="stringliteral">&quot;Unable to select state. Aborting...\n&quot;</span>);</div>
<div class="line">                    <span class="keywordflow">return</span> -1;</div>
<div class="line">                }</div>
<div class="line"></div>
<div class="line">                iSequencerSetSelector.Value = sequenceNumber;</div>
<div class="line"></div>
<div class="line">                Console.WriteLine(<span class="stringliteral">&quot;Setting state {0}...&quot;</span>, iSequencerSetSelector.Value);</div>
<div class="line"></div>
<div class="line">                <span class="comment">//</span></div>
<div class="line">                <span class="comment">// Set desired settings for the current state</span></div>
<div class="line">                <span class="comment">//</span></div>
<div class="line">                <span class="comment">// *** NOTES ***</span></div>
<div class="line">                <span class="comment">// Width, height, exposure time, and gain are set in this</span></div>
<div class="line">                <span class="comment">// example. If the sequencer isn&#39;t working properly, it may be</span></div>
<div class="line">                <span class="comment">// important to ensure that each feature is enabled on the</span></div>
<div class="line">                <span class="comment">// sequencer. Features are enabled by default, so this is not</span></div>
<div class="line">                <span class="comment">// explored in this example.</span></div>
<div class="line">                <span class="comment">//</span></div>
<div class="line">                <span class="comment">// Changing the height and width for the sequencer is not</span></div>
<div class="line">                <span class="comment">// available for all camera models.</span></div>
<div class="line">                <span class="comment">//</span></div>
<div class="line">                <span class="comment">// Set width; width recorded in pixels</span></div>
<div class="line">                IInteger iWidth = nodeMap.GetNode&lt;IInteger&gt;(<span class="stringliteral">&quot;Width&quot;</span>);</div>
<div class="line">                <span class="keywordflow">if</span> (iWidth != null &amp;&amp; iWidth.IsWritable)</div>
<div class="line">                {</div>
<div class="line">                    <span class="keywordflow">if</span> (widthToSet % iWidth.Increment != 0)</div>
<div class="line">                    {</div>
<div class="line">                        widthToSet = (widthToSet / iWidth.Increment) * iWidth.Increment;</div>
<div class="line">                    }</div>
<div class="line"></div>
<div class="line">                    iWidth.Value = widthToSet;</div>
<div class="line"></div>
<div class="line">                    Console.WriteLine(<span class="stringliteral">&quot;\tWidth set to {0}...&quot;</span>, iWidth.Value);</div>
<div class="line">                }</div>
<div class="line">                <span class="keywordflow">else</span></div>
<div class="line">                {</div>
<div class="line">                    Console.WriteLine(</div>
<div class="line">                        <span class="stringliteral">&quot;\tUnable to set width; width for sequencer not available on all camera models...&quot;</span>);</div>
<div class="line">                }</div>
<div class="line"></div>
<div class="line">                <span class="comment">// Set height; height recorded in pixels</span></div>
<div class="line">                IInteger iHeight = nodeMap.GetNode&lt;IInteger&gt;(<span class="stringliteral">&quot;Height&quot;</span>);</div>
<div class="line">                <span class="keywordflow">if</span> (iHeight != null &amp;&amp; iHeight.IsWritable)</div>
<div class="line">                {</div>
<div class="line">                    <span class="keywordflow">if</span> (heightToSet % iHeight.Increment != 0)</div>
<div class="line">                    {</div>
<div class="line">                        heightToSet = (heightToSet / iHeight.Increment) * iHeight.Increment;</div>
<div class="line">                    }</div>
<div class="line"></div>
<div class="line">                    iHeight.Value = heightToSet;</div>
<div class="line"></div>
<div class="line">                    Console.WriteLine(<span class="stringliteral">&quot;\tHeight set to {0}...&quot;</span>, iHeight.Value);</div>
<div class="line">                }</div>
<div class="line">                <span class="keywordflow">else</span></div>
<div class="line">                {</div>
<div class="line">                    Console.WriteLine(</div>
<div class="line">                        <span class="stringliteral">&quot;\tUnable to set height; height for sequencer not available on all camera models...&quot;</span>);</div>
<div class="line">                }</div>
<div class="line"></div>
<div class="line">                <span class="comment">// Set exposure time; exposure time recorded in microseconds</span></div>
<div class="line">                IFloat iExposureTime = nodeMap.GetNode&lt;IFloat&gt;(<span class="stringliteral">&quot;ExposureTime&quot;</span>);</div>
<div class="line">                <span class="keywordflow">if</span> (iExposureTime == null || !iExposureTime.IsWritable)</div>
<div class="line">                {</div>
<div class="line">                    Console.WriteLine(<span class="stringliteral">&quot;Unable to set exposure time. Aborting...\n&quot;</span>);</div>
<div class="line">                    <span class="keywordflow">return</span> -1;</div>
<div class="line">                }</div>
<div class="line"></div>
<div class="line">                iExposureTime.Value = exposureTimeToSet;</div>
<div class="line"></div>
<div class="line">                Console.WriteLine(<span class="stringliteral">&quot;\tExposure time set to {0}...&quot;</span>, iExposureTime.Value);</div>
<div class="line"></div>
<div class="line">                <span class="comment">// Set gain; gain recorded in decibels</span></div>
<div class="line">                IFloat iGain = nodeMap.GetNode&lt;IFloat&gt;(<span class="stringliteral">&quot;Gain&quot;</span>);</div>
<div class="line">                <span class="keywordflow">if</span> (iGain == null || !iGain.IsWritable)</div>
<div class="line">                {</div>
<div class="line">                    Console.WriteLine(<span class="stringliteral">&quot;Unable to set gain. Aborting...\n&quot;</span>);</div>
<div class="line">                    <span class="keywordflow">return</span> -1;</div>
<div class="line">                }</div>
<div class="line"></div>
<div class="line">                iGain.Value = gainToSet;</div>
<div class="line"></div>
<div class="line">                Console.WriteLine(<span class="stringliteral">&quot;\tGain set to {0}...&quot;</span>, iGain.Value);</div>
<div class="line"></div>
<div class="line">                <span class="comment">//</span></div>
<div class="line">                <span class="comment">// Set the trigger type for the current state</span></div>
<div class="line">                <span class="comment">//</span></div>
<div class="line">                <span class="comment">// *** NOTES ***</span></div>
<div class="line">                <span class="comment">// It is a requirement of every state to have its trigger</span></div>
<div class="line">                <span class="comment">// source set. The trigger source refers to the moment when the</span></div>
<div class="line">                <span class="comment">// sequencer changes from one state to the next.</span></div>
<div class="line">                <span class="comment">//</span></div>
<div class="line">                IEnum iSequencerTriggerSource = nodeMap.GetNode&lt;IEnum&gt;(<span class="stringliteral">&quot;SequencerTriggerSource&quot;</span>);</div>
<div class="line">                <span class="keywordflow">if</span> (iSequencerTriggerSource == null || !iSequencerTriggerSource.IsWritable)</div>
<div class="line">                {</div>
<div class="line">                    Console.WriteLine(<span class="stringliteral">&quot;Unable to set trigger source (enum retrieval). Aborting...\n&quot;</span>);</div>
<div class="line">                    <span class="keywordflow">return</span> -1;</div>
<div class="line">                }</div>
<div class="line"></div>
<div class="line">                IEnumEntry iSequencerTriggerSourceFrameStart = iSequencerTriggerSource.GetEntryByName(<span class="stringliteral">&quot;FrameStart&quot;</span>);</div>
<div class="line">                <span class="keywordflow">if</span> (iSequencerTriggerSourceFrameStart == null || iSequencerTriggerSourceFrameStart.IsWritable)</div>
<div class="line">                {</div>
<div class="line">                    Console.WriteLine(<span class="stringliteral">&quot;Unable to set trigger source (entry retrieval). Aborting...\n&quot;</span>);</div>
<div class="line">                    <span class="keywordflow">return</span> -1;</div>
<div class="line">                }</div>
<div class="line"></div>
<div class="line">                iSequencerTriggerSource.Value = iSequencerTriggerSourceFrameStart.Value;</div>
<div class="line"></div>
<div class="line">                Console.WriteLine(<span class="stringliteral">&quot;\tTrigger source set...&quot;</span>);</div>
<div class="line"></div>
<div class="line">                <span class="comment">//</span></div>
<div class="line">                <span class="comment">// Set the next state in the sequence</span></div>
<div class="line">                <span class="comment">//</span></div>
<div class="line">                <span class="comment">// *** NOTES ***</span></div>
<div class="line">                <span class="comment">// When setting the next state in the sequence, ensure it does</span></div>
<div class="line">                <span class="comment">// not exceed the maximum and that the states loop appropriately.</span></div>
<div class="line">                <span class="comment">//</span></div>
<div class="line">                <span class="keyword">const</span> <span class="keywordtype">int</span> finalSequenceIndex = 4;</div>
<div class="line"></div>
<div class="line">                IInteger iSequencerSetNext = nodeMap.GetNode&lt;IInteger&gt;(<span class="stringliteral">&quot;SequencerSetNext&quot;</span>);</div>
<div class="line">                <span class="keywordflow">if</span> (iSequencerSetNext == null || !iSequencerSetNext.IsWritable)</div>
<div class="line">                {</div>
<div class="line">                    Console.WriteLine(<span class="stringliteral">&quot;Unable to set next state. Aborting...\n&quot;</span>);</div>
<div class="line">                    <span class="keywordflow">return</span> -1;</div>
<div class="line">                }</div>
<div class="line"></div>
<div class="line">                <span class="keywordflow">if</span> (sequenceNumber == finalSequenceIndex)</div>
<div class="line">                {</div>
<div class="line">                    iSequencerSetNext.Value = 0;</div>
<div class="line">                }</div>
<div class="line">                <span class="keywordflow">else</span></div>
<div class="line">                {</div>
<div class="line">                    iSequencerSetNext.Value = sequenceNumber + 1;</div>
<div class="line">                }</div>
<div class="line"></div>
<div class="line">                Console.WriteLine(<span class="stringliteral">&quot;\tNext state set to {0}...&quot;</span>, iSequencerSetNext.Value);</div>
<div class="line"></div>
<div class="line">                <span class="comment">//</span></div>
<div class="line">                <span class="comment">// Save current state</span></div>
<div class="line">                <span class="comment">//</span></div>
<div class="line">                <span class="comment">// *** NOTES ***</span></div>
<div class="line">                <span class="comment">// Once all appropriate settings have been configured, make</span></div>
<div class="line">                <span class="comment">// sure to save the state to the sequence. Notice that these</span></div>
<div class="line">                <span class="comment">// settings will be lost when the camera is power-cycled.</span></div>
<div class="line">                <span class="comment">//</span></div>
<div class="line">                ICommand iSequencerSetSave = nodeMap.GetNode&lt;ICommand&gt;(<span class="stringliteral">&quot;SequencerSetSave&quot;</span>);</div>
<div class="line">                <span class="keywordflow">if</span> (iSequencerSetSave == null || !iSequencerSetSave.IsWritable)</div>
<div class="line">                {</div>
<div class="line">                    Console.WriteLine(<span class="stringliteral">&quot;Unable to save state. Aborting...\n&quot;</span>);</div>
<div class="line">                    <span class="keywordflow">return</span> -1;</div>
<div class="line">                }</div>
<div class="line"></div>
<div class="line">                iSequencerSetSave.Execute();</div>
<div class="line"></div>
<div class="line">                Console.WriteLine(<span class="stringliteral">&quot;\tState {0} saved...\n&quot;</span>, sequenceNumber);</div>
<div class="line">            }</div>
<div class="line">            <span class="keywordflow">catch</span> (SpinnakerException ex)</div>
<div class="line">            {</div>
<div class="line">                Console.WriteLine(<span class="stringliteral">&quot;Error: {0}&quot;</span>, ex.Message);</div>
<div class="line">                result = -1;</div>
<div class="line">            }</div>
<div class="line"></div>
<div class="line">            <span class="keywordflow">return</span> result;</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        <span class="comment">// Now that the states have all been set, this function prepares the</span></div>
<div class="line">        <span class="comment">// camera to use the sequencer for acquiring images.</span></div>
<div class="line">        <span class="keywordtype">int</span> ConfigureSequencerPartTwo(INodeMap nodeMap)</div>
<div class="line">        {</div>
<div class="line">            <span class="keywordtype">int</span> result = 0;</div>
<div class="line"></div>
<div class="line">            <span class="keywordflow">try</span></div>
<div class="line">            {</div>
<div class="line">                <span class="comment">//</span></div>
<div class="line">                <span class="comment">// Turn configuration mode off</span></div>
<div class="line">                <span class="comment">//</span></div>
<div class="line">                <span class="comment">// *** NOTES ***</span></div>
<div class="line">                <span class="comment">// Once all desired states have been set, turn sequencer</span></div>
<div class="line">                <span class="comment">// configuration mode off in order to turn sequencer mode on.</span></div>
<div class="line">                <span class="comment">//</span></div>
<div class="line">                IEnum iSequencerConfigurationMode = nodeMap.GetNode&lt;IEnum&gt;(<span class="stringliteral">&quot;SequencerConfigurationMode&quot;</span>);</div>
<div class="line">                <span class="keywordflow">if</span> (iSequencerConfigurationMode == null || !iSequencerConfigurationMode.IsWritable)</div>
<div class="line">                {</div>
<div class="line">                    PrintRetrieveNodeFailure(<span class="stringliteral">&quot;node&quot;</span>, <span class="stringliteral">&quot;SequencerConfigurationMode&quot;</span>);</div>
<div class="line">                    <span class="keywordflow">return</span> -1;</div>
<div class="line">                }</div>
<div class="line"></div>
<div class="line">                IEnumEntry iSequencerConfigurationModeOff = iSequencerConfigurationMode.GetEntryByName(<span class="stringliteral">&quot;Off&quot;</span>);</div>
<div class="line">                <span class="keywordflow">if</span> (iSequencerConfigurationModeOff == null || !iSequencerConfigurationModeOff.IsReadable)</div>
<div class="line">                {</div>
<div class="line">                    PrintRetrieveNodeFailure(<span class="stringliteral">&quot;entry&quot;</span>, <span class="stringliteral">&quot;SequencerConfigurationMode &#39;Off&#39;&quot;</span>);</div>
<div class="line">                    <span class="keywordflow">return</span> -1;</div>
<div class="line">                }</div>
<div class="line"></div>
<div class="line">                iSequencerConfigurationMode.Value = iSequencerConfigurationModeOff.Value;</div>
<div class="line"></div>
<div class="line">                Console.WriteLine(<span class="stringliteral">&quot;Sequencer configuration mode disabled...&quot;</span>);</div>
<div class="line"></div>
<div class="line">                <span class="comment">//</span></div>
<div class="line">                <span class="comment">// Turn sequencer mode on</span></div>
<div class="line">                <span class="comment">//</span></div>
<div class="line">                <span class="comment">// *** NOTES ***</span></div>
<div class="line">                <span class="comment">// After sequencer mode has been turned on, the camera will</span></div>
<div class="line">                <span class="comment">// begin using the saved states in the order that they were set.</span></div>
<div class="line">                <span class="comment">//</span></div>
<div class="line">                <span class="comment">// *** LATER ***</span></div>
<div class="line">                <span class="comment">// Once all images have been captured, disable the sequencer</span></div>
<div class="line">                <span class="comment">// in order to restore the camera to its initial state.</span></div>
<div class="line">                <span class="comment">//</span></div>
<div class="line">                IEnum iSequencerMode = nodeMap.GetNode&lt;IEnum&gt;(<span class="stringliteral">&quot;SequencerMode&quot;</span>);</div>
<div class="line">                <span class="keywordflow">if</span> (iSequencerMode == null || !iSequencerMode.IsWritable)</div>
<div class="line">                {</div>
<div class="line">                    PrintRetrieveNodeFailure(<span class="stringliteral">&quot;node&quot;</span>, <span class="stringliteral">&quot;SequencerMode&quot;</span>);</div>
<div class="line">                    <span class="keywordflow">return</span> -1;</div>
<div class="line">                }</div>
<div class="line"></div>
<div class="line">                IEnumEntry iSequencerModeOn = iSequencerMode.GetEntryByName(<span class="stringliteral">&quot;On&quot;</span>);</div>
<div class="line">                <span class="keywordflow">if</span> (iSequencerModeOn == null || !iSequencerModeOn.IsReadable)</div>
<div class="line">                {</div>
<div class="line">                    PrintRetrieveNodeFailure(<span class="stringliteral">&quot;entry&quot;</span>, <span class="stringliteral">&quot;SequencerMode &#39;On&#39;&quot;</span>);</div>
<div class="line">                    <span class="keywordflow">return</span> -1;</div>
<div class="line">                }</div>
<div class="line"></div>
<div class="line">                iSequencerMode.Value = iSequencerModeOn.Value;</div>
<div class="line"></div>
<div class="line">                Console.WriteLine(<span class="stringliteral">&quot;Sequencer mode enabled...&quot;</span>);</div>
<div class="line"></div>
<div class="line">                <span class="comment">//</span></div>
<div class="line">                <span class="comment">// Validate sequencer settings</span></div>
<div class="line">                <span class="comment">//</span></div>
<div class="line">                <span class="comment">// *** NOTES ***</span></div>
<div class="line">                <span class="comment">// Once all states have been set, it is a good idea to</span></div>
<div class="line">                <span class="comment">// validate them. Although this node cannot ensure that the</span></div>
<div class="line">                <span class="comment">// states has been set up correctly, it does ensure that the</span></div>
<div class="line">                <span class="comment">// states have been set up in such a way that the camera can</span></div>
<div class="line">                <span class="comment">// function.</span></div>
<div class="line">                <span class="comment">//</span></div>
<div class="line">                IEnum iSequencerConfigurationValid = nodeMap.GetNode&lt;IEnum&gt;(<span class="stringliteral">&quot;SequencerConfigurationValid&quot;</span>);</div>
<div class="line">                <span class="keywordflow">if</span> (iSequencerConfigurationValid == null || !iSequencerConfigurationValid.IsReadable)</div>
<div class="line">                {</div>
<div class="line">                    PrintRetrieveNodeFailure(<span class="stringliteral">&quot;node&quot;</span>, <span class="stringliteral">&quot;SequencerConfigurationValid&quot;</span>);</div>
<div class="line">                    <span class="keywordflow">return</span> -1;</div>
<div class="line">                }</div>
<div class="line"></div>
<div class="line">                IEnumEntry iSequencerConfigurationValidYes = iSequencerConfigurationValid.GetEntryByName(<span class="stringliteral">&quot;Yes&quot;</span>);</div>
<div class="line">                <span class="keywordflow">if</span> (iSequencerConfigurationValidYes == null || !iSequencerConfigurationValidYes.IsReadable)</div>
<div class="line">                {</div>
<div class="line">                    PrintRetrieveNodeFailure(<span class="stringliteral">&quot;entry&quot;</span>, <span class="stringliteral">&quot;SequencerConfigurationValid &#39;Yes&#39;&quot;</span>);</div>
<div class="line">                    <span class="keywordflow">return</span> -1;</div>
<div class="line">                }</div>
<div class="line"></div>
<div class="line">                <span class="keywordflow">if</span> (iSequencerConfigurationValid.Value != iSequencerConfigurationValidYes.Value)</div>
<div class="line">                {</div>
<div class="line">                    Console.WriteLine(<span class="stringliteral">&quot;Sequencer configuration not valid. Aborting...\n&quot;</span>);</div>
<div class="line">                    <span class="keywordflow">return</span> -1;</div>
<div class="line">                }</div>
<div class="line"></div>
<div class="line">                Console.WriteLine(<span class="stringliteral">&quot;Sequencer valid.\n&quot;</span>);</div>
<div class="line">            }</div>
<div class="line">            <span class="keywordflow">catch</span> (SpinnakerException ex)</div>
<div class="line">            {</div>
<div class="line">                Console.WriteLine(<span class="stringliteral">&quot;Error: {0}&quot;</span>, ex.Message);</div>
<div class="line">                result = -1;</div>
<div class="line">            }</div>
<div class="line"></div>
<div class="line">            <span class="keywordflow">return</span> result;</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        <span class="comment">// This function restores the camera to its default state by turning</span></div>
<div class="line">        <span class="comment">// sequencer mode off and re-enabling automatic exposure and gain.</span></div>
<div class="line">        <span class="keywordtype">int</span> ResetSequencer(INodeMap nodeMap)</div>
<div class="line">        {</div>
<div class="line">            <span class="keywordtype">int</span> result = 0;</div>
<div class="line"></div>
<div class="line">            <span class="keywordflow">try</span></div>
<div class="line">            {</div>
<div class="line">                <span class="comment">//</span></div>
<div class="line">                <span class="comment">// Turn sequencer mode back off</span></div>
<div class="line">                <span class="comment">//</span></div>
<div class="line">                <span class="comment">// *** NOTES ***</span></div>
<div class="line">                <span class="comment">// Between uses, it is best to disable the sequencer until it</span></div>
<div class="line">                <span class="comment">// is once again required.</span></div>
<div class="line">                <span class="comment">//</span></div>
<div class="line">                IEnum iSequencerMode = nodeMap.GetNode&lt;IEnum&gt;(<span class="stringliteral">&quot;SequencerMode&quot;</span>);</div>
<div class="line">                <span class="keywordflow">if</span> (iSequencerMode == null || !iSequencerMode.IsWritable)</div>
<div class="line">                {</div>
<div class="line">                    PrintRetrieveNodeFailure(<span class="stringliteral">&quot;node&quot;</span>, <span class="stringliteral">&quot;SequencerMode&quot;</span>);</div>
<div class="line">                    <span class="keywordflow">return</span> -1;</div>
<div class="line">                }</div>
<div class="line"></div>
<div class="line">                IEnumEntry iSequencerModeOff = iSequencerMode.GetEntryByName(<span class="stringliteral">&quot;Off&quot;</span>);</div>
<div class="line">                <span class="keywordflow">if</span> (iSequencerModeOff == null || !iSequencerModeOff.IsReadable)</div>
<div class="line">                {</div>
<div class="line">                    PrintRetrieveNodeFailure(<span class="stringliteral">&quot;entry&quot;</span>, <span class="stringliteral">&quot;SequencerMode &#39;Off&#39;&quot;</span>);</div>
<div class="line">                    <span class="keywordflow">return</span> -1;</div>
<div class="line">                }</div>
<div class="line"></div>
<div class="line">                iSequencerMode.Value = iSequencerModeOff.Value;</div>
<div class="line"></div>
<div class="line">                Console.WriteLine(<span class="stringliteral">&quot;Sequencer mode disabled...&quot;</span>);</div>
<div class="line"></div>
<div class="line">                <span class="comment">//</span></div>
<div class="line">                <span class="comment">// Turn automatic exposure back on</span></div>
<div class="line">                <span class="comment">//</span></div>
<div class="line">                <span class="comment">// *** NOTES ***</span></div>
<div class="line">                <span class="comment">// It is recommended to have automatic exposure enabled</span></div>
<div class="line">                <span class="comment">// whenever manual exposure settings are not required.</span></div>
<div class="line">                <span class="comment">//</span></div>
<div class="line">                IEnum iExposureAuto = nodeMap.GetNode&lt;IEnum&gt;(<span class="stringliteral">&quot;ExposureAuto&quot;</span>);</div>
<div class="line">                <span class="keywordflow">if</span> (iExposureAuto == null || !iExposureAuto.IsWritable)</div>
<div class="line">                {</div>
<div class="line">                    PrintRetrieveNodeFailure(<span class="stringliteral">&quot;node&quot;</span>, <span class="stringliteral">&quot;ExposureAuto&quot;</span>);</div>
<div class="line">                    <span class="keywordflow">return</span> -1;</div>
<div class="line">                }</div>
<div class="line"></div>
<div class="line">                IEnumEntry iExposureAutoContinuous = iExposureAuto.GetEntryByName(<span class="stringliteral">&quot;Continuous&quot;</span>);</div>
<div class="line">                <span class="keywordflow">if</span> (iExposureAutoContinuous == null || !iExposureAutoContinuous.IsReadable)</div>
<div class="line">                {</div>
<div class="line">                    PrintRetrieveNodeFailure(<span class="stringliteral">&quot;entry&quot;</span>, <span class="stringliteral">&quot;ExposureAuto Continuous&quot;</span>);</div>
<div class="line">                    <span class="keywordflow">return</span> -1;</div>
<div class="line">                }</div>
<div class="line"></div>
<div class="line">                iExposureAuto.Value = iExposureAutoContinuous.Value;</div>
<div class="line"></div>
<div class="line">                Console.WriteLine(<span class="stringliteral">&quot;Automatic exposure enabled...&quot;</span>);</div>
<div class="line"></div>
<div class="line">                <span class="comment">//</span></div>
<div class="line">                <span class="comment">// Turn automatic gain back on</span></div>
<div class="line">                <span class="comment">//</span></div>
<div class="line">                <span class="comment">// *** NOTES ***</span></div>
<div class="line">                <span class="comment">// It is recommended to have automatic gain enabled whenever</span></div>
<div class="line">                <span class="comment">// manual gain settings are not required.</span></div>
<div class="line">                <span class="comment">//</span></div>
<div class="line">                IEnum iGainAuto = nodeMap.GetNode&lt;IEnum&gt;(<span class="stringliteral">&quot;GainAuto&quot;</span>);</div>
<div class="line">                <span class="keywordflow">if</span> (iGainAuto == null || !iGainAuto.IsWritable)</div>
<div class="line">                {</div>
<div class="line">                    PrintRetrieveNodeFailure(<span class="stringliteral">&quot;node&quot;</span>, <span class="stringliteral">&quot;GainAuto&quot;</span>);</div>
<div class="line">                    <span class="keywordflow">return</span> -1;</div>
<div class="line">                }</div>
<div class="line"></div>
<div class="line">                IEnumEntry iGainAutoContinuous = iGainAuto.GetEntryByName(<span class="stringliteral">&quot;Continuous&quot;</span>);</div>
<div class="line">                <span class="keywordflow">if</span> (iGainAutoContinuous == null || !iGainAutoContinuous.IsReadable)</div>
<div class="line">                {</div>
<div class="line">                    PrintRetrieveNodeFailure(<span class="stringliteral">&quot;entry&quot;</span>, <span class="stringliteral">&quot;GainAuto Continuous&quot;</span>);</div>
<div class="line">                    <span class="keywordflow">return</span> -1;</div>
<div class="line">                }</div>
<div class="line"></div>
<div class="line">                iGainAuto.Value = iGainAutoContinuous.Value;</div>
<div class="line"></div>
<div class="line">                Console.WriteLine(<span class="stringliteral">&quot;Automatic gain enabled...\n&quot;</span>);</div>
<div class="line">            }</div>
<div class="line">            <span class="keywordflow">catch</span> (SpinnakerException ex)</div>
<div class="line">            {</div>
<div class="line">                Console.WriteLine(<span class="stringliteral">&quot;Error: {0}&quot;</span>, ex.Message);</div>
<div class="line">                result = -1;</div>
<div class="line">            }</div>
<div class="line"></div>
<div class="line">            <span class="keywordflow">return</span> result;</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        <span class="comment">// This function prints the device information of the camera from the</span></div>
<div class="line">        <span class="comment">// transport layer; please see NodeMapInfo_CSharp example for more</span></div>
<div class="line">        <span class="comment">// in-depth comments on printing device information from the nodemap.</span></div>
<div class="line">        <span class="keyword">static</span> <span class="keywordtype">int</span> PrintDeviceInfo(INodeMap nodeMap)</div>
<div class="line">        {</div>
<div class="line">            <span class="keywordtype">int</span> result = 0;</div>
<div class="line"></div>
<div class="line">            <span class="keywordflow">try</span></div>
<div class="line">            {</div>
<div class="line">                Console.WriteLine(<span class="stringliteral">&quot;\n*** DEVICE INFORMATION ***\n&quot;</span>);</div>
<div class="line"></div>
<div class="line">                ICategory category = nodeMap.GetNode&lt;ICategory&gt;(<span class="stringliteral">&quot;DeviceInformation&quot;</span>);</div>
<div class="line">                <span class="keywordflow">if</span> (category != null &amp;&amp; category.IsReadable)</div>
<div class="line">                {</div>
<div class="line">                    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; category.Children.Length; i++)</div>
<div class="line">                    {</div>
<div class="line">                        Console.WriteLine(</div>
<div class="line">                            <span class="stringliteral">&quot;{0}: {1}&quot;</span>,</div>
<div class="line">                            category.Children[i].Name,</div>
<div class="line">                            (category.Children[i].IsReadable ? category.Children[i].ToString()</div>
<div class="line">                             : <span class="stringliteral">&quot;Node not available&quot;</span>));</div>
<div class="line">                    }</div>
<div class="line">                    Console.WriteLine();</div>
<div class="line">                }</div>
<div class="line">                <span class="keywordflow">else</span></div>
<div class="line">                {</div>
<div class="line">                    Console.WriteLine(<span class="stringliteral">&quot;Device control information not available.&quot;</span>);</div>
<div class="line">                }</div>
<div class="line">            }</div>
<div class="line">            <span class="keywordflow">catch</span> (SpinnakerException ex)</div>
<div class="line">            {</div>
<div class="line">                Console.WriteLine(<span class="stringliteral">&quot;Error: {0}&quot;</span>, ex.Message);</div>
<div class="line">                result = -1;</div>
<div class="line">            }</div>
<div class="line"></div>
<div class="line">            <span class="keywordflow">return</span> result;</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        <span class="comment">// This function acquires and saves 10 images from a device; please see</span></div>
<div class="line">        <span class="comment">// Acquisition_CSharp example for more in-depth comments on the</span></div>
<div class="line">        <span class="comment">// acquisition of images.</span></div>
<div class="line">        <span class="keyword">static</span> <span class="keywordtype">int</span> AcquireImages(IManagedCamera cam, INodeMap nodeMap, INodeMap nodeMapTLDevice, ulong timeout)</div>
<div class="line">        {</div>
<div class="line">            <span class="keywordtype">int</span> result = 0;</div>
<div class="line"></div>
<div class="line">            Console.WriteLine(<span class="stringliteral">&quot;\n*** IMAGE ACQUISITION ***\n&quot;</span>);</div>
<div class="line"></div>
<div class="line">            <span class="keywordflow">try</span></div>
<div class="line">            {</div>
<div class="line">                <span class="comment">// Set acquisition mode to continuous</span></div>
<div class="line">                IEnum iAcquisitionMode = nodeMap.GetNode&lt;IEnum&gt;(<span class="stringliteral">&quot;AcquisitionMode&quot;</span>);</div>
<div class="line">                <span class="keywordflow">if</span> (iAcquisitionMode == null || !iAcquisitionMode.IsWritable)</div>
<div class="line">                {</div>
<div class="line">                    Console.WriteLine(<span class="stringliteral">&quot;Unable to set acquisition mode to continuous (node retrieval). Aborting...\n&quot;</span>);</div>
<div class="line">                    <span class="keywordflow">return</span> -1;</div>
<div class="line">                }</div>
<div class="line"></div>
<div class="line">                IEnumEntry iAcquisitionModeContinuous = iAcquisitionMode.GetEntryByName(<span class="stringliteral">&quot;Continuous&quot;</span>);</div>
<div class="line">                <span class="keywordflow">if</span> (iAcquisitionModeContinuous == null || !iAcquisitionMode.IsReadable)</div>
<div class="line">                {</div>
<div class="line">                    Console.WriteLine(</div>
<div class="line">                        <span class="stringliteral">&quot;Unable to set acquisition mode to continuous (enum entry retrieval). Aborting...\n&quot;</span>);</div>
<div class="line">                    <span class="keywordflow">return</span> -1;</div>
<div class="line">                }</div>
<div class="line"></div>
<div class="line">                iAcquisitionMode.Value = iAcquisitionModeContinuous.Symbolic;</div>
<div class="line"></div>
<div class="line">                Console.WriteLine(<span class="stringliteral">&quot;Acquisition mode set to continuous...&quot;</span>);</div>
<div class="line"></div>
<div class="line">                <span class="comment">// Begin acquiring images</span></div>
<div class="line">                cam.BeginAcquisition();</div>
<div class="line"></div>
<div class="line">                Console.WriteLine(<span class="stringliteral">&quot;Acquiring images...&quot;</span>);</div>
<div class="line"></div>
<div class="line">                <span class="comment">// Retrieve device serial number for filename</span></div>
<div class="line">                String deviceSerialNumber = <span class="stringliteral">&quot;&quot;</span>;</div>
<div class="line"></div>
<div class="line">                IString iDeviceSerialNumber = nodeMapTLDevice.GetNode&lt;IString&gt;(<span class="stringliteral">&quot;DeviceSerialNumber&quot;</span>);</div>
<div class="line">                <span class="keywordflow">if</span> (iDeviceSerialNumber != null &amp;&amp; iDeviceSerialNumber.IsReadable)</div>
<div class="line">                {</div>
<div class="line">                    deviceSerialNumber = iDeviceSerialNumber.Value;</div>
<div class="line"></div>
<div class="line">                    Console.WriteLine(<span class="stringliteral">&quot;Device serial number retrieved as {0}...&quot;</span>, deviceSerialNumber);</div>
<div class="line">                }</div>
<div class="line">                Console.WriteLine();</div>
<div class="line"></div>
<div class="line">                <span class="comment">// Retrieve, convert, and save images</span></div>
<div class="line">                <span class="keyword">const</span> <span class="keywordtype">int</span> NumImages = 10;</div>
<div class="line"></div>
<div class="line">                <span class="keywordflow">for</span> (<span class="keywordtype">int</span> imageCnt = 0; imageCnt &lt; NumImages; imageCnt++)</div>
<div class="line">                {</div>
<div class="line">                    <span class="keywordflow">try</span></div>
<div class="line">                    {</div>
<div class="line">                        <span class="comment">// Retrieve next received image and ensure image</span></div>
<div class="line">                        <span class="comment">// completion</span></div>
<div class="line">                        <span class="keyword">using</span>(IManagedImage rawImage = cam.GetNextImage(timeout))</div>
<div class="line">                        {</div>
<div class="line">                            <span class="keywordflow">if</span> (rawImage.IsIncomplete)</div>
<div class="line">                            {</div>
<div class="line">                                Console.WriteLine(<span class="stringliteral">&quot;Image incomplete with image status {0}...&quot;</span>, rawImage.ImageStatus);</div>
<div class="line">                            }</div>
<div class="line">                            <span class="keywordflow">else</span></div>
<div class="line">                            {</div>
<div class="line">                                <span class="comment">// Print image information</span></div>
<div class="line">                                Console.WriteLine(</div>
<div class="line">                                    <span class="stringliteral">&quot;Grabbed image {0}, width = {1}, height = {2}&quot;</span>,</div>
<div class="line">                                    imageCnt,</div>
<div class="line">                                    rawImage.Width,</div>
<div class="line">                                    rawImage.Height);</div>
<div class="line"></div>
<div class="line">                                <span class="comment">// Convert image to mono 8</span></div>
<div class="line">                                <span class="keyword">using</span>(IManagedImage convertedImage = rawImage.Convert(PixelFormatEnums.Mono8))</div>
<div class="line">                                {</div>
<div class="line">                                    <span class="comment">// Create unique file name</span></div>
<div class="line">                                    String filename = <span class="stringliteral">&quot;Sequencer-CSharp-&quot;</span>;</div>
<div class="line">                                    <span class="keywordflow">if</span> (deviceSerialNumber != <span class="stringliteral">&quot;&quot;</span>)</div>
<div class="line">                                    {</div>
<div class="line">                                        filename = filename + deviceSerialNumber + <span class="stringliteral">&quot;-&quot;</span>;</div>
<div class="line">                                    }</div>
<div class="line">                                    filename = filename + imageCnt + <span class="stringliteral">&quot;.jpg&quot;</span>;</div>
<div class="line"></div>
<div class="line">                                    <span class="comment">// Save image</span></div>
<div class="line">                                    convertedImage.Save(filename);</div>
<div class="line"></div>
<div class="line">                                    Console.WriteLine(<span class="stringliteral">&quot;Image saved at {0}\n&quot;</span>, filename);</div>
<div class="line">                                }</div>
<div class="line">                            }</div>
<div class="line">                        }</div>
<div class="line">                    }</div>
<div class="line">                    <span class="keywordflow">catch</span> (SpinnakerException ex)</div>
<div class="line">                    {</div>
<div class="line">                        Console.WriteLine(<span class="stringliteral">&quot;Error: {0}&quot;</span>, ex.Message);</div>
<div class="line">                        result = -1;</div>
<div class="line">                    }</div>
<div class="line">                }</div>
<div class="line"></div>
<div class="line">                <span class="comment">// End acquisition</span></div>
<div class="line">                cam.EndAcquisition();</div>
<div class="line">            }</div>
<div class="line">            <span class="keywordflow">catch</span> (SpinnakerException ex)</div>
<div class="line">            {</div>
<div class="line">                Console.WriteLine(<span class="stringliteral">&quot;Error: {0}&quot;</span>, ex.Message);</div>
<div class="line">                result = -1;</div>
<div class="line">            }</div>
<div class="line"></div>
<div class="line">            <span class="keywordflow">return</span> result;</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        <span class="comment">// This function acts very similarly to the RunSingleCamera() functions</span></div>
<div class="line">        <span class="comment">// of other examples, except that the values for the states are also</span></div>
<div class="line">        <span class="comment">// calculated here; please see NodeMapInfo_CSharp example for more</span></div>
<div class="line">        <span class="comment">// in-depth comments on setting up cameras.</span></div>
<div class="line">        <span class="keywordtype">int</span> RunSingleCamera(IManagedCamera cam)</div>
<div class="line">        {</div>
<div class="line">            <span class="keywordtype">int</span> result = 0;</div>
<div class="line">            <span class="keywordtype">int</span> err = 0;</div>
<div class="line"></div>
<div class="line">            <span class="keywordflow">try</span></div>
<div class="line">            {</div>
<div class="line">                <span class="comment">// Retrieve TL device nodemap and print device information</span></div>
<div class="line">                INodeMap nodeMapTLDevice = cam.GetTLDeviceNodeMap();</div>
<div class="line"></div>
<div class="line">                result = PrintDeviceInfo(nodeMapTLDevice);</div>
<div class="line"></div>
<div class="line">                <span class="comment">// Initialize camera</span></div>
<div class="line">                cam.Init();</div>
<div class="line"></div>
<div class="line">                <span class="comment">// Retrieve GenICam nodemap</span></div>
<div class="line">                INodeMap nodeMap = cam.GetNodeMap();</div>
<div class="line"></div>
<div class="line">                <span class="comment">// Configure sequencer to be ready to set sequences</span></div>
<div class="line">                err = ConfigureSequencerPartOne(nodeMap);</div>
<div class="line">                <span class="keywordflow">if</span> (err &lt; 0)</div>
<div class="line">                {</div>
<div class="line">                    <span class="keywordflow">return</span> err;</div>
<div class="line">                }</div>
<div class="line"></div>
<div class="line">                <span class="comment">//</span></div>
<div class="line">                <span class="comment">// Set states</span></div>
<div class="line">                <span class="comment">//</span></div>
<div class="line">                <span class="comment">// *** NOTES ***</span></div>
<div class="line">                <span class="comment">// In the following section, the sequencer values are</span></div>
<div class="line">                <span class="comment">// calculated. This section does not appear in the</span></div>
<div class="line">                <span class="comment">// configuration, as the values calculated are somewhat</span></div>
<div class="line">                <span class="comment">// arbitrary: width and height are both set to 25% of their</span></div>
<div class="line">                <span class="comment">// maximum values, incrementing by 10%; exposure time is set to</span></div>
<div class="line">                <span class="comment">// its minimum, also incrementing by 10% of its maximum; and</span></div>
<div class="line">                <span class="comment">// gain is set to its minimum, incrementing by 2% of its</span></div>
<div class="line">                <span class="comment">// maximum.</span></div>
<div class="line">                <span class="comment">//</span></div>
<div class="line">                <span class="keyword">const</span> <span class="keywordtype">int</span> NumSequences = 5;</div>
<div class="line"></div>
<div class="line">                <span class="comment">// Retrieve maximum width</span></div>
<div class="line">                IInteger iWidth = nodeMap.GetNode&lt;IInteger&gt;(<span class="stringliteral">&quot;Width&quot;</span>);</div>
<div class="line">                <span class="keywordflow">if</span> (iWidth == null || !iWidth.IsReadable)</div>
<div class="line">                {</div>
<div class="line">                    Console.WriteLine(<span class="stringliteral">&quot;Unable to retrieve maximum width. Aborting...\n&quot;</span>);</div>
<div class="line">                    <span class="keywordflow">return</span> -1;</div>
<div class="line">                }</div>
<div class="line"></div>
<div class="line">                <span class="keywordtype">long</span> widthMax = iWidth.Max;</div>
<div class="line"></div>
<div class="line">                <span class="comment">// Retrieve maximum height</span></div>
<div class="line">                IInteger iHeight = nodeMap.GetNode&lt;IInteger&gt;(<span class="stringliteral">&quot;Height&quot;</span>);</div>
<div class="line">                <span class="keywordflow">if</span> (iHeight == null || !iHeight.IsReadable)</div>
<div class="line">                {</div>
<div class="line">                    Console.WriteLine(<span class="stringliteral">&quot;Unable to retrieve maximum height. Aborting...\n&quot;</span>);</div>
<div class="line">                    <span class="keywordflow">return</span> -1;</div>
<div class="line">                }</div>
<div class="line"></div>
<div class="line">                <span class="keywordtype">long</span> heightMax = iHeight.Max;</div>
<div class="line"></div>
<div class="line">                <span class="comment">// Retrieve maximum exposure time</span></div>
<div class="line">                <span class="keyword">const</span> <span class="keywordtype">double</span> ExposureTimeMaxToSet = 2000000;</div>
<div class="line"></div>
<div class="line">                IFloat iExposureTime = nodeMap.GetNode&lt;IFloat&gt;(<span class="stringliteral">&quot;ExposureTime&quot;</span>);</div>
<div class="line">                <span class="keywordflow">if</span> (iExposureTime == null || !iExposureTime.IsReadable)</div>
<div class="line">                {</div>
<div class="line">                    Console.WriteLine(<span class="stringliteral">&quot;Unable to retrieve maximum exposure time. Aborting...\n&quot;</span>);</div>
<div class="line">                    <span class="keywordflow">return</span> -1;</div>
<div class="line">                }</div>
<div class="line"></div>
<div class="line">                <span class="keywordtype">double</span> exposureTimeMax = iExposureTime.Max;</div>
<div class="line"></div>
<div class="line">                <span class="keywordflow">if</span> (exposureTimeMax &gt; ExposureTimeMaxToSet)</div>
<div class="line">                {</div>
<div class="line">                    exposureTimeMax = ExposureTimeMaxToSet;</div>
<div class="line">                }</div>
<div class="line"></div>
<div class="line">                <span class="comment">// Retrieve maximum gain</span></div>
<div class="line">                IFloat iGain = nodeMap.GetNode&lt;IFloat&gt;(<span class="stringliteral">&quot;Gain&quot;</span>);</div>
<div class="line">                <span class="keywordflow">if</span> (iGain == null || !iGain.IsReadable)</div>
<div class="line">                {</div>
<div class="line">                    Console.WriteLine(<span class="stringliteral">&quot;Unable to retrieve maximum gain. Aborting...\n&quot;</span>);</div>
<div class="line">                    <span class="keywordflow">return</span> -1;</div>
<div class="line">                }</div>
<div class="line"></div>
<div class="line">                <span class="keywordtype">double</span> gainMax = iGain.Max;</div>
<div class="line"></div>
<div class="line">                <span class="comment">// Set initial values</span></div>
<div class="line">                <span class="keywordtype">long</span> widthToSet = widthMax / 4;</div>
<div class="line">                <span class="keywordtype">long</span> heightToSet = heightMax / 4;</div>
<div class="line">                <span class="keywordtype">double</span> exposureTimeToSet = iExposureTime.Min;</div>
<div class="line">                <span class="keywordtype">double</span> gainToSet = iGain.Min;</div>
<div class="line"></div>
<div class="line">                <span class="keywordflow">for</span> (<span class="keywordtype">int</span> sequenceNumber = 0; sequenceNumber &lt; NumSequences; sequenceNumber++)</div>
<div class="line">                {</div>
<div class="line">                    err = SetSingleSequence(</div>
<div class="line">                        nodeMap, sequenceNumber, widthToSet, heightToSet, exposureTimeToSet, gainToSet);</div>
<div class="line">                    <span class="keywordflow">if</span> (err &lt; 0)</div>
<div class="line">                    {</div>
<div class="line">                        <span class="keywordflow">return</span> err;</div>
<div class="line">                    }</div>
<div class="line"></div>
<div class="line">                    <span class="comment">// Increment values</span></div>
<div class="line">                    widthToSet += widthMax / 10;</div>
<div class="line">                    heightToSet += heightMax / 10;</div>
<div class="line">                    exposureTimeToSet += exposureTimeMax / 10.0;</div>
<div class="line">                    gainToSet += gainMax / 50.0;</div>
<div class="line">                }</div>
<div class="line"></div>
<div class="line">                <span class="comment">// Calculate appropriate acquisition grab timeout window based on exposure time</span></div>
<div class="line">                <span class="comment">// Note: exposureTimeToSet is in microseconds and needs to be converted to milliseconds</span></div>
<div class="line">                ulong timeout = ((ulong) exposureTimeToSet / 1000) + 1000;</div>
<div class="line"></div>
<div class="line">                <span class="comment">// Configure sequencer to acquire images</span></div>
<div class="line">                err = ConfigureSequencerPartTwo(nodeMap);</div>
<div class="line">                <span class="keywordflow">if</span> (err &lt; 0)</div>
<div class="line">                {</div>
<div class="line">                    <span class="keywordflow">return</span> err;</div>
<div class="line">                }</div>
<div class="line"></div>
<div class="line">                <span class="comment">// Acquire images</span></div>
<div class="line">                result = result | AcquireImages(cam, nodeMap, nodeMapTLDevice, timeout);</div>
<div class="line"></div>
<div class="line">                <span class="comment">// Reset sequencer</span></div>
<div class="line">                result = result | ResetSequencer(nodeMap);</div>
<div class="line"></div>
<div class="line">                <span class="comment">// Deinitialize camera</span></div>
<div class="line">                cam.DeInit();</div>
<div class="line">            }</div>
<div class="line">            <span class="keywordflow">catch</span> (SpinnakerException ex)</div>
<div class="line">            {</div>
<div class="line">                Console.WriteLine(<span class="stringliteral">&quot;Error: {0}&quot;</span>, ex.Message);</div>
<div class="line">                result = -1;</div>
<div class="line">            }</div>
<div class="line"></div>
<div class="line">            <span class="keywordflow">return</span> result;</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        <span class="comment">// Example entry point; please see Enumeration_CSharp example for more</span></div>
<div class="line">        <span class="comment">// in-depth comments on preparing and cleaning up the system.</span></div>
<div class="line">        <span class="keyword">static</span> <span class="keywordtype">int</span> Main(<span class="keywordtype">string</span>[] args)</div>
<div class="line">        {</div>
<div class="line">            <span class="keywordtype">int</span> result = 0;</div>
<div class="line"></div>
<div class="line">            Program program = <span class="keyword">new</span> Program();</div>
<div class="line"></div>
<div class="line">            <span class="comment">// Since this application saves images in the current folder</span></div>
<div class="line">            <span class="comment">// we must ensure that we have permission to write to this folder.</span></div>
<div class="line">            <span class="comment">// If we do not have permission, fail right away.</span></div>
<div class="line">            FileStream fileStream;</div>
<div class="line">            <span class="keywordflow">try</span></div>
<div class="line">            {</div>
<div class="line">                fileStream = <span class="keyword">new</span> FileStream(<span class="stringliteral">@&quot;test.txt&quot;</span>, FileMode.Create);</div>
<div class="line">                fileStream.Close();</div>
<div class="line">                File.Delete(<span class="stringliteral">&quot;test.txt&quot;</span>);</div>
<div class="line">            }</div>
<div class="line">            <span class="keywordflow">catch</span></div>
<div class="line">            {</div>
<div class="line">                Console.WriteLine(<span class="stringliteral">&quot;Failed to create file in current folder. Please check permissions.&quot;</span>);</div>
<div class="line">                Console.WriteLine(<span class="stringliteral">&quot;Press enter to exit...&quot;</span>);</div>
<div class="line">                Console.ReadLine();</div>
<div class="line">                <span class="keywordflow">return</span> -1;</div>
<div class="line">            }</div>
<div class="line"></div>
<div class="line">            <span class="comment">// Retrieve singleton reference to system object</span></div>
<div class="line">            ManagedSystem system = <span class="keyword">new</span> ManagedSystem();</div>
<div class="line"></div>
<div class="line">            <span class="comment">// Print out current library version</span></div>
<div class="line">            LibraryVersion spinVersion = system.GetLibraryVersion();</div>
<div class="line">            Console.WriteLine(</div>
<div class="line">                <span class="stringliteral">&quot;Spinnaker library version: {0}.{1}.{2}.{3}\n\n&quot;</span>,</div>
<div class="line">                spinVersion.major,</div>
<div class="line">                spinVersion.minor,</div>
<div class="line">                spinVersion.type,</div>
<div class="line">                spinVersion.build);</div>
<div class="line"></div>
<div class="line">            <span class="comment">// Retrieve list of cameras from the system</span></div>
<div class="line">            ManagedCameraList camList = system.GetCameras();</div>
<div class="line"></div>
<div class="line">            Console.WriteLine(<span class="stringliteral">&quot;Number of cameras detected: {0}\n\n&quot;</span>, camList.Count);</div>
<div class="line"></div>
<div class="line">            <span class="comment">// Finish if there are no cameras</span></div>
<div class="line">            <span class="keywordflow">if</span> (camList.Count == 0)</div>
<div class="line">            {</div>
<div class="line">                <span class="comment">// Clear camera list before releasing system</span></div>
<div class="line">                camList.Clear();</div>
<div class="line"></div>
<div class="line">                <span class="comment">// Release system</span></div>
<div class="line">                system.Dispose();</div>
<div class="line"></div>
<div class="line">                Console.WriteLine(<span class="stringliteral">&quot;Not enough cameras!&quot;</span>);</div>
<div class="line">                Console.WriteLine(<span class="stringliteral">&quot;Done! Press Enter to exit...&quot;</span>);</div>
<div class="line">                Console.ReadLine();</div>
<div class="line"></div>
<div class="line">                <span class="keywordflow">return</span> -1;</div>
<div class="line">            }</div>
<div class="line"></div>
<div class="line">            <span class="comment">// Run example on each camera</span></div>
<div class="line">            <span class="keywordtype">int</span> index = 0;</div>
<div class="line"></div>
<div class="line">            <span class="keywordflow">foreach</span>(IManagedCamera managedCamera <span class="keywordflow">in</span> camList) <span class="keyword">using</span>(managedCamera)</div>
<div class="line">            {</div>
<div class="line">                Console.WriteLine(<span class="stringliteral">&quot;Running example for camera {0}...&quot;</span>, index);</div>
<div class="line"></div>
<div class="line">                <span class="keywordflow">try</span></div>
<div class="line">                {</div>
<div class="line">                    <span class="comment">// Run example</span></div>
<div class="line">                    result = result | program.RunSingleCamera(managedCamera);</div>
<div class="line">                }</div>
<div class="line">                <span class="keywordflow">catch</span> (SpinnakerException ex)</div>
<div class="line">                {</div>
<div class="line">                    Console.WriteLine(<span class="stringliteral">&quot;Error: {0}&quot;</span>, ex.Message);</div>
<div class="line">                    result = -1;</div>
<div class="line">                }</div>
<div class="line"></div>
<div class="line">                Console.WriteLine(<span class="stringliteral">&quot;Camera {0} example complete...\n&quot;</span>, index++);</div>
<div class="line">            }</div>
<div class="line"></div>
<div class="line">            <span class="comment">// Clear camera list before releasing system</span></div>
<div class="line">            camList.Clear();</div>
<div class="line"></div>
<div class="line">            <span class="comment">// Release system</span></div>
<div class="line">            system.Dispose();</div>
<div class="line"></div>
<div class="line">            Console.WriteLine(<span class="stringliteral">&quot;\nDone! Press Enter to exit...&quot;</span>);</div>
<div class="line">            Console.ReadLine();</div>
<div class="line"></div>
<div class="line">            <span class="keywordflow">return</span> result;</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line">}</div>
</div><!-- fragment --> </div><!-- contents -->

  <table style="width: 100%;border-spacing: 0px 0px;border-left-style: solid;border-left-width: ;border-left-color: #8c8888;border-right-style: solid;border-right-width: ;border-right-color: #8c8888;border-top-style: solid;border-top-width: ;border-top-color: #8c8888;border-bottom-style: solid;border-bottom-width: ;border-bottom-color: #8c8888;margin-left: 0;margin-right: auto;padding: 0px">
    <col />
    <col />
    <col />
        <tbody>
            <tr>
                <td style="background-color: #8c8888;color: #ffffff;"><a class="footer" href="https://www.flir.com/support-center/rma/iis-support-request">Contact Support </a> </td>
                <td style="background-color: #8c8888;color: #ffffff;text-align: center;font-size: 16px;font-weight: bold">Spinnaker&#174; SDK Programmer's Guide and API Reference</td>
                <td style="background-color: #8c8888;color: #ffffff;text-align: right;"><address class="footer">
Wed Sep 30 2020 &#160;© <a class="footer" href="https://www.flir.com/iis/machine-vision">FLIR Integrated Imaging Solutions Inc. All rights reserved.</a></address></td>
            </tr>
        </tbody>
  </table>
</body>
</html>
