<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
  <title>Spinnaker Managed: Trigger_CSharp_QuickSpin.cs</title>
  <link href="tabs.css" rel="stylesheet" type="text/css"/>
  <script type="text/javascript" src="jquery.js"></script>
  <script type="text/javascript" src="dynsections.js"></script>
  <script type="text/javascript" src="ga.js"></script>
  <link href="stylesheet.css" rel="stylesheet" type="text/css" />
</head>
<body>
  <div id="top"><!-- do not remove this div! -->
  <div id="titlearea">
    <table cellspacing="0" cellpadding="0.9em" width="100%">
      <tbody>
        <tr style="height: 56px;">
          <td id="projectlogo" style="padding-left: 0.9em;text-align: left;background: #ffffff;background: linear-gradient(#002f86, #ffffff);color: #ffffff;" width="30%"><a href="https://www.flir.com/iis/machine-vision"><img alt="Logo" src="FLIR_Logo.png"/></a></td>
          <td style="padding-left: 0.5em;text-align: left;background: #002f86;background: linear-gradient(#002f86, #ffffff);color: #ffffff;" width="30%"><div id="projectname">Spinnaker Managed</div></td>
          <td style="padding-right: 0.9em;text-align: right;background: #002f86;background: linear-gradient(#002f86, #ffffff);color: #ffffff;" width="30%"><div id="projectname"><span id="projectnumber">2.0.0.0</span></td>
        </tr>
      </tbody>
    </table>
  </div>
<!-- Generated by Doxygen 1.8.5 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="examples.html"><span>Examples</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">Trigger_CSharp_QuickSpin.cs</div>  </div>
</div><!--header-->
<div class="contents">
<p>Trigger_CSharp_QuickSpin.cs shows how to capture images with the trigger using the QuickSpin API. QuickSpin is a subset of the Spinnaker library that allows for simpler node access and control.</p>
<p>This example demonstrates how to prepare, execute, and clean up the camera in regards to using both software and hardware triggers. Retrieving and setting node values using QuickSpin is the only portion of the example that differs from <a class="el" href="namespace_trigger___c_sharp.html">Trigger_CSharp</a>. </p>
<pre class="fragment">A much wider range of topics is covered in the full Spinnaker examples than
in the QuickSpin ones. There are only enough QuickSpin examples to
demonstrate node access and to get started with the API; please see full
Spinnaker examples for further or specific knowledge on a topic.</pre><div class="fragment"><div class="line"><span class="comment">//=============================================================================</span></div>
<div class="line"><span class="comment">// Copyright (c) 2001-2019 FLIR Systems, Inc. All Rights Reserved.</span></div>
<div class="line"><span class="comment">//</span></div>
<div class="line"><span class="comment">// This software is the confidential and proprietary information of FLIR</span></div>
<div class="line"><span class="comment">// Integrated Imaging Solutions, Inc. (&quot;Confidential Information&quot;). You</span></div>
<div class="line"><span class="comment">// shall not disclose such Confidential Information and shall use it only in</span></div>
<div class="line"><span class="comment">// accordance with the terms of the license agreement you entered into</span></div>
<div class="line"><span class="comment">// with FLIR Integrated Imaging Solutions, Inc. (FLIR).</span></div>
<div class="line"><span class="comment">//</span></div>
<div class="line"><span class="comment">// FLIR MAKES NO REPRESENTATIONS OR WARRANTIES ABOUT THE SUITABILITY OF THE</span></div>
<div class="line"><span class="comment">// SOFTWARE, EITHER EXPRESSED OR IMPLIED, INCLUDING, BUT NOT LIMITED TO, THE</span></div>
<div class="line"><span class="comment">// IMPLIED WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR</span></div>
<div class="line"><span class="comment">// PURPOSE, OR NON-INFRINGEMENT. FLIR SHALL NOT BE LIABLE FOR ANY DAMAGES</span></div>
<div class="line"><span class="comment">// SUFFERED BY LICENSEE AS A RESULT OF USING, MODIFYING OR DISTRIBUTING</span></div>
<div class="line"><span class="comment">// THIS SOFTWARE OR ITS DERIVATIVES.</span></div>
<div class="line"><span class="comment">//=============================================================================</span></div>
<div class="line"><span class="comment"></span><span class="keyword">using</span> System;</div>
<div class="line"><span class="keyword">using</span> System.Collections.Generic;</div>
<div class="line"><span class="keyword">using</span> SpinnakerNET;</div>
<div class="line"><span class="keyword">using</span> SpinnakerNET.GenApi;</div>
<div class="line"></div>
<div class="line"><span class="keyword">namespace </span>Trigger_CSharp_QuickSpin</div>
<div class="line">{</div>
<div class="line">    <span class="keyword">class </span>Program</div>
<div class="line">    {</div>
<div class="line">        <span class="comment">// Use the following enum and global static variable to select whether a</span></div>
<div class="line">        <span class="comment">// software or hardware trigger is used.</span></div>
<div class="line"></div>
<div class="line">        <span class="keyword">enum</span> triggerType</div>
<div class="line">        {</div>
<div class="line">            <a name="a0"></a><a class="code" href="class_trigger___c_sharp___quick_spin_1_1_program.html#a6262444fe2fb14f53ecfa121012410aca719d067b229178f03bcfa1da4ac4dede">Software</a>,</div>
<div class="line">            <a name="a1"></a><a class="code" href="class_trigger___c_sharp___quick_spin_1_1_program.html#a6262444fe2fb14f53ecfa121012410aca3c02a379965ab0dfcd77b1c484450433">Hardware</a></div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        <span class="keyword">static</span> triggerType chosenTrigger = triggerType.Software;</div>
<div class="line"></div>
<div class="line">        <span class="comment">// This function configures the camera to use a trigger. First, trigger</span></div>
<div class="line">        <span class="comment">// mode is ensured to be off in order to select the trigger source.</span></div>
<div class="line">        <span class="comment">// Trigger mode is then enabled, which has the camera capture only a</span></div>
<div class="line">        <span class="comment">// single image upon the execution of the chosen trigger.</span></div>
<div class="line">        <span class="keywordtype">int</span> ConfigureTrigger(IManagedCamera cam)</div>
<div class="line">        {</div>
<div class="line">            <span class="keywordtype">int</span> result = 0;</div>
<div class="line"></div>
<div class="line">            <span class="keywordflow">try</span></div>
<div class="line">            {</div>
<div class="line">                Console.WriteLine(<span class="stringliteral">&quot;\n\n*** CONFIGURING TRIGGER ***\n\n&quot;</span>);</div>
<div class="line"></div>
<div class="line">                Console.WriteLine(</div>
<div class="line">                    <span class="stringliteral">&quot;Note that if the application / user software triggers faster than frame time, the trigger may be dropped / skipped by the camera.&quot;</span>);</div>
<div class="line">                Console.WriteLine(</div>
<div class="line">                    <span class="stringliteral">&quot;If several frames are needed per trigger, a more reliable alternative for such case, is to use the multi-frame mode.\n&quot;</span>);</div>
<div class="line"></div>
<div class="line">                <span class="keywordflow">if</span> (chosenTrigger == triggerType.Software)</div>
<div class="line">                {</div>
<div class="line">                    Console.WriteLine(<span class="stringliteral">&quot;Software trigger chosen...\n&quot;</span>);</div>
<div class="line">                }</div>
<div class="line">                <span class="keywordflow">else</span> <span class="keywordflow">if</span> (chosenTrigger == triggerType.Hardware)</div>
<div class="line">                {</div>
<div class="line">                    Console.WriteLine(<span class="stringliteral">&quot;Hardware trigger chosen...\n&quot;</span>);</div>
<div class="line">                }</div>
<div class="line"></div>
<div class="line">                <span class="comment">//</span></div>
<div class="line">                <span class="comment">// Ensure trigger mode off</span></div>
<div class="line">                <span class="comment">//</span></div>
<div class="line">                <span class="comment">// *** NOTES ***</span></div>
<div class="line">                <span class="comment">// The trigger must be disabled in order to configure whether</span></div>
<div class="line">                <span class="comment">// the source is software or hardware.</span></div>
<div class="line">                <span class="comment">//</span></div>
<div class="line">                <span class="keywordflow">if</span> (cam.TriggerMode == null || !cam.TriggerMode.IsWritable)</div>
<div class="line">                {</div>
<div class="line">                    Console.WriteLine(<span class="stringliteral">&quot;Unable to disable trigger mode...\n&quot;</span>);</div>
<div class="line">                    <span class="keywordflow">return</span> -1;</div>
<div class="line">                }</div>
<div class="line"></div>
<div class="line">                cam.TriggerMode.Value = TriggerModeEnums.Off.ToString();</div>
<div class="line"></div>
<div class="line">                Console.WriteLine(<span class="stringliteral">&quot;Trigger mode disabled...&quot;</span>);</div>
<div class="line"></div>
<div class="line">                <span class="comment">//</span></div>
<div class="line">                <span class="comment">// Set TriggerSelector to FrameStart</span></div>
<div class="line">                <span class="comment">//</span></div>
<div class="line">                <span class="comment">// *** NOTES ***</span></div>
<div class="line">                <span class="comment">// For this example, the trigger selector should be set to frame start.</span></div>
<div class="line">                <span class="comment">// This is the default for most cameras.</span></div>
<div class="line">                <span class="comment">//</span></div>
<div class="line">                <span class="keywordflow">if</span> (cam.TriggerSelector == null || !cam.TriggerSelector.IsWritable)</div>
<div class="line">                {</div>
<div class="line">                    Console.WriteLine(<span class="stringliteral">&quot;Unable to set trigger selector...\n&quot;</span>);</div>
<div class="line">                    <span class="keywordflow">return</span> -1;</div>
<div class="line">                }</div>
<div class="line"></div>
<div class="line">                cam.TriggerSelector.Value = TriggerSelectorEnums.FrameStart.ToString();</div>
<div class="line"></div>
<div class="line">                Console.WriteLine(<span class="stringliteral">&quot;Trigger selector set to frame start...&quot;</span>);</div>
<div class="line"></div>
<div class="line">                <span class="comment">//</span></div>
<div class="line">                <span class="comment">// Select trigger source</span></div>
<div class="line">                <span class="comment">//</span></div>
<div class="line">                <span class="comment">// *** NOTES ***</span></div>
<div class="line">                <span class="comment">// The trigger source must be set to hardware or software while</span></div>
<div class="line">                <span class="comment">// trigger mode is off.</span></div>
<div class="line">                <span class="comment">//</span></div>
<div class="line">                <span class="keywordflow">if</span> (chosenTrigger == triggerType.Software)</div>
<div class="line">                {</div>
<div class="line">                    <span class="comment">// Set trigger mode to software</span></div>
<div class="line">                    <span class="keywordflow">if</span> (cam.TriggerSource == null || !cam.TriggerSource.IsWritable)</div>
<div class="line">                    {</div>
<div class="line">                        Console.WriteLine(<span class="stringliteral">&quot;Unable to set trigger source...\n&quot;</span>);</div>
<div class="line">                        <span class="keywordflow">return</span> -1;</div>
<div class="line">                    }</div>
<div class="line"></div>
<div class="line">                    cam.TriggerSource.Value = TriggerSourceEnums.Software.ToString();</div>
<div class="line"></div>
<div class="line">                    Console.WriteLine(<span class="stringliteral">&quot;Trigger source set to software...&quot;</span>);</div>
<div class="line">                }</div>
<div class="line">                <span class="keywordflow">else</span> <span class="keywordflow">if</span> (chosenTrigger == triggerType.Hardware)</div>
<div class="line">                {</div>
<div class="line">                    <span class="comment">// Set trigger mode to hardware (&#39;Line0&#39;)</span></div>
<div class="line">                    <span class="keywordflow">if</span> (cam.TriggerSource == null || !cam.TriggerSource.IsWritable)</div>
<div class="line">                    {</div>
<div class="line">                        Console.WriteLine(<span class="stringliteral">&quot;Unable to set trigger source...\n&quot;</span>);</div>
<div class="line">                        <span class="keywordflow">return</span> -1;</div>
<div class="line">                    }</div>
<div class="line"></div>
<div class="line">                    cam.TriggerSource.Value = TriggerSourceEnums.Line0.ToString();</div>
<div class="line"></div>
<div class="line">                    Console.WriteLine(<span class="stringliteral">&quot;Trigger source set to hardware...&quot;</span>);</div>
<div class="line">                }</div>
<div class="line"></div>
<div class="line">                <span class="comment">//</span></div>
<div class="line">                <span class="comment">// Turn trigger mode on</span></div>
<div class="line">                <span class="comment">//</span></div>
<div class="line">                <span class="comment">// *** LATER ***</span></div>
<div class="line">                <span class="comment">// Once the appropriate trigger source has been set, turn</span></div>
<div class="line">                <span class="comment">// trigger mode back on in order to retrieve images using the</span></div>
<div class="line">                <span class="comment">// trigger.</span></div>
<div class="line">                <span class="comment">//</span></div>
<div class="line">                <span class="keywordflow">if</span> (cam.TriggerMode == null || !cam.TriggerMode.IsWritable)</div>
<div class="line">                {</div>
<div class="line">                    Console.WriteLine(<span class="stringliteral">&quot;Unable to enable trigger mode...\n&quot;</span>);</div>
<div class="line">                    <span class="keywordflow">return</span> -1;</div>
<div class="line">                }</div>
<div class="line"></div>
<div class="line">                cam.TriggerMode.Value = TriggerModeEnums.On.ToString();</div>
<div class="line"></div>
<div class="line">                Console.WriteLine(<span class="stringliteral">&quot;Trigger mode enabled...&quot;</span>);</div>
<div class="line">            }</div>
<div class="line">            <span class="keywordflow">catch</span> (SpinnakerException ex)</div>
<div class="line">            {</div>
<div class="line">                Console.WriteLine(<span class="stringliteral">&quot;Error: {0}&quot;</span>, ex.Message);</div>
<div class="line">                result = -1;</div>
<div class="line">            }</div>
<div class="line"></div>
<div class="line">            <span class="keywordflow">return</span> result;</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        <span class="comment">// This function retrieves a single image using the trigger. In this</span></div>
<div class="line">        <span class="comment">// example, only a single image is captured and made available for</span></div>
<div class="line">        <span class="comment">// acquisition - as such, attempting to acquire two images for a single</span></div>
<div class="line">        <span class="comment">// trigger execution would cause the example to hang. This is different</span></div>
<div class="line">        <span class="comment">// from other examples, whereby a constant stream of images are being</span></div>
<div class="line">        <span class="comment">// captured and made available for image acquisition.</span></div>
<div class="line">        <span class="keywordtype">int</span> GrabNextImageByTrigger(IManagedCamera cam)</div>
<div class="line">        {</div>
<div class="line">            <span class="keywordtype">int</span> result = 0;</div>
<div class="line"></div>
<div class="line">            <span class="keywordflow">try</span></div>
<div class="line">            {</div>
<div class="line">                <span class="comment">//</span></div>
<div class="line">                <span class="comment">// Use trigger to capture image</span></div>
<div class="line">                <span class="comment">//</span></div>
<div class="line">                <span class="comment">// *** NOTES ***</span></div>
<div class="line">                <span class="comment">// The software trigger only feigns being executed by the Enter</span></div>
<div class="line">                <span class="comment">// key; what might not be immediately apparent is that there is</span></div>
<div class="line">                <span class="comment">// no continuous stream of images being captured; in other</span></div>
<div class="line">                <span class="comment">// examples that acquire images, the camera captures a continuous</span></div>
<div class="line">                <span class="comment">// stream of images. When an image is then retrieved, it is</span></div>
<div class="line">                <span class="comment">// plucked from the stream; there are many more images captured</span></div>
<div class="line">                <span class="comment">// than retrieved. However, while trigger mode is activated,</span></div>
<div class="line">                <span class="comment">// there is only a single image captured at the time that the</span></div>
<div class="line">                <span class="comment">// trigger is activated.</span></div>
<div class="line">                <span class="comment">//</span></div>
<div class="line">                <span class="keywordflow">if</span> (chosenTrigger == triggerType.Software)</div>
<div class="line">                {</div>
<div class="line">                    <span class="comment">// Get user input</span></div>
<div class="line">                    Console.WriteLine(<span class="stringliteral">&quot;Press the Enter key to initiate software trigger.&quot;</span>);</div>
<div class="line">                    Console.ReadLine();</div>
<div class="line"></div>
<div class="line">                    <span class="comment">// Execute software trigger</span></div>
<div class="line">                    <span class="keywordflow">if</span> (cam.TriggerSoftware == null || !cam.TriggerSoftware.IsWritable)</div>
<div class="line">                    {</div>
<div class="line">                        Console.WriteLine(<span class="stringliteral">&quot;Unable to execute software trigger...\n&quot;</span>);</div>
<div class="line">                        <span class="keywordflow">return</span> -1;</div>
<div class="line">                    }</div>
<div class="line"></div>
<div class="line">                    cam.TriggerSoftware.Execute();</div>
<div class="line">                }</div>
<div class="line">                <span class="keywordflow">else</span> <span class="keywordflow">if</span> (chosenTrigger == triggerType.Hardware)</div>
<div class="line">                {</div>
<div class="line">                    <span class="comment">// Execute hardware trigger</span></div>
<div class="line">                    Console.WriteLine(<span class="stringliteral">&quot;Use the hardware to trigger image acquisition.&quot;</span>);</div>
<div class="line">                }</div>
<div class="line">            }</div>
<div class="line">            <span class="keywordflow">catch</span> (SpinnakerException ex)</div>
<div class="line">            {</div>
<div class="line">                Console.WriteLine(<span class="stringliteral">&quot;Error: {0}&quot;</span>, ex.Message);</div>
<div class="line">                result = -1;</div>
<div class="line">            }</div>
<div class="line"></div>
<div class="line">            <span class="keywordflow">return</span> result;</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        <span class="comment">// This function returns the camera to a normal state by turning off</span></div>
<div class="line">        <span class="comment">// trigger mode.</span></div>
<div class="line">        <span class="keywordtype">int</span> ResetTrigger(IManagedCamera cam)</div>
<div class="line">        {</div>
<div class="line">            <span class="keywordtype">int</span> result = 0;</div>
<div class="line"></div>
<div class="line">            <span class="keywordflow">try</span></div>
<div class="line">            {</div>
<div class="line">                <span class="comment">//</span></div>
<div class="line">                <span class="comment">// Turn trigger mode back off</span></div>
<div class="line">                <span class="comment">//</span></div>
<div class="line">                <span class="comment">// *** NOTES ***</span></div>
<div class="line">                <span class="comment">// Once all images have been captured, it is important to turn</span></div>
<div class="line">                <span class="comment">// trigger mode back off to restore the camera to a clean state.</span></div>
<div class="line">                <span class="comment">//</span></div>
<div class="line">                <span class="keywordflow">if</span> (cam.TriggerMode == null || !cam.TriggerMode.IsWritable)</div>
<div class="line">                {</div>
<div class="line">                    Console.WriteLine(<span class="stringliteral">&quot;Unable to disable trigger mode...\n&quot;</span>);</div>
<div class="line">                    <span class="keywordflow">return</span> -1;</div>
<div class="line">                }</div>
<div class="line"></div>
<div class="line">                cam.TriggerMode.Value = TriggerModeEnums.Off.ToString();</div>
<div class="line"></div>
<div class="line">                Console.WriteLine(<span class="stringliteral">&quot;Trigger mode disabled...\n&quot;</span>);</div>
<div class="line">            }</div>
<div class="line">            <span class="keywordflow">catch</span> (SpinnakerException ex)</div>
<div class="line">            {</div>
<div class="line">                Console.WriteLine(<span class="stringliteral">&quot;Error: {0}&quot;</span>, ex.Message);</div>
<div class="line">                result = -1;</div>
<div class="line">            }</div>
<div class="line"></div>
<div class="line">            <span class="keywordflow">return</span> result;</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        <span class="comment">// This function prints the device information of the camera from the</span></div>
<div class="line">        <span class="comment">// transport layer; please see NodeMapInfo_CSharp example for more</span></div>
<div class="line">        <span class="comment">// in-depth comments on printing device information from the nodemap.</span></div>
<div class="line">        <span class="keyword">static</span> <span class="keywordtype">int</span> PrintDeviceInfo(IManagedCamera cam)</div>
<div class="line">        {</div>
<div class="line">            <span class="keywordtype">int</span> result = 0;</div>
<div class="line"></div>
<div class="line">            <span class="keywordflow">try</span></div>
<div class="line">            {</div>
<div class="line">                Console.WriteLine(<span class="stringliteral">&quot;\n*** DEVICE INFORMATION ***\n&quot;</span>);</div>
<div class="line"></div>
<div class="line">                INodeMap nodeMap = cam.GetTLDeviceNodeMap();</div>
<div class="line"></div>
<div class="line">                ICategory category = nodeMap.GetNode&lt;ICategory&gt;(<span class="stringliteral">&quot;DeviceInformation&quot;</span>);</div>
<div class="line">                <span class="keywordflow">if</span> (category != null &amp;&amp; category.IsReadable)</div>
<div class="line">                {</div>
<div class="line">                    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; category.Children.Length; i++)</div>
<div class="line">                    {</div>
<div class="line">                        Console.WriteLine(</div>
<div class="line">                            <span class="stringliteral">&quot;{0}: {1}&quot;</span>,</div>
<div class="line">                            category.Children[i].Name,</div>
<div class="line">                            (category.Children[i].IsReadable ? category.Children[i].ToString()</div>
<div class="line">                             : <span class="stringliteral">&quot;Node not available&quot;</span>));</div>
<div class="line">                    }</div>
<div class="line">                    Console.WriteLine();</div>
<div class="line">                }</div>
<div class="line">                <span class="keywordflow">else</span></div>
<div class="line">                {</div>
<div class="line">                    Console.WriteLine(<span class="stringliteral">&quot;Device control information not available.&quot;</span>);</div>
<div class="line">                }</div>
<div class="line">            }</div>
<div class="line">            <span class="keywordflow">catch</span> (SpinnakerException ex)</div>
<div class="line">            {</div>
<div class="line">                Console.WriteLine(<span class="stringliteral">&quot;Error: {0}&quot;</span>, ex.Message);</div>
<div class="line">                result = -1;</div>
<div class="line">            }</div>
<div class="line"></div>
<div class="line">            <span class="keywordflow">return</span> result;</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        <span class="comment">// This function acquires and saves 10 images from a device; please see</span></div>
<div class="line">        <span class="comment">// Acquisition_CSharp example for more in-depth comments on the</span></div>
<div class="line">        <span class="comment">// acquisition of images.</span></div>
<div class="line">        <span class="keywordtype">int</span> AcquireImages(IManagedCamera cam)</div>
<div class="line">        {</div>
<div class="line">            <span class="keywordtype">int</span> result = 0;</div>
<div class="line"></div>
<div class="line">            Console.WriteLine(<span class="stringliteral">&quot;\n*** IMAGE ACQUISITION ***\n&quot;</span>);</div>
<div class="line"></div>
<div class="line">            <span class="keywordflow">try</span></div>
<div class="line">            {</div>
<div class="line">                <span class="comment">// Set acquisition mode to continuous</span></div>
<div class="line">                <span class="keywordflow">if</span> (cam.AcquisitionMode == null || !cam.AcquisitionMode.IsWritable)</div>
<div class="line">                {</div>
<div class="line">                    Console.WriteLine(<span class="stringliteral">&quot;Unable to set acquisition mode to continuous. Aborting...\n&quot;</span>);</div>
<div class="line">                    <span class="keywordflow">return</span> -1;</div>
<div class="line">                }</div>
<div class="line"></div>
<div class="line">                cam.AcquisitionMode.Value = AcquisitionModeEnums.Continuous.ToString();</div>
<div class="line"></div>
<div class="line">                Console.WriteLine(<span class="stringliteral">&quot;Acquisition mode set to continuous...&quot;</span>);</div>
<div class="line"></div>
<div class="line">                <span class="comment">// Begin acquiring images</span></div>
<div class="line">                cam.BeginAcquisition();</div>
<div class="line"></div>
<div class="line">                Console.WriteLine(<span class="stringliteral">&quot;Acquiring images...&quot;</span>);</div>
<div class="line"></div>
<div class="line">                <span class="comment">// Retrieve device serial number for filename</span></div>
<div class="line">                String deviceSerialNumber = <span class="stringliteral">&quot;&quot;</span>;</div>
<div class="line"></div>
<div class="line">                <span class="keywordflow">if</span> (cam.TLDevice.DeviceSerialNumber != null || cam.TLDevice.DeviceSerialNumber.IsReadable)</div>
<div class="line">                {</div>
<div class="line">                    deviceSerialNumber = cam.TLDevice.DeviceSerialNumber.Value;</div>
<div class="line"></div>
<div class="line">                    Console.WriteLine(<span class="stringliteral">&quot;Device serial number retrieved as {0}...&quot;</span>, deviceSerialNumber);</div>
<div class="line">                }</div>
<div class="line">                Console.WriteLine();</div>
<div class="line"></div>
<div class="line">                <span class="comment">// Retrieve, convert, and save images</span></div>
<div class="line">                <span class="keyword">const</span> <span class="keywordtype">int</span> NumImages = 10;</div>
<div class="line"></div>
<div class="line">                <span class="keywordflow">for</span> (<span class="keywordtype">int</span> imageCnt = 0; imageCnt &lt; NumImages; imageCnt++)</div>
<div class="line">                {</div>
<div class="line">                    <span class="keywordflow">try</span></div>
<div class="line">                    {</div>
<div class="line">                        <span class="comment">// Retrieve next received image and ensure image completion</span></div>
<div class="line">                        result = result | GrabNextImageByTrigger(cam);</div>
<div class="line"></div>
<div class="line">                        <span class="keyword">using</span>(IManagedImage rawImage = cam.GetNextImage(1000))</div>
<div class="line">                        {</div>
<div class="line">                            <span class="keywordflow">if</span> (rawImage.IsIncomplete)</div>
<div class="line">                            {</div>
<div class="line">                                Console.WriteLine(<span class="stringliteral">&quot;Image incomplete with image status {0}...&quot;</span>, rawImage.ImageStatus);</div>
<div class="line">                            }</div>
<div class="line">                            <span class="keywordflow">else</span></div>
<div class="line">                            {</div>
<div class="line">                                <span class="comment">// Print image information</span></div>
<div class="line">                                Console.WriteLine(</div>
<div class="line">                                    <span class="stringliteral">&quot;Grabbed image {0}, width = {1}, height = {1}&quot;</span>,</div>
<div class="line">                                    imageCnt,</div>
<div class="line">                                    rawImage.Width,</div>
<div class="line">                                    rawImage.Height);</div>
<div class="line"></div>
<div class="line">                                <span class="comment">// Convert image to mono 8</span></div>
<div class="line">                                <span class="keyword">using</span>(IManagedImage convertedImage = rawImage.Convert(PixelFormatEnums.Mono8))</div>
<div class="line">                                {</div>
<div class="line">                                    <span class="comment">// Create unique file name</span></div>
<div class="line">                                    String filename = <span class="stringliteral">&quot;TriggerQS-CSharp-&quot;</span>;</div>
<div class="line">                                    <span class="keywordflow">if</span> (deviceSerialNumber != <span class="stringliteral">&quot;&quot;</span>)</div>
<div class="line">                                    {</div>
<div class="line">                                        filename = filename + deviceSerialNumber + <span class="stringliteral">&quot;-&quot;</span>;</div>
<div class="line">                                    }</div>
<div class="line">                                    filename = filename + imageCnt + <span class="stringliteral">&quot;.jpg&quot;</span>;</div>
<div class="line"></div>
<div class="line">                                    <span class="comment">// Save image</span></div>
<div class="line">                                    convertedImage.Save(filename);</div>
<div class="line"></div>
<div class="line">                                    Console.WriteLine(<span class="stringliteral">&quot;Image saved at {0}\n&quot;</span>, filename);</div>
<div class="line">                                }</div>
<div class="line">                            }</div>
<div class="line">                        }</div>
<div class="line">                    }</div>
<div class="line">                    <span class="keywordflow">catch</span> (SpinnakerException ex)</div>
<div class="line">                    {</div>
<div class="line">                        Console.WriteLine(<span class="stringliteral">&quot;Error: {0}&quot;</span>, ex.Message);</div>
<div class="line">                        result = -1;</div>
<div class="line">                    }</div>
<div class="line">                }</div>
<div class="line"></div>
<div class="line">                <span class="comment">// End acquisition</span></div>
<div class="line">                cam.EndAcquisition();</div>
<div class="line">            }</div>
<div class="line">            <span class="keywordflow">catch</span> (SpinnakerException ex)</div>
<div class="line">            {</div>
<div class="line">                Console.WriteLine(<span class="stringliteral">&quot;Error: {0}&quot;</span>, ex.Message);</div>
<div class="line">                result = -1;</div>
<div class="line">            }</div>
<div class="line"></div>
<div class="line">            <span class="keywordflow">return</span> result;</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        <span class="comment">// This function acts as the body of the example; please see</span></div>
<div class="line">        <span class="comment">// NodeMapInfo_CSharp_QuickSpin example for more in-depth comments on</span></div>
<div class="line">        <span class="comment">// setting up cameras.</span></div>
<div class="line">        <span class="keywordtype">int</span> RunSingleCamera(IManagedCamera cam)</div>
<div class="line">        {</div>
<div class="line">            <span class="keywordtype">int</span> result = 0;</div>
<div class="line">            <span class="keywordtype">int</span> err = 0;</div>
<div class="line"></div>
<div class="line">            <span class="keywordflow">try</span></div>
<div class="line">            {</div>
<div class="line">                <span class="comment">// Initialize camera</span></div>
<div class="line">                cam.Init();</div>
<div class="line"></div>
<div class="line">                <span class="comment">// Print device information</span></div>
<div class="line">                result = PrintDeviceInfo(cam);</div>
<div class="line"></div>
<div class="line">                <span class="comment">// Configure trigger</span></div>
<div class="line">                err = ConfigureTrigger(cam);</div>
<div class="line">                <span class="keywordflow">if</span> (err &lt; 0)</div>
<div class="line">                {</div>
<div class="line">                    <span class="keywordflow">return</span> err;</div>
<div class="line">                }</div>
<div class="line"></div>
<div class="line">                <span class="comment">// Acquire images</span></div>
<div class="line">                result = result | AcquireImages(cam);</div>
<div class="line"></div>
<div class="line">                <span class="comment">// Reset trigger</span></div>
<div class="line">                result = result | ResetTrigger(cam);</div>
<div class="line"></div>
<div class="line">                <span class="comment">// Deinitialize camera</span></div>
<div class="line">                cam.DeInit();</div>
<div class="line">            }</div>
<div class="line">            <span class="keywordflow">catch</span> (SpinnakerException ex)</div>
<div class="line">            {</div>
<div class="line">                Console.WriteLine(<span class="stringliteral">&quot;Error: {0}&quot;</span>, ex.Message);</div>
<div class="line">                result = -1;</div>
<div class="line">            }</div>
<div class="line"></div>
<div class="line">            <span class="keywordflow">return</span> result;</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        <span class="comment">// Example entry point; please see Enumeration_CSharp_QuickSpin</span></div>
<div class="line">        <span class="comment">// example for more in-depth comments on preparing and cleaning up</span></div>
<div class="line">        <span class="comment">// the system.</span></div>
<div class="line">        <span class="keyword">static</span> <span class="keywordtype">int</span> Main(<span class="keywordtype">string</span>[] args)</div>
<div class="line">        {</div>
<div class="line">            <span class="keywordtype">int</span> result = 0;</div>
<div class="line"></div>
<div class="line">            Program program = <span class="keyword">new</span> Program();</div>
<div class="line"></div>
<div class="line">            <span class="comment">// Retrieve singleton reference to system object</span></div>
<div class="line">            ManagedSystem system = <span class="keyword">new</span> ManagedSystem();</div>
<div class="line"></div>
<div class="line">            <span class="comment">// Print out current library version</span></div>
<div class="line">            LibraryVersion spinVersion = system.GetLibraryVersion();</div>
<div class="line">            Console.WriteLine(</div>
<div class="line">                <span class="stringliteral">&quot;Spinnaker library version: {0}.{1}.{2}.{3}\n\n&quot;</span>,</div>
<div class="line">                spinVersion.major,</div>
<div class="line">                spinVersion.minor,</div>
<div class="line">                spinVersion.type,</div>
<div class="line">                spinVersion.build);</div>
<div class="line"></div>
<div class="line">            <span class="comment">// Retrieve list of cameras from the system</span></div>
<div class="line">            ManagedCameraList camList = system.GetCameras();</div>
<div class="line"></div>
<div class="line">            Console.WriteLine(<span class="stringliteral">&quot;Number of cameras detected: {0}\n\n&quot;</span>, camList.Count);</div>
<div class="line"></div>
<div class="line">            <span class="comment">// Finish if there are no cameras</span></div>
<div class="line">            <span class="keywordflow">if</span> (camList.Count == 0)</div>
<div class="line">            {</div>
<div class="line">                <span class="comment">// Clear camera list before releasing system</span></div>
<div class="line">                camList.Clear();</div>
<div class="line"></div>
<div class="line">                <span class="comment">// Release system</span></div>
<div class="line">                system.Dispose();</div>
<div class="line"></div>
<div class="line">                Console.WriteLine(<span class="stringliteral">&quot;Not enough cameras!&quot;</span>);</div>
<div class="line">                Console.WriteLine(<span class="stringliteral">&quot;Done! Press Enter to exit...&quot;</span>);</div>
<div class="line">                Console.ReadLine();</div>
<div class="line"></div>
<div class="line">                <span class="keywordflow">return</span> -1;</div>
<div class="line">            }</div>
<div class="line"></div>
<div class="line">            <span class="comment">// Run example on each camera</span></div>
<div class="line">            <span class="keywordtype">int</span> index = 0;</div>
<div class="line"></div>
<div class="line">            <span class="keywordflow">foreach</span>(IManagedCamera managedCamera <span class="keywordflow">in</span> camList) <span class="keyword">using</span>(managedCamera)</div>
<div class="line">            {</div>
<div class="line">                Console.WriteLine(<span class="stringliteral">&quot;Running example for camera {0}...&quot;</span>, index);</div>
<div class="line"></div>
<div class="line">                <span class="keywordflow">try</span></div>
<div class="line">                {</div>
<div class="line">                    <span class="comment">// Run example</span></div>
<div class="line">                    result = result | program.RunSingleCamera(managedCamera);</div>
<div class="line">                }</div>
<div class="line">                <span class="keywordflow">catch</span> (SpinnakerException ex)</div>
<div class="line">                {</div>
<div class="line">                    Console.WriteLine(<span class="stringliteral">&quot;Error: {0}&quot;</span>, ex.Message);</div>
<div class="line">                    result = -1;</div>
<div class="line">                }</div>
<div class="line"></div>
<div class="line">                Console.WriteLine(<span class="stringliteral">&quot;Camera {0} example complete...\n&quot;</span>, index++);</div>
<div class="line">            }</div>
<div class="line"></div>
<div class="line">            <span class="comment">// Clear camera list before releasing system</span></div>
<div class="line">            camList.Clear();</div>
<div class="line"></div>
<div class="line">            <span class="comment">// Release system</span></div>
<div class="line">            system.Dispose();</div>
<div class="line"></div>
<div class="line">            Console.WriteLine(<span class="stringliteral">&quot;\nDone! Press Enter to exit...&quot;</span>);</div>
<div class="line">            Console.ReadLine();</div>
<div class="line"></div>
<div class="line">            <span class="keywordflow">return</span> result;</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line">}</div>
</div><!-- fragment --> </div><!-- contents -->

  <table style="width: 100%;border-spacing: 0px 0px;border-left-style: solid;border-left-width: ;border-left-color: #8c8888;border-right-style: solid;border-right-width: ;border-right-color: #8c8888;border-top-style: solid;border-top-width: ;border-top-color: #8c8888;border-bottom-style: solid;border-bottom-width: ;border-bottom-color: #8c8888;margin-left: 0;margin-right: auto;padding: 0px">
    <col />
    <col />
    <col />
        <tbody>
            <tr>
                <td style="background-color: #8c8888;color: #ffffff;"><a class="footer" href="https://www.flir.com/support-center/rma/iis-support-request">Contact Support </a> </td>
                <td style="background-color: #8c8888;color: #ffffff;text-align: center;font-size: 16px;font-weight: bold">Spinnaker&#174; SDK Programmer's Guide and API Reference</td>
                <td style="background-color: #8c8888;color: #ffffff;text-align: right;"><address class="footer">
Wed Sep 30 2020 &#160;© <a class="footer" href="https://www.flir.com/iis/machine-vision">FLIR Integrated Imaging Solutions Inc. All rights reserved.</a></address></td>
            </tr>
        </tbody>
  </table>
</body>
</html>
